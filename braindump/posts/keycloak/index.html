<!DOCTYPE html>
<html><title>keycloak</title>


<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="google-site-verification" content="bLmaFyyXugiCqSup-eIIIx0B4CngtdF_svyMMKQbS5E" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=10, minimum-scale=0.5, user-scalable=yes">
<meta name="apple-mobile-web-app-capable" content="yes" />
<script src="https://hypothes.is/embed.js" async></script>


<link rel="stylesheet" href="/braindump/css/main.min.56b43bcbc759a196f9dd525bee62bdec45a29ba95902bbab74a4f7ad2ea3e8cb.css"/>

<link rel="stylesheet" href="/braindump/css/links.min.4bf1990b213fb76d2a66153dc6ef9a57d49f536c6baf6e7f19a7948470a38141.css"/>

<link rel="stylesheet" href="/braindump/css/konubinix.min.cf2d0f36945178c647979ee68f1830892e06aa3d481d8913728b5c7462b97f6e.css"/>

<link rel="stylesheet" href="/ipfs/QmQFVQS89fv1XUNFcjwCKDePzckuT9kpuAVNYUwNdEfYcv/css/all.css"/>
<link rel="shortcut icon" href="/ipfs/QmVFwYV7YRZLKU3ybN1hW4jqfyZGPLKJwd8toN2wHz5UAD?a.png" type="image/x-icon" />

<body><header>
  <div>
	<a href="/braindump//"><h5 class="site-title">Konubinix&#39; opinionated web of thoughts</h5></a>
  </div>
  <span>
	<a href="/blog/"><i class="icon fas fa-blog"></i></a>
	<a href="/braindump/posts/"><i class="icon fas fa-brain"></i></a>
    <a href="mailto:konubinixweb@gmail.com"><i class="icon fas fa-envelope-square"></i></a>
    <a href="https://github.com/konubinix"><i class="icon fab fa-github-square"></i></a>
    <a href="https://linkedin.com/in/samuel-loury-61259040"><i class="icon fab fa-linkedin"></i></a>
	<a href="/braindump/graph.html"><i class="icon fas fa-project-diagram"></i></a>
	<a href="/braindump/index.xml"><i class="icon fas fa-rss-square"></i></a>
	<a href="/braindump/tags/"><i class="icon fa fa-tag"></i></a>
	<a href="/braindump/braindump_search"><i class="icon fa fa-search"></i></a>
  </span>
</header>

<div class="grid-container">
  <div class="grid">
    <div class="page" data-level="1">
      <div class="content">
		<p class="lead">
        <h1>Keycloak</h1>
		<span class="badge badge-pill badge-warning"><a href="/braindump/tags/fleeting/">Fleeting</a></span></p>
        <ul>
<li>Référence externe : <a href="https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/user-federation.html">https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/user-federation.html</a></li>
<li>Référence externe : <a href="https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/sessions/offline.html">https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/sessions/offline.html</a></li>
<li>Référence externe : <a href="https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/groups/groups-vs-roles.html">https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/groups/groups-vs-roles.html</a></li>
<li>Référence externe : <a href="https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/groups.html">https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/groups.html</a></li>
<li>Référence externe : <a href="https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/roles/client-roles.html">https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/roles/client-roles.html</a></li>
<li>Référence externe : <a href="https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/clients/installation.html">https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/clients/installation.html</a></li>
<li>Référence externe : <a href="https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/clients/protocol-mappers.html">https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/clients/protocol-mappers.html</a></li>
<li>Référence externe : <a href="https://www.janua.fr/keycloak-access-token-verification-example/">https://www.janua.fr/keycloak-access-token-verification-example/</a></li>
<li>Référence externe : <a href="https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/sso-protocols/oidc.html">https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/sso-protocols/oidc.html</a></li>
<li>Référence externe : <a href="https://www.keycloak.org/docs/latest/authorization_services/">https://www.keycloak.org/docs/latest/authorization_services/</a></li>
<li>Référence externe : <a href="https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/overview/concepts.html">https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/overview/concepts.html</a></li>
<li>Référence externe : <a href="https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/roles/client-scope.html">https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/roles/client-scope.html</a></li>
<li>Référence externe : <a href="https://www.keycloak.org/getting-started/getting-started-docker">https://www.keycloak.org/getting-started/getting-started-docker</a></li>
<li>Référence externe : <a href="https://www.keycloak.org/">https://www.keycloak.org/</a></li>
<li>Référence externe : <a href="https://wjw465150.gitbooks.io/keycloak-documentation/content/securing_apps/topics/oidc/oidc-generic.html">https://wjw465150.gitbooks.io/keycloak-documentation/content/securing_apps/topics/oidc/oidc-generic.html</a></li>
</ul>
<p>A very popular <a href="/braindump/posts/identity_provider/">IdP</a> and <a href="/braindump/posts/identification_and_access_manager/">IAM</a>. It supports <a href="/braindump/posts/openid_connect/">OpenID Connect</a> as built-in, then it can be called an</p>
<blockquote>
<p>A realm in Keycloak is the equivalent of a tenant. It allows creating isolated
groups of applications and users</p>
<p>&mdash; <a href="https://www.keycloak.org/getting-started/getting-started-docker">https://www.keycloak.org/getting-started/getting-started-docker</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>Add authentication to applications and secure services with minimum fuss. No
need to deal with storing users or authenticating users. It&rsquo;s all available out
of the box.</p>
<p>&mdash; <a href="https://www.keycloak.org/">https://www.keycloak.org/</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>hen an OIDC access token or SAML assertion is created, all the user role
mappings of the user are, by default, added as claims within the token or
assertion.  Applications use this information to make access decisions on the
resources controlled by that application.</p>
<p>&mdash; <a href="https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/roles/client-scope.html">https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/roles/client-scope.html</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>Client scope is a way to limit the roles that get declared inside an access token</p>
<p>&mdash; <a href="https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/roles/client-scope.html">https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/roles/client-scope.html</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>access token they receive back will only contain the role mappings you’ve explicitly specified
for the client’s scope</p>
<p>&mdash; <a href="https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/roles/client-scope.html">https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/roles/client-scope.html</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>default, each client gets all the role mappings of the user.</p>
<p>&mdash; <a href="https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/roles/client-scope.html">https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/roles/client-scope.html</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>change this default behavior, you must explicitly turn off the Full Scope Allowed switch and declare the specific roles you want in each individual
client</p>
<p>&mdash; <a href="https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/roles/client-scope.html">https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/roles/client-scope.html</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>roles</p>
<p>Roles identify a type or category of user.  Admin, user, manager, and employee are all typical roles that may exist
in an organization.  Applications often assign access and permissions to specific roles rather than individual users as dealing
with users can be too fine grained and hard to manage</p>
<p>&mdash; <a href="https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/overview/concepts.html">https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/overview/concepts.html</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>user role mapping</p>
<p>A user role mapping defines a mapping between a role and a user.  A user can be associated with zero or more roles.  This
role mapping information can be encapsulated into tokens and assertions so that applications can decide access permissions on
various resources they manage.</p>
<p>&mdash; <a href="https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/overview/concepts.html">https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/overview/concepts.html</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>groups</p>
<p>Groups manage groups of users.  Attributes can be defined for a group.  You can map roles to a group as well.  Users that become members of a group
inherit the attributes and role mappings that group defines.</p>
<p>&mdash; <a href="https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/overview/concepts.html">https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/overview/concepts.html</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>realms</p>
<p>A realm manages a set of users, credentials, roles, and groups.  A user belongs to and logs into a realm.  Realms are isolated from one another
and can only manage and authenticate the users that they control</p>
<p>&mdash; <a href="https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/overview/concepts.html">https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/overview/concepts.html</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>clients</p>
<p>Clients are entities that can request Keycloak to authenticate a user.  Most often, clients are applications and services that
want to use Keycloak to secure themselves and provide a single sign-on solution.  Clients can also be entities that just want to request
identity information or an access token so that they can securely invoke other services on the network that are secured by Keycloak</p>
<p>&mdash; <a href="https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/overview/concepts.html">https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/overview/concepts.html</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>client adapters</p>
<p>Client adapters are plugins that you install into your application environment to be able to communicate and be secured by Keycloak</p>
<p>&mdash; <a href="https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/overview/concepts.html">https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/overview/concepts.html</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>client role</p>
<p>Clients can define roles that are specific to them.  This is basically a role namespace dedicated to the client</p>
<p>&mdash; <a href="https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/overview/concepts.html">https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/overview/concepts.html</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>identity token</p>
<p>A token that provides identity information about the user.  Part of the OpenID Connect specification.</p>
<p>access token</p>
<p>A token that can be provided as part of an HTTP request that grants access to the service being invoked on.  This is part of
the OpenID Connect and OAuth 2.0 specification.</p>
<p>&mdash; <a href="https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/overview/concepts.html">https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/overview/concepts.html</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>direct grant</p>
<p>A way for a client to obtain an access token on behalf of a user via a REST invocation</p>
<p>&mdash; <a href="https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/overview/concepts.html">https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/overview/concepts.html</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>protocol mappers</p>
<p>For each client you can tailor what claims and assertions are stored in the OIDC token or SAML assertion.  You do this per client by creating and configuring
protocol mappers</p>
<p>&mdash; <a href="https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/overview/concepts.html">https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/overview/concepts.html</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>user federation provider</p>
<p>Keycloak can store and manage users.  Often, companies already have LDAP or Active Directory services that store user and credential
information.  You can point Keycloak to validate credentials from those external stores and pull in identity information</p>
<p>&mdash; <a href="https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/overview/concepts.html">https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/overview/concepts.html</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>identity provider</p>
<p>An identity provider (IDP) is a service that can authenticate a user.  Keycloak is an IDP</p>
<p>&mdash; <a href="https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/overview/concepts.html">https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/overview/concepts.html</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>identity provider federation</p>
<p>Keycloak can be configured to delegate authentication to one or more IDPs.  Social login via
Facebook or Google+ is an example of identity provider federation.  You can also hook Keycloak to delegate
authentication to any other Open ID Connect or SAML 2.0 IDP</p>
<p>&mdash; <a href="https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/overview/concepts.html">https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/overview/concepts.html</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>Frequently, resource servers only perform authorization decisions based on role-based access control (RBAC), where the roles granted to the user trying to access protected resources are checked against the roles mapped to these same resources.</p>
<p>&mdash; <a href="https://www.keycloak.org/docs/latest/authorization_services/">https://www.keycloak.org/docs/latest/authorization_services/</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>Scope</p>
<p>A resource’s scope is a bounded extent of access that is possible to perform on
a resource. In authorization policy terminology, a scope is one of the
potentially many verbs that can logically apply to a resource.</p>
<p>&mdash; <a href="https://www.keycloak.org/docs/latest/authorization_services/">https://www.keycloak.org/docs/latest/authorization_services/</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>usually indicates what can be done with a given resource</p>
<p>&mdash; <a href="https://www.keycloak.org/docs/latest/authorization_services/">https://www.keycloak.org/docs/latest/authorization_services/</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>resource</p>
<p>&mdash; <a href="https://www.keycloak.org/docs/latest/authorization_services/">https://www.keycloak.org/docs/latest/authorization_services/</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>you can have a project resource and a cost scope, where the cost scope is used
to define specific policies and permissions for users to access a project’s cost</p>
<p>&mdash; <a href="https://www.keycloak.org/docs/latest/authorization_services/">https://www.keycloak.org/docs/latest/authorization_services/</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>permission associates the object being protected with the policies that must be
evaluated to determine whether access is granted.</p>
<p>X CAN DO Y ON RESOURCE Z</p>
<p>where …</p>
<p>X represents one or more users, roles, or groups, or a combination of them. You can also use claims and context here.</p>
<p>Y represents an action to be performed, for example, write, view, and so on.</p>
<p>Z represents a protected resource, for example, &ldquo;/accounts&rdquo;.</p>
<p>&mdash; <a href="https://www.keycloak.org/docs/latest/authorization_services/">https://www.keycloak.org/docs/latest/authorization_services/</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>After creating the resources you want to protect and the policies you want to use to protect these resources,
you can start managing permissions.</p>
<p>&mdash; <a href="https://www.keycloak.org/docs/latest/authorization_services/">https://www.keycloak.org/docs/latest/authorization_services/</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>identity token
contains information about the user such as username, email, and other profile information.  The access token is digitally signed by
the realm and contains access information (like user role mappings) that the application can use to determine what resources the user
is allowed to access on the application.</p>
<p>&mdash; <a href="https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/sso-protocols/oidc.html">https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/sso-protocols/oidc.html</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>Client asks Keycloak to obtain an access token it can use to invoke on other
remote services on behalf of the user.  Keycloak authenticates the user then
asks the user for consent to grant access to the client requesting it.  The
client then receives the access token.  This access token is digitally signed by
the realm.  The client can make REST invocations on remote services using this
access token.  The REST service extracts the access token, verifies the
signature of the token, then decides based on access information within the
token whether or not to process the request</p>
<p>&mdash; <a href="https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/sso-protocols/oidc.html">https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/sso-protocols/oidc.html</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>Important to note that access tokens are usually short lived and often expired
after only minutes.  The additional refresh token that was transmitted by the
login protocol allows the application to obtain a new access token after it
expires.  This refresh protocol is important in the situation of a compromised
system.  If access tokens are short lived, the whole system is only vulnerable
to a stolen token for the lifetime of the access token.  Future refresh token
requests will fail if an admin has revoked access.  This makes things more
secure and more scalable</p>
<p>&mdash; <a href="https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/sso-protocols/oidc.html">https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/sso-protocols/oidc.html</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>Confidential clients are required to provide a client secret when they exchange
the temporary codes for tokens</p>
<p>&mdash; <a href="https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/sso-protocols/oidc.html">https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/sso-protocols/oidc.html</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>Public clients are not required to provide this client secret.</p>
<p>&mdash; <a href="https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/sso-protocols/oidc.html">https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/sso-protocols/oidc.html</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>Public clients are perfectly fine so long as HTTPS is strictly enforced and you
are very strict about what redirect URIs are registered for the client</p>
<p>&mdash; <a href="https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/sso-protocols/oidc.html">https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/sso-protocols/oidc.html</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>HTML5/JavaScript clients always have to be public clients because there is no way to transmit the client secret to them in a secure
manner</p>
<p>&mdash; <a href="https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/sso-protocols/oidc.html">https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/sso-protocols/oidc.html</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>The realm RSA public key is retrieved
from the endpoint</p>
<ul>
<li><a href="https://localhost:8080/auth/realms/master/protocol/openid-connect/certs">https://localhost:8080/auth/realms/master/protocol/openid-connect/certs</a></li>
</ul>
<p>[&hellip;]</p>
<p>Obtaining a certificate file for the realm
public key  (.pem format)</p>
<p>The x5c filed value is copied between  —–BEGIN CERTIFICATE—–</p>
<p>—–END CERTIFICATE—– directives</p>
<p>&mdash; <a href="https://www.janua.fr/keycloak-access-token-verification-example/">https://www.janua.fr/keycloak-access-token-verification-example/</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>signature is validated by copying teh PEM certificate obtained
previously in the verify signature section (public key section)</p>
<p>&mdash; <a href="https://www.janua.fr/keycloak-access-token-verification-example/">https://www.janua.fr/keycloak-access-token-verification-example/</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>Each client has several built-in mappers that are created for it by default.  They map things like, for example, email address to
a specific claim in the identity and access token.</p>
<p>&mdash; <a href="https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/clients/protocol-mappers.html">https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/clients/protocol-mappers.html</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>You can opt to include or exclude the claim from both the
id and access tokens by fiddling with the Add to ID token and Add to access token switches.</p>
<p>&mdash; <a href="https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/clients/protocol-mappers.html">https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/clients/protocol-mappers.html</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>Keycloak can pre-generate configuration files that you can use to install a client adapter for in your application’s
deployment environment</p>
<p>&mdash; <a href="https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/clients/installation.html">https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/clients/installation.html</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>Client roles are basically a namespace dedicated to a client. Each client gets its own namespace</p>
<p>&mdash; <a href="https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/roles/client-roles.html">https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/roles/client-roles.html</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>If the client has to explicitly request another client’s role, the role has to be prefixed with the client ID when performing a request using the scope parameter</p>
<p>&mdash; <a href="https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/roles/client-roles.html">https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/roles/client-roles.html</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>For example, if the client ID is account and the role is admin, the scope parameter is:</p>
<p>`scope=account/admin`</p>
<p>&mdash; <a href="https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/roles/client-roles.html">https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/roles/client-roles.html</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>In Keycloak, access tokens are digitally signed and can actually be re-used by the application
to invoke on other remotely secured REST services</p>
<p>&mdash; <a href="https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/roles/client-scope.html">https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/roles/client-scope.html</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>The Attributes and Role Mappings tab work exactly as the tabs with similar names under a user.  Any attributes and role mappings
you define will be inherited by the groups and users that are members of this group.</p>
<p>&mdash; <a href="https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/groups.html">https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/groups.html</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>In the IT world the concepts of Group and Role are often blurred and interchangeable.
In Keycloak, Groups are just a collection of users that you can apply roles and attributes to in one place.
Roles define a type of user and applications assign permission and access control to roles</p>
<p>&mdash; <a href="https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/groups/groups-vs-roles.html">https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/groups/groups-vs-roles.html</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>Aren’t Composite Roles also similar to Groups?
Logically they provide the same exact functionality, but the difference is conceptual.
Composite roles should be used to apply the permission model to your set of services and applications.
Groups should focus on collections of users and their roles in your organization.
Use groups to manage users.  Use composite roles to manage applications and services.</p>
<p>&mdash; <a href="https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/groups/groups-vs-roles.html">https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/groups/groups-vs-roles.html</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>difference between a classic Refresh token and an Offline token is, that an offline token will never expire and is not subject of SSO Session Idle timeout</p>
<p>&mdash; <a href="https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/sessions/offline.html">https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/sessions/offline.html</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>The offline token is valid even after a user logout or server restart</p>
<p>&mdash; <a href="https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/sessions/offline.html">https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/sessions/offline.html</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>Keycloak will look into its own internal user store to find the user.
If it can’t find it there it will iterate
over every User Storage provider you have configured for the realm until it finds a match</p>
<p>&mdash; <a href="https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/user-federation.html">https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/user-federation.html</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>The most important endpoint to understand is the well-known configuration endpoint. It lists endpoints and other configuration options relevant to the OpenID Connect implementation in Keycloak. The endpoint is:</p>
<p><em>realms/{realm-name}</em>.<a href="/braindump/posts/well_known_uniform_resource_identifiers/">well-known</a>/openid-configuration</p>
<p>&mdash; <a href="https://wjw465150.gitbooks.io/keycloak-documentation/content/securing_apps/topics/oidc/oidc-generic.html">https://wjw465150.gitbooks.io/keycloak-documentation/content/securing_apps/topics/oidc/oidc-generic.html</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>This refresh protocol is important in the situation of a compromised system. If access tokens are short lived, the whole system is only vulnerable to a stolen token for the lifetime of the access token. Future refresh token requests will fail if an admin has revoked access. This makes things more secure and more scalable.</p>
<p>&mdash; <a href="https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/sso-protocols/oidc.html">https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/sso-protocols/oidc.html</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>Confidential clients are required to provide a client secret when they exchange the temporary codes for tokens</p>
<p>&mdash; <a href="https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/sso-protocols/oidc.html">https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/sso-protocols/oidc.html</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>Public clients are not required to provide this client secret. Public clients
are perfectly fine so long as HTTPS is strictly enforced and you are very strict
about what redirect URIs are registered for the client</p>
<p>&mdash; <a href="https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/sso-protocols/oidc.html">https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/sso-protocols/oidc.html</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>Certificate Endpoint
/realms/{realm-name}/protocol/openid-connect/certs
The certificate endpoint returns the public keys enabled by the realm, encoded as a JSON Web Key (JWK).</p>
<p>&mdash; <a href="https://wjw465150.gitbooks.io/keycloak-documentation/content/securing_apps/topics/oidc/oidc-generic.html">https://wjw465150.gitbooks.io/keycloak-documentation/content/securing_apps/topics/oidc/oidc-generic.html</a></p>
</blockquote>
<h2 id="keycloak-openid-connect--openid-connect-dot-md--endpoints">keycloak <a href="/braindump/posts/openid_connect/">OpenID Connect</a> endpoints</h2>
<blockquote>
<dl>
<dt>/realms/{realm-name}/protocol/openid-connect/token</dt>
<dd>This is the URL endpoint for obtaining a temporary code in the Authorization Code Flow or for obtaining tokens via the
Implicit Flow, Direct Grants, or Client Grants.</dd>
<dt>/realms/{realm-name}/protocol/openid-connect/auth</dt>
<dd>This is the URL endpoint for the Authorization Code Flow to turn a temporary code into a token.</dd>
<dt>/realms/{realm-name}/protocol/openid-connect/logout</dt>
<dd>This is the URL endpoint for performing logouts.</dd>
<dt>/realms/{realm-name}/protocol/openid-connect/userinfo</dt>
<dd>This is the URL endpoint for the User Info service described in the OIDC specification</dd>
</dl>
<p>&mdash; <a href="https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/sso-protocols/oidc.html">https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/sso-protocols/oidc.html</a></p>
</blockquote>
<!--more-->
<h2 id="notes-pointant-ici">Notes pointant ici</h2>
<ul>
<li><a href="/braindump/posts/postgresql/#79c99355-2a0d-4782-8238-dbc4552c0447">bitnami ne se configure pas bien</a></li>
<li><a href="/braindump/posts/develop_an_android_application_using_keycloak_and_localhost_redirection/">develop an android application using keycloak and localhost redirection</a></li>
<li><a href="https://konubinix.eu/blog/posts/how_do_i_create_an_oauth_2_0_oidc_resource_server/?title=how_do_i_create_an_oauth_2_0_oidc_resource_server#">how do I create an OAuth 2.0/OIDC resource server?</a> (blog)</li>
<li><a href="https://konubinix.eu/blog/posts/make_sense_of_keycloak_openid_connect_oauth_2_0_jwt_jws/?title=how_do_i_use_this_in_real_life#how-do-i-use-this-in-real-life">How do I use this in real life?</a> (blog)</li>
<li><a href="/braindump/posts/how_to_discuss_oidc_with_keycloak/">how to discuss OIDC with keycloak</a></li>
<li><a href="/braindump/posts/how_to_structure_organize_a_multi_technologies_repo/">how to structure/organize a multi technologies repo?</a></li>
<li><a href="/braindump/posts/integrate_keycloak_with_hashicorp_vault/">integrate keycloak with hashicorp vault</a></li>
<li><a href="/braindump/posts/keycloak_realm_keys/">keycloak realm keys</a></li>
<li><a href="https://konubinix.eu/blog/posts/make_sense_of_keycloak_openid_connect_oauth_2_0_jwt_jws/?title=make_sense_of_keycloak_openid_connect_oauth_2_0_jwt_jws#">make sense of keycloak, openid connect, oauth 2.0, jwt, jws</a> (blog)</li>
<li><a href="/braindump/posts/securing_applications_and_services_guide/">Securing Applications and Services Guide</a></li>
<li><a href="/braindump/posts/system_for_cross_domain_identity_management/">System for Cross-domain Identity Management</a></li>
<li><a href="/braindump/posts/trying_authenticating_to_keycloak_using_google_as_identity_provider/">trying authenticating to keycloak using google as Identity Provider</a></li>
</ul>
<h2 id="permalink"><a href="https://konubinix.eu/braindump/e44f6af4-f29b-426d-abd7-9e59300090a1?title=keycloak">Permalink</a></h2>
      </div>
	  <aside class="date"><time>Last updated: 03 Jun 2022</time></aside>
	  <aside class="date"><time>Published&nbsp;&nbsp;&nbsp;: 22 Oct 2020</time></aside>
    </div>
  </div>
</div>

<script src="/braindump/js/URI.js" type="text/javascript"></script>

<script src="/braindump/js/page.js" type="text/javascript"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</body>
</html>
