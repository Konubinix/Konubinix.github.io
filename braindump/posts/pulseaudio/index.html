<!DOCTYPE html>
<html><title>pulseaudio</title>


<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="google-site-verification" content="bLmaFyyXugiCqSup-eIIIx0B4CngtdF_svyMMKQbS5E" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=10, minimum-scale=0.5, user-scalable=yes">
<meta name="apple-mobile-web-app-capable" content="yes" />
<script src="https://hypothes.is/embed.js" async></script>


<link rel="stylesheet" href="/braindump/css/main.min.56b43bcbc759a196f9dd525bee62bdec45a29ba95902bbab74a4f7ad2ea3e8cb.css"/>

<link rel="stylesheet" href="/braindump/css/links.min.4bf1990b213fb76d2a66153dc6ef9a57d49f536c6baf6e7f19a7948470a38141.css"/>

<link rel="stylesheet" href="/braindump/css/konubinix.min.cf2d0f36945178c647979ee68f1830892e06aa3d481d8913728b5c7462b97f6e.css"/>

<link rel="stylesheet" href="/ipfs/QmQFVQS89fv1XUNFcjwCKDePzckuT9kpuAVNYUwNdEfYcv/css/all.css"/>
<link rel="shortcut icon" href="/ipfs/QmVFwYV7YRZLKU3ybN1hW4jqfyZGPLKJwd8toN2wHz5UAD?a.png" type="image/x-icon" />

<body><header>
  <div>
	<a href="/braindump//"><h5 class="site-title">Konubinix&#39; opinionated web of thoughts</h5></a>
  </div>
  <span>
	<a href="/blog/"><i class="icon fas fa-blog"></i></a>
	<a href="/braindump/posts/"><i class="icon fas fa-brain"></i></a>
    <a href="mailto:konubinixweb@gmail.com"><i class="icon fas fa-envelope-square"></i></a>
    <a href="https://github.com/konubinix"><i class="icon fab fa-github-square"></i></a>
    <a href="https://linkedin.com/in/samuel-loury-61259040"><i class="icon fab fa-linkedin"></i></a>
	<a href="/braindump/graph.html"><i class="icon fas fa-project-diagram"></i></a>
	<a href="/braindump/index.xml"><i class="icon fas fa-rss-square"></i></a>
	<a href="/braindump/tags/"><i class="icon fa fa-tag"></i></a>
	<a href="/braindump/braindump_search"><i class="icon fa fa-search"></i></a>
  </span>
</header>

<div class="grid-container">
  <div class="grid">
    <div class="page" data-level="1">
      <div class="content">
		<p class="lead">
        <h1>Pulseaudio</h1>
		<span class="badge badge-pill badge-warning"><a href="/braindump/tags/fleeting/">Fleeting</a></span></p>
        <div class="ox-hugo-toc toc">
<div class="heading">Table of Contents</div>
<ul>
<li><a href="#906967a3-48ca-4208-9731-8e0532a8a8a0">Using Ubuntu PC as a Bluetooth headset for receiving calls: A Setup Guide</a></li>
<li><a href="#2eb628e5-4c91-4064-8d74-66c84fd82ed6">mettre le son d&rsquo;android sur mon pc sur bluetooth</a></li>
<li><a href="#24809a6b-cb19-4383-9101-2440a16bb0f9">how to record the sound coming from an application</a>
<ul>
<li><a href="#ef6c9fac-01f3-4b7e-b496-7d26874765d4">recording the sound card</a></li>
<li><a href="#a1333da1-d040-43e5-96ed-76801ee8b838">recording from an application only</a></li>
<li><a href="#e03451e3-0093-4ece-9cdf-031d508066e4">record only one application while still hearing the sound</a>
<ul>
<li><a href="#410f2999-041d-4e07-8cdf-2afb56cec3c1">doing the same thing without the extra null sink</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#a51579b7-53ad-450a-9ad2-d2f99e7e1ba4">set device for program</a></li>
<li><a href="#1ffe178c-f01c-49e3-a738-73f1ccb93c69">where are the config files</a></li>
<li><a href="#notes-linking-here">Notes linking here</a></li>
<li><a href="#permalink">Permalink</a></li>
</ul>
</div>
<!--endtoc-->
<p>pulseaudio</p>
<h2 id="906967a3-48ca-4208-9731-8e0532a8a8a0">Using Ubuntu PC as a <a href="/braindump/posts/bluetooth/">Bluetooth</a> headset for receiving calls: A Setup Guide</h2>
<ul>
<li>External reference: <a href="https://copyprogramming.com/howto/how-to-set-up-ubuntu-pc-as-bluetooth-headset-to-attend-calls">https://copyprogramming.com/howto/how-to-set-up-ubuntu-pc-as-bluetooth-headset-to-attend-calls</a></li>
</ul>
<p>This is what I tried.</p>
<p>Install <a href="/braindump/posts/ofono/">ofono</a><sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup></p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sai ofono
</span></span></code></pre></div><p>Connect to my phone</p>
<p><a id="code-snippet--"></a></p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>bluetoothctl
</span></span><span style="display:flex;"><span>$ scan on
</span></span><span style="display:flex;"><span>$ connect <span style="color:#000;font-weight:bold">[</span>MYPHONE<span style="color:#000;font-weight:bold">]</span>
</span></span></code></pre></div><p>I can indeed hear the music but calling my answering machine, I don&rsquo;t get the sound.</p>
<p>Load the bluetooth discover module with ofono support<sup id="fnref:2"><a href="#fn:2" class="footnote-ref" role="doc-noteref">2</a></sup></p>
<p><a id="code-snippet--load-ofono"></a></p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#008080">module_number</span><span style="color:#000;font-weight:bold">=</span><span style="color:#000;font-weight:bold">$(</span>pactl list modules short |gi module-bluetooth-discover|cut -f1<span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>pactl unload-module <span style="color:#d14">${</span><span style="color:#008080">module_number</span><span style="color:#d14">}</span>
</span></span><span style="display:flex;"><span>pactl load-module module-bluetooth-discover <span style="color:#008080">headset</span><span style="color:#000;font-weight:bold">=</span>ofono
</span></span></code></pre></div><p>Note that now, when connecting with my phone, I have to accept some
authorization again at each connection.</p>
<p>Add</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>&lt;policy <span style="color:#008080">user</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;sam&#34;</span>&gt;
</span></span><span style="display:flex;"><span>  &lt;allow <span style="color:#008080">send_destination</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;org.ofono&#34;</span>/&gt;
</span></span><span style="display:flex;"><span>&lt;/policy&gt;
</span></span></code></pre></div><p>into /etc/dbus-1/system.d/ofono.conf<sup id="fnref:3"><a href="#fn:3" class="footnote-ref" role="doc-noteref">3</a></sup></p>
<p>Then, calling works. I don&rsquo;t know whether the /etc/dbus-1/system.d/ofono.conf
did anything, but I could check that restarting pulseaudio without
ofono make it disappear again.</p>
<p>To persist the configuration, I put this in <a href="#1ffe178c-f01c-49e3-a738-73f1ccb93c69">~/.config/pulse/default.pa</a></p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>.include /etc/pulse/default.pa
</span></span><span style="display:flex;"><span>.ifexists module-bluetooth-discover.so
</span></span><span style="display:flex;"><span> unload-module module-bluetooth-discover
</span></span><span style="display:flex;"><span> load-module module-bluetooth-discover headset=ofono
</span></span><span style="display:flex;"><span>.endif
</span></span></code></pre></div><h2 id="2eb628e5-4c91-4064-8d74-66c84fd82ed6">mettre le son d&rsquo;android sur mon pc sur bluetooth</h2>
<p><code>sudo apt-get install pulseaudio-module-bluetooth</code></p>
<p>bluetoothctl</p>
<p>pactl load-module module-bluetooth-policy
pactl load-module module-bluetooth-discover</p>
<h2 id="24809a6b-cb19-4383-9101-2440a16bb0f9">how to record the sound coming from an application</h2>
<ul>
<li>External reference: <a href="https://askubuntu.com/questions/60837/record-a-programs-output-with-pulseaudio">https://askubuntu.com/questions/60837/record-a-programs-output-with-pulseaudio</a></li>
</ul>
<p>Say I want to save something that is currently played on my machine.</p>
<h3 id="ef6c9fac-01f3-4b7e-b496-7d26874765d4">recording the sound card</h3>
<p><a href="/braindump/posts/pulseaudio/">Pulseaudio</a> provides a source called monitor for each sound card</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>pacmd list-sources | grep name: |grep monitor
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>name: &lt;alsa_output.usb-GeneralPlus_USB_Audio_Device-00.analog-stereo.monitor&gt;
</span></span><span style="display:flex;"><span>name: &lt;alsa_output.usb-C-Media_Electronics_Inc._USB_Audio_Device-00.analog-stereo.monitor&gt;
</span></span><span style="display:flex;"><span>name: &lt;alsa_output.pci-0000_00_1f.3.analog-stereo.monitor&gt;
</span></span></code></pre></div><p>I can see that I have a monitor source for each card I have.</p>
<p>I only need to run <a href="/braindump/posts/parecord/">parecord</a> then.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>parecord --device<span style="color:#000;font-weight:bold">=</span>alsa_output.usb-GeneralPlus_USB_Audio_Device-00.analog-stereo.monitor &gt; output.wav
</span></span></code></pre></div><h3 id="a1333da1-d040-43e5-96ed-76801ee8b838">recording from an application only</h3>
<p>Following this instructions<sup id="fnref:4"><a href="#fn:4" class="footnote-ref" role="doc-noteref">4</a></sup></p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>pacmd list-sink-inputs
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>2 sink input(s) available.
</span></span><span style="display:flex;"><span>    index: 131
</span></span><span style="display:flex;"><span>        driver: &lt;protocol-native.c&gt;
</span></span><span style="display:flex;"><span>        flags:
</span></span><span style="display:flex;"><span>        state: RUNNING
</span></span><span style="display:flex;"><span>        sink: 0 &lt;alsa_output.usb-GeneralPlus_USB_Audio_Device-00.analog-stereo&gt;
</span></span><span style="display:flex;"><span>        volume: front-left: 65536 / 100% / 0.00 dB,   front-right: 65536 / 100% / 0.00 dB
</span></span><span style="display:flex;"><span>                balance 0.00
</span></span><span style="display:flex;"><span>        muted: no
</span></span><span style="display:flex;"><span>        current latency: 287.33 ms
</span></span><span style="display:flex;"><span>        requested latency: 42.67 ms
</span></span><span style="display:flex;"><span>        sample spec: s16le 2ch 48000Hz
</span></span><span style="display:flex;"><span>        channel map: front-left,front-right
</span></span><span style="display:flex;"><span>                     Stereo
</span></span><span style="display:flex;"><span>        resample method: (null)
</span></span><span style="display:flex;"><span>        module: 9
</span></span><span style="display:flex;"><span>        client: 147 &lt;ALSA plug-in [sox]&gt;
</span></span><span style="display:flex;"><span>        properties:
</span></span><span style="display:flex;"><span>                media.name = &#34;ALSA Playback&#34;
</span></span><span style="display:flex;"><span>                application.name = &#34;ALSA plug-in [sox]&#34;
</span></span><span style="display:flex;"><span>                native-protocol.peer = &#34;UNIX socket client&#34;
</span></span><span style="display:flex;"><span>                native-protocol.version = &#34;35&#34;
</span></span><span style="display:flex;"><span>                application.process.id = &#34;2753496&#34;
</span></span><span style="display:flex;"><span>                application.process.user = &#34;sam&#34;
</span></span><span style="display:flex;"><span>                application.process.host = &#34;konixwork&#34;
</span></span><span style="display:flex;"><span>                application.process.binary = &#34;sox&#34;
</span></span><span style="display:flex;"><span>                application.language = &#34;C&#34;
</span></span><span style="display:flex;"><span>                window.x11.display = &#34;:0&#34;
</span></span><span style="display:flex;"><span>                application.process.machine_id = &#34;21fdcf6901834b06813ffa8423c27210&#34;
</span></span><span style="display:flex;"><span>                application.process.session_id = &#34;2&#34;
</span></span><span style="display:flex;"><span>                module-stream-restore.id = &#34;sink-input-by-application-name:ALSA plug-in [sox]&#34;
</span></span><span style="display:flex;"><span>    index: 144
</span></span><span style="display:flex;"><span>        driver: &lt;protocol-native.c&gt;
</span></span><span style="display:flex;"><span>        flags:
</span></span><span style="display:flex;"><span>        state: RUNNING
</span></span><span style="display:flex;"><span>        sink: 0 &lt;alsa_output.usb-GeneralPlus_USB_Audio_Device-00.analog-stereo&gt;
</span></span><span style="display:flex;"><span>        volume: front-left: 65536 / 100% / 0.00 dB,   front-right: 65536 / 100% / 0.00 dB
</span></span><span style="display:flex;"><span>                balance 0.00
</span></span><span style="display:flex;"><span>        muted: no
</span></span><span style="display:flex;"><span>        current latency: 107.98 ms
</span></span><span style="display:flex;"><span>        requested latency: 30.00 ms
</span></span><span style="display:flex;"><span>        sample spec: s16le 2ch 48000Hz
</span></span><span style="display:flex;"><span>        channel map: front-left,front-right
</span></span><span style="display:flex;"><span>                     Stereo
</span></span><span style="display:flex;"><span>        resample method: (null)
</span></span><span style="display:flex;"><span>        module: 19
</span></span><span style="display:flex;"><span>        client: 189 &lt;ALSA plug-in [snapclient]&gt;
</span></span><span style="display:flex;"><span>        properties:
</span></span><span style="display:flex;"><span>                media.name = &#34;ALSA Playback&#34;
</span></span><span style="display:flex;"><span>                application.name = &#34;ALSA plug-in [snapclient]&#34;
</span></span><span style="display:flex;"><span>                native-protocol.peer = &#34;UNIX socket client&#34;
</span></span><span style="display:flex;"><span>                native-protocol.version = &#34;33&#34;
</span></span><span style="display:flex;"><span>                application.process.id = &#34;1&#34;
</span></span><span style="display:flex;"><span>                application.process.user = &#34;sam&#34;
</span></span><span style="display:flex;"><span>                application.process.host = &#34;konixwork&#34;
</span></span><span style="display:flex;"><span>                application.process.binary = &#34;snapclient&#34;
</span></span><span style="display:flex;"><span>                application.language = &#34;C&#34;
</span></span><span style="display:flex;"><span>                application.process.machine_id = &#34;79372d8564c8545262975c46157f1482&#34;
</span></span><span style="display:flex;"><span>                module-stream-restore.id = &#34;sink-input-by-application-name:ALSA plug-in [snapclient]&#34;
</span></span></code></pre></div><p>My snapclient is running on sink 144.</p>
<p>I then run</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>pactl load-module module-null-sink <span style="color:#008080">sink_name</span><span style="color:#000;font-weight:bold">=</span>steam
</span></span><span style="display:flex;"><span>pactl move-sink-input <span style="color:#099">144</span> steam
</span></span></code></pre></div><p>And get the sound to stop being heard.</p>
<p>Then</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>parecord -d steam.monitor &gt; truc.wav
</span></span></code></pre></div><p>And then <code>vlc truc.wav</code> shows that the file indeed contains the sound.</p>
<p>I don&rsquo;t know the difference between <a href="/braindump/posts/parecord/">parecord</a> and <a href="/braindump/posts/parecord/">parec</a>, but the suggested command works as well.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>parec -d steam.monitor | oggenc -b <span style="color:#099">192</span> -o steam.ogg --raw -
</span></span></code></pre></div><h3 id="e03451e3-0093-4ece-9cdf-031d508066e4">record only one application while still hearing the sound</h3>
<p>I want the sink input to go to the null sink and be recorded to a file while still be streamed.</p>
<p>I can combine two sinks into one with the module-combine-sink.</p>
<p>Provided I already created the null sink.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>pactl load-module module-combine-sink <span style="color:#008080">sink_name</span><span style="color:#000;font-weight:bold">=</span>combined <span style="color:#008080">slaves</span><span style="color:#000;font-weight:bold">=</span>steam,alsa_output.usb-GeneralPlus_USB_Audio_Device-00.analog-stereo
</span></span></code></pre></div><p>Then I can move the application to use the combined sink.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>pactl move-sink-input <span style="color:#099">144</span> combined
</span></span></code></pre></div><p>The sound will go to the sound card AND to the null sink, allowing me to hear
the sound while recording it with.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>parecord -d steam.monitor &gt; truc.wav
</span></span></code></pre></div><h4 id="410f2999-041d-4e07-8cdf-2afb56cec3c1">doing the same thing without the extra null sink</h4>
<p>Actually, what I need is only a proxy sink that will redirect its content to
the sound card and record this proxy.
This can simply achieved with the same module.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>pactl load-module module-combine-sink <span style="color:#008080">sink_name</span><span style="color:#000;font-weight:bold">=</span>proxy <span style="color:#008080">slaves</span><span style="color:#000;font-weight:bold">=</span>alsa_output.usb-GeneralPlus_USB_Audio_Device-00.analog-stereo
</span></span><span style="display:flex;"><span>parecord -d proxy.monitor &gt; output.wav
</span></span></code></pre></div><h2 id="a51579b7-53ad-450a-9ad2-d2f99e7e1ba4">set device for program</h2>
<ul>
<li>External reference: <a href="https://superuser.com/questions/182149/set-device-for-program-in-pulseaudio">https://superuser.com/questions/182149/set-device-for-program-in-pulseaudio</a></li>
</ul>
<p>linux - Set device for program in <a href="/braindump/posts/pulseaudio/">PulseAudio</a>? - Super User</p>
<blockquote>
<p>I don&rsquo;t know if there is a setting or configuration file for this anywhere but it can be done with environment variables. I&rsquo;ve based my answer on this entry in the PulseAudio FAQ about setting the recording source. I&rsquo;ve tried this with output (a sink in PulseAudio) but it should work for both input and ouput.</p>
<p>The first step is to get the internal name of the source and sink that you want to use. To do that you need to use the pactl list command. That command will return a pile of data, but the following will list just the source names:</p>
<p>LANG=C pactl list | grep -A2 &lsquo;Source #&rsquo; | grep &lsquo;Name: &rsquo; | cut -d&quot; &quot; -f2
That list will probably include the names for both regular sources and PulseAudio&rsquo;s monitor sources (which on my system have &ldquo;monitor&rdquo; in the name). You&rsquo;ll want to use the regular source name of the device you want to target.</p>
<p>You can do the same thing to get the sink names:</p>
<p>LANG=C pactl list | grep -A2 &lsquo;Sink #&rsquo; | grep &lsquo;Name: &rsquo; | cut -d&quot; &quot; -f2
Once you&rsquo;ve got the names you can run something like the following from your terminal:</p>
<p>PULSE_SINK=&lt;sink_name&gt; PULSE_SOURCE=&lt;source_name&gt; &lt;command_to_run_skype&gt;
Of course, if you want to run this from a menu you&rsquo;ll probably need to create a shell script and use that instead of the default command. Something like this should work:</p>
<p>#!/bin/sh
set PULSE_SINK &lt;sink_name&gt;
set PULSE_SOURCE &lt;source_name&gt;
&lt;command_to_run_skype&gt;</p>
</blockquote>
<h2 id="1ffe178c-f01c-49e3-a738-73f1ccb93c69">where are the config files</h2>
<p>where is located the <a href="/braindump/posts/pulseaudio/">pulse audio</a> conf file</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>strace pulseaudio 2&gt;&amp;1|gi conf|gv alsa|gv font
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>openat(AT_FDCWD, &#34;/home/sam/.pulse//daemon.conf&#34;, O_RDONLY|O_CLOEXEC) = -1 ENOENT (No such file or directory)
</span></span><span style="display:flex;"><span>openat(AT_FDCWD, &#34;/home/sam/.config/pulse//daemon.conf&#34;, O_RDONLY|O_CLOEXEC) = -1 ENOENT (No such file or directory)
</span></span><span style="display:flex;"><span>[...]
</span></span></code></pre></div><p>It does not honor XDG_CONFIG_HOME&hellip;</p>
<blockquote>
<p>FILES
~/.config/pulse/daemon.conf, /etc/pulse/daemon.conf: configuration settings for the  PulseAudio  daemon.  If
the  version in the user&rsquo;s home directory does not exist the global configuration file is loaded. See pulse-
daemon.conf(5) for more information.</p>
<p>~/.config/pulse/default.pa, /etc/pulse/default.pa: the default configuration  script  to  execute  when  the
PulseAudio daemon is started. If the version in the user&rsquo;s home directory does not exist the global configu‐
ration script is loaded. See default.pa(5) for more information.</p>
<p>~/.config/pulse/client.conf,  /etc/pulse/client.conf:  configuration settings for PulseAudio client applica‐
tions. If the version in the user&rsquo;s home directory does not exist the global configuration file  is  loaded.
See pulse-client.conf(5) for more information.</p>
<p>&mdash; <a href="http://man.he.net/?topic=pulseaudio&amp;section=all">Manpage for pulseaudio</a></p>
</blockquote>
<h2 id="notes-linking-here">Notes linking here</h2>
<ul>
<li><a href="/braindump/posts/parecord/">parecord</a></li>
</ul>
<h2 id="permalink"><a href="https://konubinix.eu/braindump/ad9e5d56-fa48-4c71-89a7-df0da2fb3d42?title=pulseaudio">Permalink</a></h2>
<div class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1">
<blockquote>
<p>seems that by utilizing Bluez 5 and adding &quot; ofono &ldquo;, achieving this is feasible</p>
<p>&mdash; <a href="https://copyprogramming.com/howto/how-to-set-up-ubuntu-pc-as-bluetooth-headset-to-attend-calls">https://copyprogramming.com/howto/how-to-set-up-ubuntu-pc-as-bluetooth-headset-to-attend-calls</a></p>
</blockquote>
<!--more-->
&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></li>
<li id="fn:2">
<blockquote>
<p>load-module module-bluetooth-discover headset=ofono</p>
<p>&mdash; <a href="https://copyprogramming.com/howto/how-to-set-up-ubuntu-pc-as-bluetooth-headset-to-attend-calls">https://copyprogramming.com/howto/how-to-set-up-ubuntu-pc-as-bluetooth-headset-to-attend-calls</a></p>
</blockquote>
&#160;<a href="#fnref:2" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></li>
<li id="fn:3">
<blockquote>
<p>in order to provide authorization, the following must be included in the /etc/dbus-1/system.d/ofono.conf file (prior to &lt;code&gt; &amp;lt;/busconfig&amp;gt; &lt;/code&gt; ;-) :</p>
<p>&lt;policy user=&ldquo;pulse&rdquo;&gt;
&lt;allow send_destination=&ldquo;org.ofono&rdquo;/&gt;
&lt;/policy&gt;</p>
<p>&mdash; <a href="https://copyprogramming.com/howto/how-to-set-up-ubuntu-pc-as-bluetooth-headset-to-attend-calls">https://copyprogramming.com/howto/how-to-set-up-ubuntu-pc-as-bluetooth-headset-to-attend-calls</a></p>
</blockquote>
&#160;<a href="#fnref:3" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></li>
<li id="fn:4">
<blockquote>
<p>Try something like this:</p>
<p>In a terminal enter</p>
<p>pacmd
(this is the CLI of the PulseAudio-Server) then use</p>
<p>list-sink-inputs
(where you get the indices of the running inputs) Now find the index of your input. Now referred to as $INDEX</p>
<p>the scriptable part is:</p>
<ol>
<li>pactl load-module module-null-sink sink_name=steam</li>
<li>pactl move-sink-input $INDEX steam</li>
<li>parec -d steam.monitor | oggenc -b 192 -o steam.ogg &ndash;raw -</li>
</ol>
<p>Explanations:</p>
<ol>
<li>The first command will add a null-sink as you already knew.</li>
<li>The second command moves the sink-input from your standard-audio-sink to steam</li>
<li>The third command records the monitor of the device steam (-d) and puts the
output (raw-wave-stream) into oggenc, which encodes this wave-stream to an
oga-file. (for mp3 use lame)</li>
</ol>
<p>&mdash; <a href="https://askubuntu.com/questions/60837/record-a-programs-output-with-pulseaudio">https://askubuntu.com/questions/60837/record-a-programs-output-with-pulseaudio</a></p>
</blockquote>
&#160;<a href="#fnref:4" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></li>
</ol>
</div>
      </div>
	  <aside class="date"><time>Last updated: 12 Dec 2024</time></aside>
	  <aside class="date"><time>Published&nbsp;&nbsp;&nbsp;: 25 Feb 2021</time></aside>
    </div>
  </div>
</div>

<script src="/braindump/js/URI.js" type="text/javascript"></script>

<script src="/braindump/js/page.js" type="text/javascript"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</body>
</html>
