<!DOCTYPE html>
<html><title>code coverage</title>


<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="google-site-verification" content="bLmaFyyXugiCqSup-eIIIx0B4CngtdF_svyMMKQbS5E" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=10, minimum-scale=0.5, user-scalable=yes">
<meta name="apple-mobile-web-app-capable" content="yes" />
<script src="https://hypothes.is/embed.js" async></script>


<link rel="stylesheet" href="/braindump/css/main.min.56b43bcbc759a196f9dd525bee62bdec45a29ba95902bbab74a4f7ad2ea3e8cb.css"/>

<link rel="stylesheet" href="/braindump/css/links.min.4bf1990b213fb76d2a66153dc6ef9a57d49f536c6baf6e7f19a7948470a38141.css"/>

<link rel="stylesheet" href="/braindump/css/konubinix.min.cf2d0f36945178c647979ee68f1830892e06aa3d481d8913728b5c7462b97f6e.css"/>

<link rel="stylesheet" href="/ipfs/QmQFVQS89fv1XUNFcjwCKDePzckuT9kpuAVNYUwNdEfYcv/css/all.css"/>
<link rel="shortcut icon" href="/ipfs/QmVFwYV7YRZLKU3ybN1hW4jqfyZGPLKJwd8toN2wHz5UAD?a.png" type="image/x-icon" />

<body><header>
  <div>
	<a href="/braindump//"><h5 class="site-title">Konubinix&#39; opinionated web of thoughts</h5></a>
  </div>
  <span>
	<a href="/blog/"><i class="icon fas fa-blog"></i></a>
	<a href="/braindump/posts/"><i class="icon fas fa-brain"></i></a>
    <a href="mailto:konubinixweb@gmail.com"><i class="icon fas fa-envelope-square"></i></a>
    <a href="https://github.com/konubinix"><i class="icon fab fa-github-square"></i></a>
    <a href="https://linkedin.com/in/samuel-loury-61259040"><i class="icon fab fa-linkedin"></i></a>
	<a href="/braindump/graph.html"><i class="icon fas fa-project-diagram"></i></a>
	<a href="/braindump/index.xml"><i class="icon fas fa-rss-square"></i></a>
	<a href="/braindump/tags/"><i class="icon fa fa-tag"></i></a>
	<a href="/braindump/braindump_search"><i class="icon fa fa-search"></i></a>
  </span>
</header>

<div class="grid-container">
  <div class="grid">
    <div class="page" data-level="1">
      <div class="content">
		<p class="lead">
        <h1>Code Coverage</h1>
		<span class="badge badge-pill badge-warning"><a href="/braindump/tags/fleeting/">Fleeting</a></span></p>
        <p>Code coverage is the <a href="/braindump/posts/indicator/">indicator</a> that tells how much lines of code have been
seen in the tests.</p>
<p>Code coverage is often seen in <a href="/braindump/posts/testing_code/">testing</a>, and whether you run dedicated programs
to test your code (like pytest) or you run your application (like ./myapp.py)
don&rsquo;t matter, provided you end up with confidence that you tried corner cases of
your application and that lines got executed in those situations.</p>
<p>Reading a <a href="/braindump/posts/code_coverage/">code coverage</a> is solving an <a href="/braindump/posts/inverse_problem/">inverse problem</a>. You don&rsquo;t care about the
code coverage per se. You are interested in the quality of the code, and the
code coverage, although not very good, is the best indicator we could find to
find out whether we considered all the code in the tests.</p>
<p>Therefore, I would discourage saying &ldquo;I need to fix the code coverage&rdquo; or &ldquo;I
need to have a code coverage to X%&rdquo;, because that would put you in the state of
mind of making an objective out of the measure (<a href="/braindump/posts/loi_de_goodhart/">Goodhart&rsquo;s law</a>). I would rather
say &ldquo;I need to test the code&rdquo; or &ldquo;I need to test all those parts of the
code&rdquo;. See also <a href="/braindump/posts/what_implies_80_of_coverage_in_sonar/">what implies 80% of coverage in sonar?</a></p>
<h2 id="coverage--code-coverage-dot-md--says-something-about-the-code-more-than-about-the-tests"><a href="/braindump/posts/code_coverage/">coverage</a> says something about the code more than about the tests</h2>
<p>When people realize that the code coverage has a value X%, their first intuition
is to add tests to cover the code to reach (X+something)%.</p>
<p>I think this is a wrong intuition. Those should think about two aspects of the
relation between code and tests.</p>
<ol>
<li>if the tests cover all the promises =&gt; remove the untested code,</li>
<li>if you don&rsquo;t want to remove the uncovered code =&gt; find out what implicit promises it is about and make it an actual promise =&gt; add tests</li>
</ol>
<p>People tend to go through the &ldquo;add test&rdquo; conclusion without making this
reasoning and end up testing dead code, because of the coverage.</p>
<h2 id="unintended-consequences--unintended-consequences-dot-md--of-code-coverage--code-coverage-dot-md"><a href="/braindump/posts/unintended_consequences/">unintended consequences</a> of <a href="/braindump/posts/code_coverage/">code coverage</a></h2>
<p>I believe that we should <a href="/braindump/posts/consider_tests_as_being_an_instrumental_objective/">consider tests as being an instrumental
objective</a>. But having an indicator gives incentive to make it green.</p>
<p>Yet, in the case of code coverage, this is what is likely to happen</p>
<ol>
<li>you write some code, part of it fulfil your <a href="/braindump/posts/verified_proved_promised_contracts_based_programming/">promise</a>, part of it is mostly
future dead code,</li>
<li>you cover the whole code because you want to reach 100% of code coverage,</li>
<li>you end up testing your dead code,</li>
<li>after some time, a test of the dead code fails,</li>
<li>you spend some time fixing it.</li>
</ol>
<p>If you focused of the coverage of your <a href="/braindump/posts/promises_coverage/">promise</a>, you would have identified the
dead code faster.</p>
<!--more-->
<h2 id="notes-linking-here">Notes linking here</h2>
<ul>
<li><a href="/braindump/posts/consider_tests_as_being_an_instrumental_objective/">consider tests as being an instrumental objective</a></li>
<li><a href="/braindump/posts/place_of_tests_in_software_development/">place of tests in software development</a></li>
<li><a href="/braindump/posts/promises_coverage/">promises coverage</a></li>
<li><a href="/braindump/posts/verified_proved_promised_contracts_based_programming/">verified/proved promised contracts based programming</a></li>
<li><a href="/braindump/posts/what_implies_80_of_coverage_in_sonar/">what implies 80% of coverage in sonar?</a></li>
</ul>
<h2 id="permalink"><a href="https://konubinix.eu/braindump/8bc70880-877b-4d06-ab3b-7aea191ef83e?title=code_coverage">Permalink</a></h2>
      </div>
	  <aside class="date"><time>Last updated: 06 May 2023</time></aside>
	  <aside class="date"><time>Published&nbsp;&nbsp;&nbsp;: 14 Mar 2022</time></aside>
    </div>
  </div>
</div>

<script src="/braindump/js/URI.js" type="text/javascript"></script>

<script src="/braindump/js/page.js" type="text/javascript"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</body>
</html>
