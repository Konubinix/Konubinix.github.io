<!DOCTYPE html>
<html><title>docker</title>


<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="google-site-verification" content="bLmaFyyXugiCqSup-eIIIx0B4CngtdF_svyMMKQbS5E" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=10, minimum-scale=0.5, user-scalable=yes">
<meta name="apple-mobile-web-app-capable" content="yes" />
<script src="https://hypothes.is/embed.js" async></script>


<link rel="stylesheet" href="/braindump/css/main.min.56b43bcbc759a196f9dd525bee62bdec45a29ba95902bbab74a4f7ad2ea3e8cb.css"/>

<link rel="stylesheet" href="/braindump/css/links.min.4bf1990b213fb76d2a66153dc6ef9a57d49f536c6baf6e7f19a7948470a38141.css"/>

<link rel="stylesheet" href="/braindump/css/konubinix.min.cf2d0f36945178c647979ee68f1830892e06aa3d481d8913728b5c7462b97f6e.css"/>

<link rel="stylesheet" href="/ipfs/QmQFVQS89fv1XUNFcjwCKDePzckuT9kpuAVNYUwNdEfYcv/css/all.css"/>
<link rel="shortcut icon" href="/ipfs/QmVFwYV7YRZLKU3ybN1hW4jqfyZGPLKJwd8toN2wHz5UAD?a.png" type="image/x-icon" />

<body><header>
  <div>
	<a href="/braindump//"><h5 class="site-title">Konubinix&#39; opinionated web of thoughts</h5></a>
  </div>
  <span>
	<a href="/blog/"><i class="icon fas fa-blog"></i></a>
	<a href="/braindump/posts/"><i class="icon fas fa-brain"></i></a>
    <a href="mailto:konubinixweb@gmail.com"><i class="icon fas fa-envelope-square"></i></a>
    <a href="https://github.com/konubinix"><i class="icon fab fa-github-square"></i></a>
    <a href="https://linkedin.com/in/samuel-loury-61259040"><i class="icon fab fa-linkedin"></i></a>
	<a href="/braindump/graph.html"><i class="icon fas fa-project-diagram"></i></a>
	<a href="/braindump/index.xml"><i class="icon fas fa-rss-square"></i></a>
	<a href="/braindump/tags/"><i class="icon fa fa-tag"></i></a>
	<a href="/braindump/braindump_search"><i class="icon fa fa-search"></i></a>
  </span>
</header>

<div class="grid-container">
  <div class="grid">
    <div class="page" data-level="1">
      <div class="content">
		<p class="lead">
        <h1>Docker</h1>
		<span class="badge badge-pill badge-warning"><a href="/braindump/tags/fleeting/">Fleeting</a></span></p>
        <h2 id="59ae51a4-f5de-4a89-a043-10291d1b7f7a">registry</h2>
<h2 id="96d5aa6e-89e0-42c0-9366-4451faa3a2db">desktop</h2>
<h3 id="3de01d32-96d2-442c-90f6-2b5cef3b83fe">host.docker.internal</h3>
<ul>
<li>Référence externe : <a href="https://stackoverflow.com/questions/31324981/how-to-access-host-port-from-docker-container/61424570#61424570">https://stackoverflow.com/questions/31324981/how-to-access-host-port-from-docker-container/61424570#61424570</a></li>
</ul>
<blockquote>
<p>We recommend that you connect to the special DNS name host.docker.internal, which resolves to the internal IP address used by the host.</p>
<p>&mdash; <a href="https://docs.docker.com/desktop/networking/#:~:text=I%20want%20to%20connect%20from%20a%20container%20to%20a%20service%20on%20the%20host,-The%20host%20has&amp;text=We%20recommend%20that%20you%20connect,using%20gateway.docker.internal%20">https://docs.docker.com/desktop/networking/#:~:text=I%20want%20to%20connect%20from%20a%20container%20to%20a%20service%20on%20the%20host,-The%20host%20has&amp;text=We%20recommend%20that%20you%20connect,using%20gateway.docker.internal%20</a>.</p>
</blockquote>
<h4 id="75e3730e-fe53-480b-93fc-6c55bdc71d42">also available not in docker desktop, needing an extra &ndash;add-host flag</h4>
<p><a href="#75e3730e-fe53-480b-93fc-6c55bdc71d42">also available not in docker desktop, needing an extra &ndash;add-host flag</a></p>
<blockquote>
<p>also communicate with the host via host.docker.internal. This won&rsquo;t work automatically, but you need to provide the following run flag:</p>
<p>&ndash;add-host=host.docker.internal:host-gateway</p>
<p>&mdash; <a href="https://stackoverflow.com/questions/31324981/how-to-access-host-port-from-docker-container/61424570#61424570">https://stackoverflow.com/questions/31324981/how-to-access-host-port-from-docker-container/61424570#61424570</a></p>
</blockquote>
<h2 id="0e461b07-0cd2-4beb-824d-2c73ef1a2b4b">network</h2>
<h3 id="e8f4cc7d-afcf-4f84-a32c-25c4c41a4bb9">custom hosts, defined in /etc/hosts on the host machine, aren&rsquo;t inherited by containers</h3>
<ul>
<li>
<p>Référence externe : <a href="https://docs.docker.com/network/">https://docs.docker.com/network/</a></p>
<blockquote>
<p>You can add other hosts into a container&rsquo;s /etc/hosts file by using one or more &ndash;add-host flags</p>
<p>&mdash; <a href="https://docs.docker.com/reference/cli/docker/container/run/#add-host">https://docs.docker.com/reference/cli/docker/container/run/#add-host</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>Custom hosts, defined in /etc/hosts on the host machine, aren&rsquo;t inherited by containers.</p>
<p>&mdash; <a href="https://docs.docker.com/network/">https://docs.docker.com/network/</a></p>
</blockquote>
</li>
</ul>
<h3 id="cf8b9940-37d3-428b-a980-d699e0320936">isolated from one another</h3>
<blockquote>
<p>Not only that, but you can&rsquo;t connect to alpine3 from alpine1 by its IP address either</p>
<p>&mdash; <a href="https://docs.docker.com/network/network-tutorial-standalone/">https://docs.docker.com/network/network-tutorial-standalone/</a></p>
</blockquote>
<h3 id="43c2a826-c3a6-4a54-b1df-3003905fca7b">a container can be connected to several networks, but will resolves dns names only in its starting network</h3>
<blockquote>
<p>alpine4 is connected to both the default bridge network and alpine-net. It should be able to reach all of the other containers. However, you will need to address alpine3 by its IP address.</p>
<p>&mdash; <a href="https://docs.docker.com/network/network-tutorial-standalone/">https://docs.docker.com/network/network-tutorial-standalone/</a></p>
</blockquote>
<h3 id="a3978d00-79fd-403f-9ea8-70d38db93d92">custom network</h3>
<h4 id="c2eb0fe1-46a7-4c63-a2ac-840520f00f3b">automatic service discovery</h4>
<blockquote>
<p>On user-defined networks like alpine-net, containers can not only
communicate by IP address, but can also resolve a container name to an IP
address. This capability is called automatic service discovery.</p>
<p>&mdash; <a href="https://docs.docker.com/network/network-tutorial-standalone/">https://docs.docker.com/network/network-tutorial-standalone/</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>Automatic service discovery can only resolve custom container names, not default automatically generated container names,</p>
<p>&mdash; <a href="https://docs.docker.com/network/network-tutorial-standalone/">https://docs.docker.com/network/network-tutorial-standalone/</a></p>
</blockquote>
<h3 id="af57986b-5aad-4862-b2fd-975cebbc9df0">default bridge</h3>
<h4 id="6b83a8e3-c9fa-479e-99af-9222455dad17">not recommended for production</h4>
<blockquote>
<p>default bridge network is not recommended for production</p>
<p>&mdash; <a href="https://docs.docker.com/network/network-tutorial-standalone/">https://docs.docker.com/network/network-tutorial-standalone/</a></p>
</blockquote>
<h4 id="ec1a86a0-cdc9-4b6a-8b13-597b2afdc8d9">cannot resolve dns names</h4>
<blockquote>
<p>try pinging the alpine2 container by container name. This will fail</p>
<p>&mdash; <a href="https://docs.docker.com/network/network-tutorial-standalone/">https://docs.docker.com/network/network-tutorial-standalone/</a></p>
</blockquote>
<h2 id="bd32da3e-f106-4ac0-8f20-1f57bb3da3e8">Networking with standalone containers</h2>
<ul>
<li>Référence externe : <a href="https://docs.docker.com/network/network-tutorial-standalone/">https://docs.docker.com/network/network-tutorial-standalone/</a></li>
</ul>
<blockquote>
<p>Notice that this network&rsquo;s gateway is 172.18.0.1, as opposed to the
default bridge network, whose gateway is <a href="/braindump/posts/adresse_de_la_machine_hote_dans_docker/">172.17.0.1</a>. The exact IP address
may be different on your system.</p>
<p>&mdash; <a href="https://docs.docker.com/network/network-tutorial-standalone/">https://docs.docker.com/network/network-tutorial-standalone/</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>docker run -dit &ndash;name alpine1 &ndash;network alpine-net alpine ash</p>
<p>&mdash; <a href="https://docs.docker.com/network/network-tutorial-standalone/">https://docs.docker.com/network/network-tutorial-standalone/</a></p>
</blockquote>
<!--more-->
<h2 id="notes-pointant-ici">Notes pointant ici</h2>
<ul>
<li><a href="/braindump/posts/adresse_de_la_machine_hote_dans_docker/">adresse de la machine hôte dans docker</a></li>
<li><a href="/braindump/posts/asylo/">asylo</a></li>
<li><a href="/braindump/posts/aws/">AWS</a></li>
<li><a href="/braindump/posts/beware_the_resolver_of_nginx/">beware the resolver of nginx</a></li>
<li><a href="/braindump/posts/bitnami/">bitnami</a></li>
<li><a href="/braindump/posts/budtmo_docker_android/">budtmo/docker-android</a></li>
<li><a href="/braindump/posts/buildx/">buildx</a></li>
<li><a href="/braindump/posts/cargo_chef/">cargo-chef</a></li>
<li><a href="/braindump/posts/distroless/">distroless</a></li>
<li><a href="/braindump/posts/docker_access_to_raspberry_pi_gpio_pins/">docker Access to Raspberry Pi GPIO Pins</a></li>
<li><a href="/braindump/posts/docker_context/">docker context</a></li>
<li><a href="/braindump/posts/docker_mtu_issues_and_solutions/#id-7d2ca87f-7cf2-4638-8ec8-efa45bcdda23-docker-does-not-check-the-id-222cf970-d434-40ba-9ef6-323c528b102e-mtu-at-startup">docker does not check the mtu at startup</a></li>
<li><a href="/braindump/posts/docker_embedded_dns/">docker embedded dns</a></li>
<li><a href="/braindump/posts/docker_engine_20_10/">docker engine 20.10</a></li>
<li><a href="/braindump/posts/docker_entrypoint_use_arg_and_env/">docker entrypoint use ARG and ENV</a></li>
<li><a href="/braindump/posts/docker_entrypoint_vs_kubernetes_command/">docker entrypoint vs kubernetes command</a></li>
<li><a href="/braindump/posts/docker_hub/">docker hub</a></li>
<li><a href="/braindump/posts/docker_looses_the_dns_configuration/">docker looses the dns configuration</a></li>
<li><a href="/braindump/posts/docker_mtu_issues_and_solutions/">Docker MTU issues and solutions</a></li>
<li><a href="/braindump/posts/docker_run/">docker run</a></li>
<li><a href="/braindump/posts/docker_containerd_and_runc/">docker, containerd and runc</a></li>
<li><a href="/braindump/posts/docker_compose/">docker-compose</a></li>
<li><a href="/braindump/posts/docker_in_docker/">docker-in-docker</a></li>
<li><a href="/braindump/posts/electro_monkeys/">Electro Monkeys</a></li>
<li><a href="/braindump/posts/actions_runner_controller/#fix-id-3ba11dbe-66f0-4e2e-9af5-e1e4f45a1d89-docker-mtu-issues-and-solutions">fix Docker MTU issues and solutions</a></li>
<li><a href="/braindump/posts/how_docker_container_dns_works/">how Docker container DNS works</a></li>
<li><a href="https://konubinix.eu/blog/posts/how_i_debug_mtu_issues_in_k3d_in_docker_in_earthly_in_docker_in_k8s/?title=how_i_debug_mtu_issues_in_k3d_in_docker_in_earthly_in_docker_in_k8s#">how I debug MTU issues in k3d in docker in earthly in docker in k8s</a> (blog)</li>
<li><a href="/braindump/posts/how_should_systemd_resolved_and_docker_interact/">how should systemd-resolved and docker interact?</a></li>
<li><a href="/braindump/posts/how_to_get_a_docker_manifest_from_docker_hub/">how to get a docker manifest from docker-hub</a></li>
<li><a href="/braindump/posts/how_to_run_containerized_bluetooth_applications_with_bluez/">how to run containerized Bluetooth applications with BlueZ</a></li>
<li><a href="/braindump/posts/kubernetes/#73298ba5-9790-4959-b8a9-7453486ab5ab">k3d</a></li>
<li><a href="/braindump/posts/leverage_multi_cpu_architecture_support_docker_documentation/">Leverage multi-CPU architecture support | Docker Documentation</a></li>
<li><a href="/braindump/posts/multi_stage_build/">multi-stage build</a></li>
<li><a href="/braindump/posts/oci/">oci</a></li>
<li><a href="/braindump/posts/oci_artifact/">OCI artifact</a></li>
<li><a href="/braindump/posts/podman/">podman</a></li>
<li><a href="/braindump/posts/point_sur_les_container_runtimes/">point sur les container runtimes</a></li>
<li><a href="/braindump/posts/rootless/">rootless</a></li>
<li><a href="/braindump/posts/share_variable_in_multi_stage_dockerfile_arg_before_from_not_substituted/">share variable in multi-stage Dockerfile: ARG before FROM not substituted</a></li>
<li><a href="/braindump/posts/traefik_et_maesh_de_l_ingress_au_service_mesh_avec_michael_matur/">traefik et maesh : de l ingress au service mesh avec Michael Matur</a></li>
<li><a href="/braindump/posts/une_architecture_gitops_from_scratch_gitlab_ansible_terraform_kub_et_aws_l_ortola_a_moreau/">Une Architecture GitOps from scratch : Gitlab, Ansible, Terraform, Kub et AWS (L.Ortola A.Moreau)</a></li>
<li><a href="https://konubinix.eu/blog/posts/clk_k8s_accessing_the_host_from_the_pod_on_linux_and_mac/?title=with_docker_desktop#with-docker-desktop">with docker desktop</a> (blog)</li>
</ul>
<h2 id="permalink"><a href="https://konubinix.eu/braindump/7d2ca87f-7cf2-4638-8ec8-efa45bcdda23?title=docker">Permalink</a></h2>
      </div>
	  <aside class="date"><time>Last updated: 06 Aug 2024</time></aside>
	  <aside class="date"><time>Published&nbsp;&nbsp;&nbsp;: 14 Oct 2020</time></aside>
    </div>
  </div>
</div>

<script src="/braindump/js/URI.js" type="text/javascript"></script>

<script src="/braindump/js/page.js" type="text/javascript"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</body>
</html>
