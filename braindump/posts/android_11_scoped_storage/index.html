<!DOCTYPE html>
<html><title>android 11 scoped storage</title>


<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="google-site-verification" content="bLmaFyyXugiCqSup-eIIIx0B4CngtdF_svyMMKQbS5E" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=10, minimum-scale=0.5, user-scalable=yes">
<meta name="apple-mobile-web-app-capable" content="yes" />
<script src="https://hypothes.is/embed.js" async></script>


<link rel="stylesheet" href="/braindump/css/main.min.56b43bcbc759a196f9dd525bee62bdec45a29ba95902bbab74a4f7ad2ea3e8cb.css"/>

<link rel="stylesheet" href="/braindump/css/links.min.4bf1990b213fb76d2a66153dc6ef9a57d49f536c6baf6e7f19a7948470a38141.css"/>

<link rel="stylesheet" href="/braindump/css/konubinix.min.cf2d0f36945178c647979ee68f1830892e06aa3d481d8913728b5c7462b97f6e.css"/>

<link rel="stylesheet" href="/ipfs/QmQFVQS89fv1XUNFcjwCKDePzckuT9kpuAVNYUwNdEfYcv/css/all.css"/>
<link rel="shortcut icon" href="/ipfs/QmVFwYV7YRZLKU3ybN1hW4jqfyZGPLKJwd8toN2wHz5UAD?a.png" type="image/x-icon" />

<body><header>
  <div>
	<a href="/braindump//"><h5 class="site-title">Konubinix&#39; opinionated web of thoughts</h5></a>
  </div>
  <span>
	<a href="/blog/"><i class="icon fas fa-blog"></i></a>
	<a href="/braindump/posts/"><i class="icon fas fa-brain"></i></a>
    <a href="mailto:konubinixweb@gmail.com"><i class="icon fas fa-envelope-square"></i></a>
    <a href="https://github.com/konubinix"><i class="icon fab fa-github-square"></i></a>
    <a href="https://linkedin.com/in/samuel-loury-61259040"><i class="icon fab fa-linkedin"></i></a>
	<a href="/braindump/graph.html"><i class="icon fas fa-project-diagram"></i></a>
	<a href="/braindump/index.xml"><i class="icon fas fa-rss-square"></i></a>
	<a href="/braindump/tags/"><i class="icon fa fa-tag"></i></a>
	<a href="/braindump/braindump_search"><i class="icon fa fa-search"></i></a>
  </span>
</header>

<div class="grid-container">
  <div class="grid">
    <div class="page" data-level="1">
      <div class="content">
		<p class="lead">
        <h1>Android 11 Scoped Storage</h1>
		<span class="badge badge-pill badge-warning"><a href="/braindump/tags/fleeting/">Fleeting</a></span></p>
        <ul>
<li>External reference: <a href="https://developer.android.com/training/data-storage/manage-all-files">https://developer.android.com/training/data-storage/manage-all-files</a></li>
<li>External reference: <a href="https://developer.android.com/about/versions/11/privacy/storage">https://developer.android.com/about/versions/11/privacy/storage</a></li>
<li>External reference: <a href="https://medium.com/androiddevelopers/android-11-storage-faq-78cefea52b7c">https://medium.com/androiddevelopers/android-11-storage-faq-78cefea52b7c</a></li>
</ul>
<p>Android 11 storage FAQ</p>
<blockquote>
<p>First introduced in Android 10, scoped storage is designed to protect app and user data and reduce file clutter</p>
<p>&mdash; <a href="https://medium.com/androiddevelopers/android-11-storage-faq-78cefea52b7c">https://medium.com/androiddevelopers/android-11-storage-faq-78cefea52b7c</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>no longer use the
ACTION_OPEN_DOCUMENT_TREE
intent action to request access to the following directories:</p>
<p>The root directory of the internal storage volume.
The root directory of each SD card volume that the device manufacturer
considers to be reliable, regardless of whether the card is emulated or
removable. A reliable volume is one that an app can successfully access most of
the time.
The Download directory.</p>
<p>&mdash; <a href="https://developer.android.com/about/versions/11/privacy/storage">https://developer.android.com/about/versions/11/privacy/storage</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>your app targets AndroidÂ 11, both the
WRITE_EXTERNAL_STORAGE permission and the WRITE_MEDIA_STORAGE privileged
permission no longer provide any additional access</p>
<p>&mdash; <a href="https://developer.android.com/about/versions/11/privacy/storage">https://developer.android.com/about/versions/11/privacy/storage</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>some
apps have a core use case that requires broad access of files on a device, but
cannot do so efficiently using the privacy-friendly storage best practices.
Android provides a special app access called All files access for these
situations. To learn more, see the guide on how to manage all
files on a storage device.</p>
<p>&mdash; <a href="https://developer.android.com/about/versions/11/privacy/storage">https://developer.android.com/about/versions/11/privacy/storage</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>some
apps have a core use case that requires broad access to files on a device, but
can&rsquo;t access them efficiently using the privacy-friendly storage best practices.
Android provides a special app access called all-files access for these
situations.</p>
<p>&mdash; <a href="https://developer.android.com/training/data-storage/manage-all-files">https://developer.android.com/training/data-storage/manage-all-files</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>example, an anti-virus app&rsquo;s primary use case might require regular scanning
of many files across different directories. If this scanning requires repeated
user interactions to select directories using the system file picker, it
provides a poor user experience</p>
<p>&mdash; <a href="https://developer.android.com/training/data-storage/manage-all-files">https://developer.android.com/training/data-storage/manage-all-files</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>request all-files access from the user by doing the following:</p>
<p>Declare the
MANAGE_EXTERNAL_STORAGE
permission in the manifest.
Use the
ACTION_MANAGE_ALL_FILES_ACCESS_PERMISSION
intent action to direct users to a system settings page where they can enable
the following option for your app: Allow access to manage all files.</p>
<p>To determine whether your app has been granted the MANAGE_EXTERNAL_STORAGE
permission, call
Environment.isExternalStorageManager().</p>
<p>&mdash; <a href="https://developer.android.com/training/data-storage/manage-all-files">https://developer.android.com/training/data-storage/manage-all-files</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>MANAGE_EXTERNAL_STORAGE permission grants the following:</p>
<p>Read and write access to all files within shared
storage.</p>
<p>&mdash; <a href="https://developer.android.com/training/data-storage/manage-all-files">https://developer.android.com/training/data-storage/manage-all-files</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>Access to the root directory of both the USB on-the-go (OTG) drive and the SD
card</p>
<p>&mdash; <a href="https://developer.android.com/training/data-storage/manage-all-files">https://developer.android.com/training/data-storage/manage-all-files</a></p>
</blockquote>
<!--more-->
<h2 id="notes-linking-here">Notes linking here</h2>
<ul>
<li><a href="https://konubinix.eu/blog/posts/a_python_runtime_on_android/?title=note_about_accessing_the_files#note-about-accessing-the-files">note about accessing the files</a> (blog)</li>
<li><a href="/braindump/posts/android/#314d97bf-ea1c-41b1-82c0-ae11a32ccec8">provide permissions (like camera or sdcard)</a></li>
</ul>
<h2 id="permalink"><a href="https://konubinix.eu/braindump/d772dfb3-66a9-4357-91f2-d879f2d8cc2b?title=android_11_scoped_storage">Permalink</a></h2>
      </div>
	  <aside class="date"><time>Last updated: 28 Oct 2024</time></aside>
	  <aside class="date"><time>Published&nbsp;&nbsp;&nbsp;: 28 Oct 2024</time></aside>
    </div>
  </div>
</div>

<script src="/braindump/js/URI.js" type="text/javascript"></script>

<script src="/braindump/js/page.js" type="text/javascript"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</body>
</html>
