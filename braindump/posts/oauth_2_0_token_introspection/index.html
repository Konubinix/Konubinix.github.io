<!DOCTYPE html>
<html><title>OAuth 2.0 Token Introspection</title>


<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="google-site-verification" content="bLmaFyyXugiCqSup-eIIIx0B4CngtdF_svyMMKQbS5E" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=10, minimum-scale=0.5, user-scalable=yes">
<meta name="apple-mobile-web-app-capable" content="yes" />
<script src="https://hypothes.is/embed.js" async></script>


<link rel="stylesheet" href="/braindump/css/main.min.56b43bcbc759a196f9dd525bee62bdec45a29ba95902bbab74a4f7ad2ea3e8cb.css"/>

<link rel="stylesheet" href="/braindump/css/links.min.4bf1990b213fb76d2a66153dc6ef9a57d49f536c6baf6e7f19a7948470a38141.css"/>

<link rel="stylesheet" href="/braindump/css/konubinix.min.cf2d0f36945178c647979ee68f1830892e06aa3d481d8913728b5c7462b97f6e.css"/>

<link rel="stylesheet" href="/ipfs/QmQFVQS89fv1XUNFcjwCKDePzckuT9kpuAVNYUwNdEfYcv/css/all.css"/>
<link rel="shortcut icon" href="/ipfs/QmVFwYV7YRZLKU3ybN1hW4jqfyZGPLKJwd8toN2wHz5UAD?a.png" type="image/x-icon" />

<body><header>
  <div>
	<a href="/braindump//"><h5 class="site-title">Konubinix&#39; opinionated web of thoughts</h5></a>
  </div>
  <span>
	<a href="/blog/"><i class="icon fas fa-blog"></i></a>
	<a href="/braindump/posts/"><i class="icon fas fa-brain"></i></a>
    <a href="mailto:konubinixweb@gmail.com"><i class="icon fas fa-envelope-square"></i></a>
    <a href="https://github.com/konubinix"><i class="icon fab fa-github-square"></i></a>
    <a href="https://linkedin.com/in/samuel-loury-61259040"><i class="icon fab fa-linkedin"></i></a>
	<a href="/braindump/graph.html"><i class="icon fas fa-project-diagram"></i></a>
	<a href="/braindump/index.xml"><i class="icon fas fa-rss-square"></i></a>
	<a href="/braindump/tags/"><i class="icon fa fa-tag"></i></a>
	<a href="/braindump/braindump_search"><i class="icon fa fa-search"></i></a>
  </span>
</header>

<div class="grid-container">
  <div class="grid">
    <div class="page" data-level="1">
      <div class="content">
		<p class="lead">
        <h1>OAuth 2.0 Token Introspection</h1>
		<span class="badge badge-pill badge-warning"><a href="/braindump/tags/fleeting/">Fleeting</a></span></p>
        <ul>
<li>External reference: <a href="https://datatracker.ietf.org/doc/html/rfc7662">https://datatracker.ietf.org/doc/html/rfc7662</a></li>
</ul>
<p><a href="/braindump/posts/oauth_2_0/">OAuth 2.0</a> <a href="/braindump/posts/oauth_2_0/#26052c2d-ac4a-4637-9122-704d51585dc8">token</a> Introspection</p>
<blockquote>
<p>This specification defines a protocol that allows authorized protected resources
to query the authorization server to determine the set of metadata for a given
token that was presented to them by an OAuth 2.0 client</p>
<p>&mdash; <a href="https://datatracker.ietf.org/doc/html/rfc7662">https://datatracker.ietf.org/doc/html/rfc7662</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>contents of tokens are opaque to clients</p>
<p>&mdash; <a href="https://datatracker.ietf.org/doc/html/rfc7662">https://datatracker.ietf.org/doc/html/rfc7662</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>client does not need to know anything about the
content or structure of the token itself, if there is any</p>
<p>&mdash; <a href="https://datatracker.ietf.org/doc/html/rfc7662">https://datatracker.ietf.org/doc/html/rfc7662</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>However, there is still a large amount of metadata that may be attached to a
token, such as its current validity, approved scopes, and information about the
context in which the token was issued.  These pieces of information are often
vital to protected resources making authorization decisions based on the tokens
being presented</p>
<p>&mdash; <a href="https://datatracker.ietf.org/doc/html/rfc7662">https://datatracker.ietf.org/doc/html/rfc7662</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>OAuth 2.0 does not define a protocol for the resource server to learn
meta-information about a token that it has received from an
authorization server</p>
<p>&mdash; <a href="https://datatracker.ietf.org/doc/html/rfc7662">https://datatracker.ietf.org/doc/html/rfc7662</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>different approaches [&hellip;] include using <a href="/braindump/posts/oauth_2_0/#eec4cf73-015a-4574-beb5-f6c95445dfa7">structured token</a> formats such as <a href="/braindump/posts/json_web_tokens/">JWT</a>
[RFC7519]</p>
<p>&mdash; <a href="https://datatracker.ietf.org/doc/html/rfc7662">https://datatracker.ietf.org/doc/html/rfc7662</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>protocol that allows authorized
protected resources to query the authorization server to determine
the set of metadata for a given token that was presented to them by
an OAuth 2.0 client</p>
<p>&mdash; <a href="https://datatracker.ietf.org/doc/html/rfc7662">https://datatracker.ietf.org/doc/html/rfc7662</a></p>
</blockquote>
<p>Actually, the format of the introspected claims is almost the same as the one
defined in <a href="/braindump/posts/json_web_tokens/">JWT</a>.</p>
<blockquote>
<p>server responds with a JSON object [RFC7159] in &ldquo;application/
json&rdquo; format with the following top-level members.</p>
<p>active
REQUIRED.  Boolean indicator of whether or not the presented token
is currently active.  The specifics of a token&rsquo;s &ldquo;active&rdquo; state
will vary depending on the implementation of the authorization
server and the information it keeps about its tokens, but a &ldquo;true&rdquo;
value return for the &ldquo;active&rdquo; property will generally indicate
that a given token has been issued by this authorization server,
has not been revoked by the resource owner, and is within its
given time window of validity (e.g., after its issuance time and
before its expiration time).  See Section 4 for information on
implementation of such checks.</p>
<p>scope
OPTIONAL.  A JSON string containing a space-separated list of
scopes associated with this token, in the format described in
Section 3.3 of OAuth 2.0 [<a href="/braindump/posts/oauth_2_0/">RFC6749</a>].</p>
<p>client_id
OPTIONAL.  Client identifier for the OAuth 2.0 client that
requested this token.</p>
<p>username
OPTIONAL.  Human-readable identifier for the resource owner who
authorized this token.</p>
<p>token_type
OPTIONAL.  Type of the token as defined in Section 5.1 of OAuth
2.0 [RFC6749].</p>
<p>exp
OPTIONAL.  Integer timestamp, measured in the number of seconds
since January 1 1970 UTC, indicating when this token will expire,
as defined in JWT [RFC7519].</p>
<p>iat
OPTIONAL.  Integer timestamp, measured in the number of seconds
since January 1 1970 UTC, indicating when this token was
originally issued, as defined in JWT [RFC7519].</p>
<p>nbf
OPTIONAL.  Integer timestamp, measured in the number of seconds
since January 1 1970 UTC, indicating when this token is not to be
used before, as defined in JWT [RFC7519].</p>
<p>sub
OPTIONAL.  Subject of the token, as defined in JWT [RFC7519].
Usually a machine-readable identifier of the resource owner who
authorized this token.</p>
<p>aud
OPTIONAL.  Service-specific string identifier or list of string
identifiers representing the intended audience for this token, as
defined in JWT [RFC7519].</p>
<p>iss
OPTIONAL.  String representing the issuer of this token, as
defined in JWT [RFC7519].</p>
<p>jti
OPTIONAL.  String identifier for the token, as defined in JWT
[<a href="/braindump/posts/json_web_tokens/">RFC7519</a>].</p>
<p>&mdash; <a href="https://datatracker.ietf.org/doc/html/rfc7662">https://datatracker.ietf.org/doc/html/rfc7662</a></p>
</blockquote>
<!--more-->
<h2 id="notes-linking-here">Notes linking here</h2>
<ul>
<li><a href="https://konubinix.eu/blog/posts/how_do_i_create_an_oauth_2_0_oidc_resource_server/?title=how_do_i_create_an_oauth_2_0_oidc_resource_server#">how do I create an OAuth 2.0/OIDC resource server?</a> (blog)</li>
<li><a href="/braindump/posts/securing_applications_and_services_guide/">Securing Applications and Services Guide</a></li>
</ul>
<h2 id="permalink"><a href="https://konubinix.eu/braindump/149f1893-4012-4708-af99-afeb5224e645?title=oauth_2_0_token_introspection">Permalink</a></h2>
      </div>
	  <aside class="date"><time>Last updated: 08 Jun 2022</time></aside>
	  <aside class="date"><time>Published&nbsp;&nbsp;&nbsp;: 07 Jan 2022</time></aside>
    </div>
  </div>
</div>

<script src="/braindump/js/URI.js" type="text/javascript"></script>

<script src="/braindump/js/page.js" type="text/javascript"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</body>
</html>
