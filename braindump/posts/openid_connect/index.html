<!DOCTYPE html>
<html><title>OpenID Connect</title>


<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="google-site-verification" content="bLmaFyyXugiCqSup-eIIIx0B4CngtdF_svyMMKQbS5E" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=10, minimum-scale=0.5, user-scalable=yes">
<meta name="apple-mobile-web-app-capable" content="yes" />
<script src="https://hypothes.is/embed.js" async></script>


<link rel="stylesheet" href="/braindump/css/main.min.56b43bcbc759a196f9dd525bee62bdec45a29ba95902bbab74a4f7ad2ea3e8cb.css"/>

<link rel="stylesheet" href="/braindump/css/links.min.4bf1990b213fb76d2a66153dc6ef9a57d49f536c6baf6e7f19a7948470a38141.css"/>

<link rel="stylesheet" href="/braindump/css/konubinix.min.cf2d0f36945178c647979ee68f1830892e06aa3d481d8913728b5c7462b97f6e.css"/>

<link rel="stylesheet" href="/ipfs/QmQFVQS89fv1XUNFcjwCKDePzckuT9kpuAVNYUwNdEfYcv/css/all.css"/>
<link rel="shortcut icon" href="/ipfs/QmVFwYV7YRZLKU3ybN1hW4jqfyZGPLKJwd8toN2wHz5UAD?a.png" type="image/x-icon" />

<body><header>
  <div>
	<a href="/braindump//"><h5 class="site-title">Konubinix&#39; opinionated web of thoughts</h5></a>
  </div>
  <span>
	<a href="/blog/"><i class="icon fas fa-blog"></i></a>
	<a href="/braindump/posts/"><i class="icon fas fa-brain"></i></a>
    <a href="mailto:konubinixweb@gmail.com"><i class="icon fas fa-envelope-square"></i></a>
    <a href="https://github.com/konubinix"><i class="icon fab fa-github-square"></i></a>
    <a href="https://linkedin.com/in/samuel-loury-61259040"><i class="icon fab fa-linkedin"></i></a>
	<a href="/braindump/graph.html"><i class="icon fas fa-project-diagram"></i></a>
	<a href="/braindump/index.xml"><i class="icon fas fa-rss-square"></i></a>
	<a href="/braindump/tags/"><i class="icon fa fa-tag"></i></a>
	<a href="/braindump/braindump_search"><i class="icon fa fa-search"></i></a>
  </span>
</header>

<div class="grid-container">
  <div class="grid">
    <div class="page" data-level="1">
      <div class="content">
		<p class="lead">
        <h1>OpenID Connect</h1>
		<span class="badge badge-pill badge-warning"><a href="/braindump/tags/fleeting/">Fleeting</a></span></p>
        <ul>
<li>External reference: <a href="https://openid.net/specs/openid-connect-core-1_0.html#UserInfo">https://openid.net/specs/openid-connect-core-1_0.html#UserInfo</a></li>
<li>External reference: <a href="https://openid.net/specs/openid-connect-core-1_0.html#IDTokenValidation">https://openid.net/specs/openid-connect-core-1_0.html#IDTokenValidation</a></li>
<li>External reference: <a href="https://auth0.com/intro-to-iam/what-is-openid-connect-oidc/">https://auth0.com/intro-to-iam/what-is-openid-connect-oidc/</a></li>
<li>External reference: <a href="https://openid.net/specs/openid-connect-core-1_0.html#FormSerialization">https://openid.net/specs/openid-connect-core-1_0.html#FormSerialization</a></li>
<li>External reference: <a href="https://openid.net/specs/openid-connect-core-1_0.html#Introduction">https://openid.net/specs/openid-connect-core-1_0.html#Introduction</a></li>
<li>External reference: <a href="https://openid.net/specs/openid-connect-core-1_0.html">https://openid.net/specs/openid-connect-core-1_0.html</a></li>
<li>External reference: <a href="https://openid.net/connect/">https://openid.net/connect/</a></li>
<li>External reference: <a href="https://openid.net/specs/openid-connect-basic-1_0.html">https://openid.net/specs/openid-connect-basic-1_0.html</a></li>
<li>External reference: <a href="https://connect2id.com/learn/openid-connect">https://connect2id.com/learn/openid-connect</a></li>
</ul>
<div class="iframe-container ratio169"><iframe src="https://www.youtube-nocookie.com/embed/t18YB3xDfXI" allowfullscreen title="YouTube Video"></iframe></div>
<p>It&rsquo;s an extension on top of <a href="/braindump/posts/oauth_2_0/">OAuth 2.0</a> that provides a way for the <a href="/braindump/posts/oauth_2_0/#f86ccef1-e4b1-413f-b78c-8070f4dceafa">client</a> to
get the identity of the <a href="/braindump/posts/resource_owner/">resource owner</a>.</p>
<p>It does not say anything about the <a href="/braindump/posts/oauth_2_0/#72564685-ad13-4af1-8a9a-8230b967a36b">resource server</a> and let <a href="/braindump/posts/oauth_2_0/">OAuth 2.0</a>
deal with this<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup>.</p>
<p>They precise only two roles: <a href="#649456a8-989a-4e4c-808c-a38107d75e5b">OpenID Connect Provider</a> and <a href="/braindump/posts/relying_party/">Relying
Party</a> <sup id="fnref:2"><a href="#fn:2" class="footnote-ref" role="doc-noteref">2</a></sup>. They don&rsquo;t even redefine the <a href="/braindump/posts/oauth_2_0/#72564685-ad13-4af1-8a9a-8230b967a36b">resource server</a>, while they rename
the provider and the relying party<sup id="fnref:3"><a href="#fn:3" class="footnote-ref" role="doc-noteref">3</a></sup>. Actually, in <a href="https://openid.net/specs/openid-connect-core-1_0.html">the standard</a>, there are
only two references to the resource server and only anecdotally.</p>
<p>Also, they define the end-user as being the human participant<sup id="fnref:4"><a href="#fn:4" class="footnote-ref" role="doc-noteref">4</a></sup>, therefore a more
vague definition of the <a href="/braindump/posts/resource_owner/">resource owner</a>.</p>
<p>The overview of the flow indeed only shows those actors and only refers to the
<a href="/braindump/posts/oauth_2_0/#26052c2d-ac4a-4637-9122-704d51585dc8">access token</a> as a side note<sup id="fnref:5"><a href="#fn:5" class="footnote-ref" role="doc-noteref">5</a></sup>.</p>
<p>Here are the <a href="https://openid.net/specs/openid-connect-core-1_0.html#ScopeClaims">scopes</a> are used to get access to <a href="https://openid.net/specs/openid-connect-core-1_0.html#ScopeClaims">some claims</a> about the user.</p>
<blockquote>
<p>OpenID Connect implements authentication as an extension to the OAuth 2.0 authorization process. Use of this extension is requested by Clients by including the openid scope value in the Authorization Request. An Authorization Request using these extensions is called an Authentication Request.</p>
<p>&mdash; <a href="https://openid.net/specs/openid-connect-basic-1_0.html">https://openid.net/specs/openid-connect-basic-1_0.html</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>3.1.3.7.
ID Token Validation</p>
<p>Clients MUST validate the ID Token in the Token Response
in the following manner:</p>
<p>If the ID Token is encrypted, decrypt it using the
keys and algorithms that the Client specified during Registration
that the</p>
<p>&mdash; <a href="https://openid.net/specs/openid-connect-core-1_0.html">https://openid.net/specs/openid-connect-core-1_0.html</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>3.2.2.9.
Access Token Validation</p>
<p>To validate an Access Token issued from the Authorization Endpoint with an ID Token,
the Client SHOULD do the following:</p>
<p>Hash the octets of the ASCII representation of
the access_token
with the hash algorithm specified in JWA (Jones, M., “JSON Web Algorithms (JWA),” July 2014.) [JWA] for the
alg Header Parameter
of the ID Token&rsquo;s JOSE Header.
For instance, if the alg is
RS256,
the hash algorithm used is SHA-256.</p>
<p>Take the left-most half of the hash and base64url encode it.</p>
<p>The value of at_hash in the ID Token MUST
match the value produced in the previous step.</p>
<p>&mdash; <a href="https://openid.net/specs/openid-connect-core-1_0.html">https://openid.net/specs/openid-connect-core-1_0.html</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>Standard Claims</p>
<p>This specification defines a set of standard Claims.
They can be requested to be returned either in the
UserInfo Response, per Section 5.3.2 (Successful UserInfo Response),
or in the ID Token, per Section 2 (ID Token).</p>
<p>&mdash; <a href="https://openid.net/specs/openid-connect-core-1_0.html">https://openid.net/specs/openid-connect-core-1_0.html</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>5.3.
UserInfo Endpoint</p>
<p>The UserInfo Endpoint is an OAuth 2.0 Protected Resource that
returns Claims about the authenticated End-User.
To obtain the requested Claims about the End-User, the Client
makes a request to the UserInfo Endpoint
using an Access Token obtained through OpenID Connect Authentication.
These Claims are normally represented by a JSON object that contains
a collection of name and value pairs for the Claims</p>
<p>&mdash; <a href="https://openid.net/specs/openid-connect-core-1_0.html">https://openid.net/specs/openid-connect-core-1_0.html</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>Claims requested by the profile, email, address, and phone scope values are
returned from the UserInfo Endpoint, as described in Section 5.3.2 (Successful
UserInfo Response), when a response_type value is used that results in an Access
Token being issued.  However, when no Access Token is issued (which is the case
for the response_type value id_token), the resulting Claims are returned in the
ID Token.</p>
<p>&mdash; <a href="https://openid.net/specs/openid-connect-core-1_0.html">https://openid.net/specs/openid-connect-core-1_0.html</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>Claim Stability and Uniqueness</p>
<p>The sub (subject) and
iss (issuer) Claims, used together,
are the only Claims that an RP
can rely upon as a stable identifier for the End-User,
since the sub
Claim MUST be locally unique and never reassigned within the Issuer
for a particular End-User, as described in Section 2 (ID Token).
Therefore, the only guaranteed unique identifier for a given End-User is the
combination of the iss Claim
and the sub Claim</p>
<p>&mdash; <a href="https://openid.net/specs/openid-connect-core-1_0.html">https://openid.net/specs/openid-connect-core-1_0.html</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>For instance, an Issuer MAY re-use an
email Claim Value across different
End-Users at different points in time, and the claimed
email address for a given End-User MAY change
over time.
Therefore, other Claims such as email,
phone_number, and
preferred_username
and MUST NOT be used as unique identifiers for the End-User</p>
<p>&mdash; <a href="https://openid.net/specs/openid-connect-core-1_0.html">https://openid.net/specs/openid-connect-core-1_0.html</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>The OpenID Connect Core 1.0 specification defines the core OpenID Connect
functionality: authentication built on top of OAuth 2.0 and the use of Claims to
communicate information about the End-User</p>
<p>&mdash; <a href="https://openid.net/specs/openid-connect-core-1_0.html#Introduction">https://openid.net/specs/openid-connect-core-1_0.html#Introduction</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>Its formula for success: simple JSON-based <a href="#6796313b-7141-4013-848f-bc08edd02472">identity tokens</a> (<a href="/braindump/posts/json_web_tokens/">JWT</a>), delivered via
<a href="/braindump/posts/oauth_2_0/">OAuth 2.0</a> flows designed for web, browser-based and native /
mobile applications.</p>
<p>&mdash; <a href="https://connect2id.com/learn/openid-connect">https://connect2id.com/learn/openid-connect</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>The ID token resembles the concept of an identity card, in a standard JWT
format, signed by the OpenID Provider (OP)</p>
<p>&mdash; <a href="https://connect2id.com/learn/openid-connect">https://connect2id.com/learn/openid-connect</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>ID tokens are requested via the OAuth 2.0 protocol, which has been a tremendous success on its own</p>
<p>&mdash; <a href="https://connect2id.com/learn/openid-connect">https://connect2id.com/learn/openid-connect</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>OpenID Connect 1.0 is a simple identity layer on top of the OAuth 2.0
protocol. It allows Clients to verify the identity of the End-User based on the
authentication performed by an Authorization Server, as well as to obtain basic
profile information about the End-User in an interoperable and REST-like manner.</p>
<p>&mdash; <a href="https://openid.net/connect/">https://openid.net/connect/</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>OpenID Connect utilises the OAuth 2.0 semantics and flows to allow clients (relying parties) to access the user&rsquo;s identity, encoded in a JSON Web Token (JWT) called ID token</p>
<p>&mdash; <a href="https://connect2id.com/learn/openid-connect">https://connect2id.com/learn/openid-connect</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<dl>
<dt>ID Token</dt>
<dd>JSON Web Token (JWT) that contains Claims about the Authentication event. It MAY contain other Claims.</dd>
</dl>
<p>&mdash; <a href="https://openid.net/specs/openid-connect-basic-1_0.html">https://openid.net/specs/openid-connect-basic-1_0.html</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<dl>
<dt>OpenID Provider (OP)</dt>
<dd>OAuth 2.0 Authorization Server that is capable of
Authenticating the End-User and providing Claims to a Relying Party about the
Authentication event and the End-User</dd>
</dl>
<p>&mdash; <a href="https://openid.net/specs/openid-connect-basic-1_0.html">https://openid.net/specs/openid-connect-basic-1_0.html</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<dl>
<dt>Relying Party (RP)</dt>
<dd>OAuth 2.0 Client application requiring End-User
Authentication and Claims from an OpenID Provider.</dd>
</dl>
<p>&mdash; <a href="https://openid.net/specs/openid-connect-basic-1_0.html">https://openid.net/specs/openid-connect-basic-1_0.html</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>The Code Flow consists of the following steps:</p>
<ul>
<li>Client prepares an Authentication Request containing the desired request parameters.</li>
<li>Client sends the request to the Authorization Server.</li>
<li>Authorization Server authenticates the End-User.</li>
<li>Authorization Server obtains End-User Consent/Authorization.</li>
<li>Authorization Server sends the End-User back to the Client with code.</li>
<li>Client sends the code to the Token Endpoint to receive an Access Token and ID Token in the response.</li>
<li>Client validates the tokens and retrieves the End-User&rsquo;s Subject Identifier.</li>
</ul>
<p>&mdash; <a href="https://openid.net/specs/openid-connect-basic-1_0.html">https://openid.net/specs/openid-connect-basic-1_0.html</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>The Client receives a response with the following parameters as described in
Section 4.1.4 of OAuth 2.0 [RFC6749]. The response SHOULD be encoded using UTF-8
[RFC3629].</p>
<dl>
<dt>access_token</dt>
<dd>REQUIRED. Access Token for the UserInfo Endpoint.</dd>
<dt>token_type</dt>
<dd>REQUIRED. OAuth 2.0 Token Type value. The value MUST be Bearer, as specified in OAuth 2.0 Bearer Token Usage [RFC6750], for Clients using this subset. Note that the token_type value is case insensitive.</dd>
<dt>id_token</dt>
<dd>REQUIRED. ID Token.</dd>
<dt>expires_in</dt>
<dd>OPTIONAL. Expiration time of the Access Token in seconds since the response was generated.</dd>
<dt>refresh_token</dt>
<dd>OPTIONAL. Refresh Token.</dd>
</dl>
<p>The Client can then use the Access Token to access protected resources at Resource Servers.</p>
<p>&mdash; <a href="https://openid.net/specs/openid-connect-basic-1_0.html">https://openid.net/specs/openid-connect-basic-1_0.html</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>The Client MUST validate the ID Token in the Token Response</p>
<p>&mdash; <a href="https://openid.net/specs/openid-connect-basic-1_0.html">https://openid.net/specs/openid-connect-basic-1_0.html</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>Use of this extension is requested by Clients by including the openid scope value in the Authorization Request</p>
<p>&mdash; <a href="https://openid.net/specs/openid-connect-core-1_0.html#Introduction">https://openid.net/specs/openid-connect-core-1_0.html#Introduction</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>Information about the authentication performed is returned in a JSON Web Token (JWT) [JWT] called an ID Token</p>
<p>&mdash; <a href="https://openid.net/specs/openid-connect-core-1_0.html#Introduction">https://openid.net/specs/openid-connect-core-1_0.html#Introduction</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>OAuth 2.0 Authentication Servers implementing OpenID Connect are also referred to as OpenID Providers (OPs).</p>
<p>&mdash; <a href="https://openid.net/specs/openid-connect-core-1_0.html#Introduction">https://openid.net/specs/openid-connect-core-1_0.html#Introduction</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>OAuth 2.0 Clients using OpenID Connect are also referred to as Relying Parties (RPs)</p>
<p>&mdash; <a href="https://openid.net/specs/openid-connect-core-1_0.html#Introduction">https://openid.net/specs/openid-connect-core-1_0.html#Introduction</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>If using the HTTP GET method, the request parameters are serialized using URI Query String Serialization, per Section 13.1. If using the HTTP POST method, the request parameters are serialized using Form Serialization</p>
<p>&mdash; <a href="https://openid.net/specs/openid-connect-core-1_0.html#Introduction">https://openid.net/specs/openid-connect-core-1_0.html#Introduction</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>primary extension that OpenID Connect makes to OAuth 2.0 to enable End-Users to
be Authenticated is the ID Token data structure. The ID Token is a security
token that contains Claims about the Authentication of an End-User by an
Authorization Server when using a Client, and potentially other requested
Claims.</p>
<p>&mdash; <a href="https://openid.net/specs/openid-connect-core-1_0.html#Introduction">https://openid.net/specs/openid-connect-core-1_0.html#Introduction</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p><a href="/braindump/posts/relying_party/">Client</a> MUST validate the Token Response as follows:</p>
<ul>
<li>Follow the validation rules in <a href="/braindump/posts/oauth_2_0/">RFC 6749</a>, especially those in Sections 5.1 and 10.12.</li>
<li>Follow the <a href="/braindump/posts/id_token_validation_rules/">ID Token validation rules</a> in Section 3.1.3.7.</li>
<li>Follow the <a href="/braindump/posts/access_token_validation_in_openid_connect/">Access Token validation</a> rules in Section 3.1.3.8.</li>
</ul>
<p>&mdash; <a href="https://openid.net/specs/openid-connect-core-1_0.html#Introduction">https://openid.net/specs/openid-connect-core-1_0.html#Introduction</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>Information about the <a href="/braindump/posts/authentication/">authentication</a> performed is returned in a JSON Web Token (JWT) [JWT] called an <a href="#6796313b-7141-4013-848f-bc08edd02472">ID Token</a></p>
<p>&mdash; <a href="https://openid.net/specs/openid-connect-basic-1_0.html">https://openid.net/specs/openid-connect-basic-1_0.html</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p><a href="/braindump/posts/authentication/">Authentication</a></p>
<p>Process used to achieve sufficient confidence in the binding between the Entity and the presented Identity.</p>
<p>&mdash; <a href="https://openid.net/specs/openid-connect-basic-1_0.html">https://openid.net/specs/openid-connect-basic-1_0.html</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p><a href="/braindump/posts/identifier/">Identifier</a></p>
<p>Value that uniquely characterizes an Entity in a specific context.</p>
<p>&mdash; <a href="https://openid.net/specs/openid-connect-basic-1_0.html">https://openid.net/specs/openid-connect-basic-1_0.html</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>OpenID Connect 1.0 is a simple identity layer on top of the OAuth 2.0 [<a href="/braindump/posts/oauth_2_0/">RFC6749</a>] protocol</p>
<p>&mdash; <a href="https://openid.net/specs/openid-connect-core-1_0.html#Introduction">https://openid.net/specs/openid-connect-core-1_0.html#Introduction</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>An Authentication Request is an OAuth 2.0 Authorization Request that requests that the End-User be authenticated by the Authorization Server.</p>
<p>&mdash; <a href="https://openid.net/specs/openid-connect-core-1_0.html#Introduction">https://openid.net/specs/openid-connect-core-1_0.html#Introduction</a></p>
</blockquote>
<h2 id="1d765c50-93b5-4af1-8e0a-b3bac96da24d">authentication request</h2>
<blockquote>
<p>3.3.2.1.  Authentication Request
Authentication Requests are made as defined in Section 3.1.2.1, except that these Authentication Request parameters are used as follows:</p>
<dl>
<dt>response_type</dt>
<dd>REQUIRED. OAuth 2.0 Response Type value that determines the authorization
processing flow to be used, including what parameters are returned from the
endpoints used. When using the Hybrid Flow, this value is id_token, token,
or id_token token. The meanings of these values are defined in OAuth 2.0
Multiple Response Type Encoding Practices [OAuth.Responses].</dd>
<dt>nonce</dt>
<dd>REQUIRED if the Response Type of the request is id_token or id_token token
and OPTIONAL when the Response Type of the request is token. It is a string
value used to associate a Client session with an ID Token, and to mitigate
replay attacks. The value is passed through unmodified from the
Authentication Request to the ID Token. Sufficient entropy MUST be present
in the nonce values used to prevent attackers from guessing values. For
implementation notes, see Section 15.5.2.  The following is a non-normative
example request using the Hybrid Flow that would be sent by the User Agent
to the Authorization Server in response to a corresponding HTTP 302 redirect
response by the Client (with line wraps within values for display purposes
only):</dd>
</dl>
<p>GET /authorize?
response_type=code%20id_token
&amp;client_id=s6BhdRkqt3
&amp;redirect_uri=https%3A%2F%2Fclient.example.org%2Fcb
&amp;scope=openid%20profile%20email
&amp;nonce=n-0S6_WzA2Mj
&amp;state=af0ifjsldkj HTTP/1.1
Host: server.example.com</p>
<p>&mdash; <a href="https://openid.net/specs/openid-connect-core-1_0.html">https://openid.net/specs/openid-connect-core-1_0.html</a></p>
</blockquote>
<h3 id="ba298164-6c85-45b3-af32-a68a682dcd11"><a href="/braindump/posts/cryptographic_nonce/">nonce</a></h3>
<h2 id="b43182db-d74d-41df-a2b1-3a45ef776210">response_type</h2>
<blockquote>
<p>Authorization Endpoint results are used in the following manner:</p>
<dl>
<dt>access_token</dt>
<dd>OAuth 2.0 Access Token. This is returned when the response_type value used is token, or id_token token. (A token_type value is also returned in the same cases.)</dd>
<dt>id_token</dt>
<dd>ID Token. This is returned when the response_type value used is id_token or id_token token.</dd>
<dt>code</dt>
<dd>Authorization Code. This is always returned when using the Hybrid Flow.</dd>
</dl>
<p>&mdash; <a href="https://openid.net/specs/openid-connect-core-1_0.html">https://openid.net/specs/openid-connect-core-1_0.html</a></p>
</blockquote>
<h2 id="1c7e6dc3-d445-4b71-b073-2bf965f8ac21">standard claims</h2>
<blockquote>
<p>This subset of OpenID Connect defines a set of standard Claims. They are returned in the <a href="#ae9e20b5-1834-47cf-9715-225f30fceaab">UserInfo</a> Response.</p>
<table>
  <thead>
      <tr>
          <th>Member</th>
          <th>Type</th>
          <th>Description</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>sub</td>
          <td>string</td>
          <td>Subject - Identifier for the End-User at the Issuer.</td>
      </tr>
      <tr>
          <td>name</td>
          <td>string</td>
          <td>End-User&rsquo;s full name in displayable form including all name parts, possibly including titles and suffixes, ordered according to the End-User&rsquo;s locale and preferences.</td>
      </tr>
      <tr>
          <td>given_name</td>
          <td>string</td>
          <td>Given name(s) or first name(s) of the End-User. Note that in some cultures, people can have multiple given names; all can be present, with the names being separated by space characters.</td>
      </tr>
      <tr>
          <td>family_name</td>
          <td>string</td>
          <td>Surname(s) or last name(s) of the End-User. Note that in some cultures, people can have multiple family names or no family name; all can be present, with the names being separated by space characters.</td>
      </tr>
      <tr>
          <td>middle_name</td>
          <td>string</td>
          <td>Middle name(s) of the End-User. Note that in some cultures, people can have multiple middle names; all can be present, with the names being separated by space characters. Also note that in some cultures, middle names are not used.</td>
      </tr>
      <tr>
          <td>nickname</td>
          <td>string</td>
          <td>Casual name of the End-User that may or may not be the same as the given_name. For instance, a nickname value of Mike might be returned alongside a given_name value of Michael.</td>
      </tr>
      <tr>
          <td>preferred_username</td>
          <td>string</td>
          <td>Shorthand name by which the End-User wishes to be referred to at the RP, such as janedoe or j.doe. This value MAY be any valid JSON string including special characters such as @, /, or whitespace. The RP MUST NOT rely upon this value being unique, as discussed in Section 2.5.3.</td>
      </tr>
      <tr>
          <td>profile</td>
          <td>string</td>
          <td>URL of the End-User&rsquo;s profile page. The contents of this Web page SHOULD be about the End-User.</td>
      </tr>
      <tr>
          <td>picture</td>
          <td>string</td>
          <td>URL of the End-User&rsquo;s profile picture. This URL MUST refer to an image file (for example, a PNG, JPEG, or GIF image file), rather than to a Web page containing an image. Note that this URL SHOULD specifically reference a profile photo of the End-User suitable for displaying when describing the End-User, rather than an arbitrary photo taken by the End-User.</td>
      </tr>
      <tr>
          <td>website</td>
          <td>string</td>
          <td>URL of the End-User&rsquo;s Web page or blog. This Web page SHOULD contain information published by the End-User or an organization that the End-User is affiliated with.</td>
      </tr>
      <tr>
          <td>email</td>
          <td>string</td>
          <td>End-User&rsquo;s preferred e-mail address. Its value MUST conform to the RFC 5322 [RFC5322] addr-spec syntax. The RP MUST NOT rely upon this value being unique, as discussed in Section 2.5.3.</td>
      </tr>
      <tr>
          <td>email_verified</td>
          <td>boolean</td>
          <td>True if the End-User&rsquo;s e-mail address has been verified; otherwise false. When this Claim Value is true, this means that the OP took affirmative steps to ensure that this e-mail address was controlled by the End-User at the time the verification was performed. The means by which an e-mail address is verified is context specific, and dependent upon the trust framework or contractual agreements within which the parties are operating.</td>
      </tr>
      <tr>
          <td>gender</td>
          <td>string</td>
          <td>End-User&rsquo;s gender. Values defined by this document are female and male. Other values MAY be used when neither of the defined values are applicable.</td>
      </tr>
      <tr>
          <td>birthdate</td>
          <td>string</td>
          <td>End-User&rsquo;s birthday, represented as an ISO 8601:2004 [ISO8601‑2004] YYYY-MM-DD format. The year MAY be 0000, indicating that it is omitted. To represent only the year, YYYY format is allowed. Note that depending on the underlying platform&rsquo;s date related function, providing just year can result in varying month and day, so the implementers need to take this factor into account to correctly process the dates.</td>
      </tr>
      <tr>
          <td>zoneinfo</td>
          <td>string</td>
          <td>String from zoneinfo [zoneinfo] time zone database representing the End-User&rsquo;s time zone. For example, Europe/Paris or America/Los_Angeles.</td>
      </tr>
      <tr>
          <td>locale</td>
          <td>string</td>
          <td>End-User&rsquo;s locale, represented as a BCP47 [RFC5646] language tag. This is typically an ISO 639-1 Alpha-2 [ISO639‑1] language code in lowercase and an ISO 3166-1 Alpha-2 [ISO3166‑1] country code in uppercase, separated by a dash. For example, en-US or fr-CA. As a compatibility note, some implementations have used an underscore as the separator rather than a dash, for example, en_US; Relying Parties MAY choose to accept this locale syntax as well.</td>
      </tr>
      <tr>
          <td>phone_number</td>
          <td>string</td>
          <td>End-User&rsquo;s preferred telephone number. E.164 [E.164] is RECOMMENDED as the format of this Claim, for example, +1 (425) 555-1212 or +56 (2) 687 2400. If the phone number contains an extension, it is RECOMMENDED that the extension be represented using the RFC 3966 [RFC3966] extension syntax, for example, +1 (604) 555-1234;ext=5678.</td>
      </tr>
      <tr>
          <td>phone_number_verified</td>
          <td>boolean</td>
          <td>True if the End-User&rsquo;s phone number has been verified; otherwise false. When this Claim Value is true, this means that the OP took affirmative steps to ensure that this phone number was controlled by the End-User at the time the verification was performed. The means by which a phone number is verified is context specific, and dependent upon the trust framework or contractual agreements within which the parties are operating. When true, the phone_number Claim MUST be in E.164 format and any extensions MUST be represented in RFC 3966 format.</td>
      </tr>
      <tr>
          <td>address</td>
          <td>JSON object</td>
          <td>End-User&rsquo;s preferred postal address. The value of the address member is a JSON [RFC4627] structure containing some or all of the members defined in Section 2.5.1.</td>
      </tr>
      <tr>
          <td>updated_at</td>
          <td>number</td>
          <td>Time the End-User&rsquo;s information was last updated. Its value is a JSON number representing the number of seconds from 1970-01-01T00:00:00Z as measured in UTC until the date/time.</td>
      </tr>
  </tbody>
</table>
<p>&mdash; <a href="https://openid.net/specs/openid-connect-basic-1_0.html#StandardClaims">https://openid.net/specs/openid-connect-basic-1_0.html#StandardClaims</a></p>
</blockquote>
<h2 id="ae9e20b5-1834-47cf-9715-225f30fceaab">userinfo endpoint</h2>
<ul>
<li>
<p>External reference: <a href="https://openid.net/specs/openid-connect-core-1_0.html#UserInfo">https://openid.net/specs/openid-connect-core-1_0.html#UserInfo</a>
It is an endpoint meant to be used by the <a href="/braindump/posts/relying_party/">relying party</a>, not the <a href="/braindump/posts/oauth_2_0/#72564685-ad13-4af1-8a9a-8230b967a36b">resource server</a>.</p>
<blockquote>
<p>The UserInfo Endpoint is an OAuth 2.0 Protected Resource that returns Claims
about the authenticated End-User. To obtain the requested Claims about the
End-User, the Client makes a request to the UserInfo Endpoint using an Access
Token obtained through OpenID Connect Authentication. These Claims are normally
represented by a JSON object that contains a collection of name and value pairs
for the Claims.</p>
<p>&mdash; <a href="https://openid.net/specs/openid-connect-core-1_0.html#UserInfo">https://openid.net/specs/openid-connect-core-1_0.html#UserInfo</a></p>
</blockquote>
</li>
</ul>
<h2 id="8213f6f0-7069-4443-b43b-ff5207a4b650">misconcetions</h2>
<p>people always say that it is a protocol to provide <a href="/braindump/posts/authentication/">authn</a> on top of <a href="/braindump/posts/oauth_2_0/">OAuth 2.0</a>. If
that was the case, it would defined stuff like <a href="/braindump/posts/multi_factor_authentication/">two factors authentication</a></p>
<p>It is rather a way to deal with <a href="/braindump/posts/identification/">identification</a>: getting some information about
the identity of the client. As if the authorization server were the <a href="/braindump/posts/oauth_2_0/#72564685-ad13-4af1-8a9a-8230b967a36b">resource
server</a> of user identity and the id token was the resource (see
<a href="/braindump/posts/authentication_vs_identification_vs_authorization/">authentication vs identification vs authorization</a>).</p>
<p>All the domains are so different that it looks impossible to define more
precise term that <a href="/braindump/posts/oauth_2_0/#90cbca1f-13ff-4f8d-9077-18722d75ae55">oauth 2.0 scope</a> and resources. But for identity, this is not
the case, there can be a consensus and a definition of the schema of the data
that makes identity.</p>
<p><a href="/braindump/posts/openid_connect/">OpenID Connect</a> is all about defining this schema and the protocol to get that
data.</p>
<p>For instance, in <a href="https://protocol.podigee.io/4-how-oidc-authentication-works">this podcast</a>, the confusion is made.</p>
<h2 id="6796313b-7141-4013-848f-bc08edd02472">Identity Token</h2>
<p>The <a href="/braindump/posts/json_web_tokens/">JWT</a> that contains data about the authentication event<sup id="fnref:6"><a href="#fn:6" class="footnote-ref" role="doc-noteref">6</a></sup>. Therefore
often related to the user itself.</p>
<h3 id="5b9f496a-472e-47b2-b8ea-3a06fc4081c7">claims</h3>
<blockquote>
<p>The following Claims are used within the <a href="#6796313b-7141-4013-848f-bc08edd02472">ID Token</a>:</p>
<dl>
<dt>iss</dt>
<dd>REQUIRED. Issuer Identifier for the Issuer of the response. The iss value is a
case-sensitive URL using the https scheme that contains scheme, host, and
optionally, port number and path components and no query or fragment
components.</dd>
<dt>sub</dt>
<dd>REQUIRED. Subject Identifier. Locally unique and never reassigned identifier
within the Issuer for the End-User, whichi is intended to be consumed by the
Client, e.g., 24400320 or AItOawmwtWwcT0k51BayewNvutrJUqsvl6qs7A4. It MUST NOT
exceed 255 ASCII characters in length. The sub value is a case-sensitive
string.</dd>
<dt>aud</dt>
<dd>REQUIRED. Audience(s) that this ID Token is intended for. It MUST contain the
OAuth 2.0 client_id of the Relying Party as an audience value. It MAY also
contain identifiers for other audiences. In the general case, the aud value is
an array of case-sensitive strings. In the common special case when there is
one audience, the aud value MAY be a single case-sensitive string.</dd>
<dt>exp</dt>
<dd>REQUIRED. Expiration time on or after which the ID Token MUST NOT be accepted
for processing. The processing of this parameter requires that the current
date/time MUST be before the expiration date/time listed in the
value. Implementers MAY provide for some small leeway, usually no more than a
few minutes, to account for clock skew. Its value is a JSON [RFC7159] number
representing the number of seconds from 1970-01-01T00:00:00Z as measured in
UTC until the date/time. See RFC 3339 [RFC3339] for details regarding
date/times in general and UTC in particular.</dd>
<dt>iat</dt>
<dd>REQUIRED. Time at which the JWT was issued. Its value is a JSON number
representing the number of seconds from 1970-01-01T00:00:00Z as measured in
UTC until the date/time.</dd>
<dt>auth_time</dt>
<dd>Time when the End-User authentication occurred. Its value is a JSON number
representing the number of seconds from 1970-01-01T00:00:00Z as measured in
UTC until the date/time. When a max_age request is made then this Claim is
REQUIRED; otherwise, its inclusion is OPTIONAL.</dd>
<dt>nonce</dt>
<dd>OPTIONAL. String value used to associate a Client session with an ID Token,
and to mitigate replay attacks. The value is passed through unmodified from
the Authentication Request to the ID Token. The Client MUST verify that the
nonce Claim Value is equal to the value of the nonce parameter sent in the
Authentication Request. If present in the Authentication Request,
Authorization Servers MUST include a nonce Claim in the ID Token with the
Claim Value being the nonce value sent in the Authentication Request. The
nonce value is a case-sensitive string.</dd>
<dt>at_hash</dt>
<dd>OPTIONAL. Access Token hash value. This is OPTIONAL when the ID Token is
issued from the Token Endpoint, which is the case for this subset of OpenID
Connect; nonetheless, an at_hash Claim MAY be present. Its value is the
base64url encoding of the left-most half of the hash of the octets of the
ASCII representation of the access_token value, where the hash algorithm used
is the hash algorithm used in the alg Header Parameter of the ID Token&rsquo;s JOSE
Header. For instance, if the alg is RS256, hash the access_token value with
SHA-256, then take the left-most 128 bits and base64url-encode them. The
at_hash value is a case-sensitive string.</dd>
<dt>acr</dt>
<dd>OPTIONAL. Authentication Context Class Reference. String specifying an
Authentication Context Class Reference value that identifies the
Authentication Context Class that the authentication performed satisfied. The
value &ldquo;0&rdquo; indicates the End-User authentication did not meet the requirements
of ISO/IEC 29115 [ISO29115] level 1. For historic reasons, the value &ldquo;0&rdquo; is
used to indicate that there is no confidence that the same person is actually
there. Authentications with level 0 SHOULD NOT be used to authorize access to
any resource of any monetary value. An absolute URI or an RFC 6711 [RFC6711]
registered name SHOULD be used as the acr value; registered names MUST NOT be
used with a different meaning than that which is registered. Parties using
this claim will need to agree upon the meanings of the values used, which may
be context specific. The acr value is a case-sensitive string.</dd>
<dt>amr</dt>
<dd>OPTIONAL. Authentication Methods References. JSON array of strings that are
identifiers for authentication methods used in the authentication. For
instance, values might indicate that both password and OTP authentication
methods were used. The definition of particular values to be used in the amr
Claim is beyond the scope of this document. Parties using this claim will need
to agree upon the meanings of the values used, which may be context
specific. The amr value is an array of case-sensitive strings.</dd>
<dt>azp</dt>
<dd>OPTIONAL. Authorized party - the party to which the ID Token was issued. If
present, it MUST contain the OAuth 2.0 Client ID of this party. This Claim is
only needed when the ID Token has a single audience value and that audience is
different than the authorized party. It MAY be included even when the
authorized party is the same as the sole audience. The azp value is a
case-sensitive string containing a StringOrURI value.</dd>
</dl>
<p>ID Tokens MAY contain other Claims. Any Claims used that are not understood MUST be ignored.</p>
<p>&mdash; <a href="https://openid.net/specs/openid-connect-basic-1_0.html">https://openid.net/specs/openid-connect-basic-1_0.html</a></p>
</blockquote>
<h2 id="b1a4158b-f5fb-43c8-883a-93572fbc44f7">scopes</h2>
<blockquote>
<ul>
<li>
<p>External reference: <a href="https://openid.net/specs/openid-connect-basic-1_0.html#StandardClaims">https://openid.net/specs/openid-connect-basic-1_0.html#StandardClaims</a>
OpenID Connect defines the following <a href="/braindump/posts/oauth_2_0/#90cbca1f-13ff-4f8d-9077-18722d75ae55">scope</a> values:</p>
<ul>
<li><strong>openid:</strong> REQUIRED. Informs the Authorization Server that the Client is making an
OpenID Connect request. If the openid scope value is not present, the
behavior is entirely unspecified.</li>
<li><strong>profile:</strong> OPTIONAL. This scope value requests access to the End-User&rsquo;s default profile
Claims, which are: name, family_name, given_name, middle_name, nickname,
preferred_username, profile, picture, website, gender, birthdate, zoneinfo,
locale, and updated_at.</li>
<li><strong>email:</strong> OPTIONAL. This scope value requests access to the email and email_verified
Claims.</li>
<li><strong>address:</strong> OPTIONAL. This scope value requests access to the address Claim.</li>
<li><strong>phone:</strong> OPTIONAL. This scope value requests access to the phone_number and
phone_number_verified Claims.</li>
<li><strong>offline_access:</strong> OPTIONAL. This scope value requests that an OAuth 2.0 Refresh Token be
issued that can be used to obtain an Access Token that grants access to the
End-User&rsquo;s UserInfo Endpoint even when the End-User is not present (not
logged in).</li>
</ul>
<p>&mdash; <a href="https://openid.net/specs/openid-connect-basic-1_0.html">https://openid.net/specs/openid-connect-basic-1_0.html</a></p>
</li>
</ul>
</blockquote>
<h2 id="649456a8-989a-4e4c-808c-a38107d75e5b">OpenID Connect Provider</h2>
<p>A tool that can provide signed <a href="#6796313b-7141-4013-848f-bc08edd02472">ID Token</a>. Basically the <a href="/braindump/posts/oauth_2_0/#ead7dfac-e39a-4262-8066-a9e594d1b8a3">authorization server</a> from the point of view of <a href="/braindump/posts/openid_connect/">OpenID Connect</a>.</p>
<blockquote>
<p>OAuth 2.0 Authentication Servers implementing OpenID Connect are also referred to as OpenID Providers (OPs).</p>
<p>&mdash; <a href="https://openid.net/specs/openid-connect-basic-1_0.html">https://openid.net/specs/openid-connect-basic-1_0.html</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>This specification also defines the following terms:</p>
<dl>
<dt><a href="#649456a8-989a-4e4c-808c-a38107d75e5b">OpenID Provider</a> (OP)</dt>
<dd>OAuth 2.0 Authorization Server that is capable of Authenticating the End-User and providing Claims to a Relying Party about the Authentication event and the End-User.
[&hellip;]</dd>
</dl>
<p>&mdash; <a href="https://openid.net/specs/openid-connect-core-1_0.html#Introduction">https://openid.net/specs/openid-connect-core-1_0.html#Introduction</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>OpenID Connect 1.0 is a simple identity layer on top of the OAuth 2.0
protocol. It allows Clients to verify the identity of the End-User based on the
authentication performed by an Authorization Server, as well as to obtain basic
profile information about the End-User in an interoperable and REST-like manner.</p>
<p>&mdash; <a href="https://openid.net/connect/">https://openid.net/connect/</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>OpenID Connect allows clients of all types, including Web-based, mobile, and JavaScript clients, to request and receive information about authenticated sessions and end-users</p>
<p>&mdash; <a href="https://openid.net/connect/">https://openid.net/connect/</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>OpenID Connect or OIDC is an identity protocol that utilizes the authorization and authentication mechanisms of OAuth 2.0.</p>
<p>&mdash; <a href="https://auth0.com/intro-to-iam/what-is-openid-connect-oidc/">https://auth0.com/intro-to-iam/what-is-openid-connect-oidc/</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>While OAuth 2.0 is an authorization protocol, OIDC is an identity authentication protocol a</p>
<p>&mdash; <a href="https://auth0.com/intro-to-iam/what-is-openid-connect-oidc/">https://auth0.com/intro-to-iam/what-is-openid-connect-oidc/</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>used to verify the identity of a user to a client service, also called Relying Party</p>
<p>&mdash; <a href="https://auth0.com/intro-to-iam/what-is-openid-connect-oidc/">https://auth0.com/intro-to-iam/what-is-openid-connect-oidc/</a></p>
</blockquote>
<h2 id="notes-linking-here">Notes linking here</h2>
<ul>
<li><a href="/braindump/posts/access_token_validation_in_openid_connect/">Access Token Validation in openid connect</a></li>
<li><a href="/braindump/posts/access_token_validation_in_openid_connect/">Access Token Validation in openid connect</a></li>
<li><a href="https://konubinix.eu/blog/posts/make_sense_of_keycloak_openid_connect_oauth_2_0_jwt_jws/?title=as_an_openid_provider#as-an-openid-provider">As an openid provider</a> (blog)</li>
<li><a href="/braindump/posts/authentication_vs_identification_vs_authorization/">authentication vs identification vs authorization</a></li>
<li><a href="/braindump/posts/oauth_2_0/#def201dd-26c7-44f9-8456-ad5d3c631731">authorization code grant</a></li>
<li><a href="/braindump/posts/claims_based_identity/">claims-based identity</a></li>
<li><a href="/braindump/posts/client_get_proof_of_authentication_by_asking_for_it/">client get proof of authentication by asking for it</a></li>
<li><a href="/braindump/posts/everything_you_ever_wanted_to_know_about_oauth_and_oidc/">Everything You Ever Wanted to Know About OAuth and OIDC</a></li>
<li><a href="/braindump/posts/playing_with_google_oidc/#57224cdc-5096-4f16-b1ed-6cb92c3363cb">Getting an ID Token</a></li>
<li><a href="https://konubinix.eu/blog/posts/how_do_i_create_an_oauth_2_0_oidc_resource_server/?title=how_do_i_create_an_oauth_2_0_oidc_resource_server#">how do I create an OAuth 2.0/OIDC resource server?</a> (blog)</li>
<li><a href="/braindump/posts/how_to_discuss_oidc_with_keycloak/">how to discuss OIDC with keycloak</a></li>
<li><a href="/braindump/posts/ory/#hydra-the-id-c177c189-8e25-4b44-abd0-e26e6847326d-oidc-layer">hydra: the OIDC layer</a></li>
<li><a href="/braindump/posts/id_token_validation_rules/">ID Token validation rules</a></li>
<li><a href="/braindump/posts/id_token_validation_rules/">ID Token validation rules</a></li>
<li><a href="/braindump/posts/id_tokens_vs_access_tokens/">ID Tokens vs Access Tokens</a></li>
<li><a href="/braindump/posts/introduction_to_oauth_and_openid_connect/">Introduction to OAuth and OpenID Connect</a></li>
<li><a href="/braindump/posts/json_web_key_sets/">JSON Web Key Sets</a></li>
<li><a href="/braindump/posts/json_web_token_best_current_practices/">JSON Web Token Best Current Practices</a></li>
<li><a href="/braindump/posts/keycloak/">keycloak</a></li>
<li><a href="/braindump/posts/keycloak/#keycloak-id-c177c189-8e25-4b44-abd0-e26e6847326d-openid-connect-endpoints">keycloak OpenID Connect endpoints</a></li>
<li><a href="/braindump/posts/trying_authenticating_to_keycloak_using_google_as_identity_provider/#5f45750e-4fe9-4b4c-a141-e8a2ccd2b2af">keycloak provide many user related information in the access token by default.</a></li>
<li><a href="https://konubinix.eu/blog/posts/make_sense_of_keycloak_openid_connect_oauth_2_0_jwt_jws/?title=make_sense_of_keycloak_openid_connect_oauth_2_0_jwt_jws#">make sense of keycloak, openid connect, oauth 2.0, jwt, jws</a> (blog)</li>
<li><a href="/braindump/posts/making_sense_of_github_oidc_flow/">making sense of github OIDC flow</a></li>
<li><a href="/braindump/posts/making_sense_of_github_oidc_flow/">making sense of github OIDC flow</a></li>
<li><a href="/braindump/posts/oauth_2_0/">OAuth 2.0</a></li>
<li><a href="/braindump/posts/oauth_and_openid_connect_in_plain_english/">OAuth and OpenID Connect in Plain English</a></li>
<li><a href="/braindump/posts/oauth_the_good_parts_anders_abel/">OAuth – the good Parts - Anders Abel</a></li>
<li><a href="/braindump/posts/oidc_silent_authentication/">OIDC Silent Authentication</a></li>
<li><a href="/braindump/posts/oidc_vs_oauth2/">OIDC vs OAuth2</a></li>
<li><a href="/braindump/posts/openid_connect_is_it_fine_to_use_id_token_as_access_token_stack_overflow/">OpenID Connect : Is it fine to use id_token as access_token? - Stack Overflow</a></li>
<li><a href="/braindump/posts/openid_connect_discovery/">OpenID Connect Discovery</a></li>
<li><a href="/braindump/posts/self_sovereign_identity_with_self_issued_openid_provider/#id-c177c189-8e25-4b44-abd0-e26e6847326d-openid-connect-is-a-user-identity-attribute-disclosure-protocol-rather-than-an-id-b9b19e49-a439-4343-ab4e-193840b788dd-authentication-protocol">openid connect is a user identity attribute disclosure protocol rather than an authentication protocol</a></li>
<li><a href="/braindump/posts/openid_connect_nonce_vs_jwt_id_jti/">OpenID Connect nonce vs JWT ID jti</a></li>
<li><a href="/braindump/posts/openid_connect_scopes/">OpenID Connect Scopes</a></li>
<li><a href="/braindump/posts/openidconnect_with_mike_jones/">OpenIDconnect with Mike Jones</a></li>
<li><a href="/braindump/posts/playing_with_google_oidc/">playing with google OIDC</a></li>
<li><a href="/braindump/posts/relying_party/">relying party</a></li>
<li><a href="/braindump/posts/relying_party/">relying party</a></li>
<li><a href="/braindump/posts/self_sovereign_identity_with_self_issued_openid_provider/">Self-Sovereign-Identity-with-Self-Issued-OpenID-Provider</a></li>
<li><a href="https://konubinix.eu/blog/posts/should_i_say_jwt_or_jwt_token_or_jws_token_or/?title=should_i_say_jwt_or_jwt_token_or_jws_token_or#">should I say JWT or JWT token, or JWS token or&hellip;?</a> (blog)</li>
<li><a href="https://konubinix.eu/blog/posts/what_should_i_put_into_those_scopes_and_access_tokens_claims/?title=some_definitions_of_scopes_in_well_known_implementations#some-definitions-of-scopes-in-well-known-implementations">Some definitions of scopes in well known implementations</a> (blog)</li>
<li><a href="https://konubinix.eu/blog/posts/what_should_i_put_into_those_scopes_and_access_tokens_claims/?title=some_definitions_of_scopes_in_well_known_implementations#some-definitions-of-scopes-in-well-known-implementations">Some definitions of scopes in well known implementations</a> (blog)</li>
<li><a href="/braindump/posts/oauth_2_0/#02c86448-ca36-4995-b93e-fec4967b3b9c">third-party vs first-party</a></li>
<li><a href="/braindump/posts/trying_authenticating_to_keycloak_using_google_as_identity_provider/">trying authenticating to keycloak using google as Identity Provider</a></li>
<li><a href="/braindump/posts/using_id_token_as_access_token/">using id token as access token?</a></li>
<li><a href="/braindump/posts/oauth_2_0/#7b976efb-d964-4d48-acb7-1974de405bcc">what is not OAuth 2.0 is not useless or a bad idea</a></li>
<li><a href="/braindump/posts/you_probably_don_t_need_oauth2_openid_connect/">you probably don&rsquo;t need OAuth2 / OpenID Connect!</a></li>
</ul>
<h2 id="permalink"><a href="https://konubinix.eu/braindump/c177c189-8e25-4b44-abd0-e26e6847326d?title=openid_connect">Permalink</a></h2>
<div class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1">
<blockquote>
<p>As background, the OAuth 2.0 Authorization Framework [<a href="/braindump/posts/oauth_2_0/">RFC6749</a>] and OAuth 2.0
Bearer Token Usage [<a href="/braindump/posts/oauth_2_0/#5d9fcc89-c31e-43ed-a53f-b548eb688999">RFC6750</a>] specifications provide a general framework for
third-party applications to obtain and use limited access to HTTP
resources. They define mechanisms to obtain and use Access Tokens to access
resources but do not define standard methods to provide identity
information. Notably, without profiling OAuth 2.0, it is incapable of providing
information about the authentication of an End-User. Readers are expected to be
familiar with these specifications.</p>
<p>&mdash; <a href="https://openid.net/specs/openid-connect-core-1_0.html#Introduction">https://openid.net/specs/openid-connect-core-1_0.html#Introduction</a></p>
</blockquote>
<!--more-->
&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></li>
<li id="fn:2">
<blockquote>
<p>OAuth 2.0 Authentication Servers implementing OpenID Connect are also referred
to as <a href="#649456a8-989a-4e4c-808c-a38107d75e5b">OpenID Providers</a> (OPs). OAuth 2.0 Clients using OpenID Connect are also
referred to as <a href="/braindump/posts/relying_party/">Relying Parties</a> (RPs).</p>
<p>&mdash; <a href="https://openid.net/specs/openid-connect-core-1_0.html#Introduction">https://openid.net/specs/openid-connect-core-1_0.html#Introduction</a></p>
</blockquote>
&#160;<a href="#fnref:2" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></li>
<li id="fn:3">
<blockquote>
<p>This specification uses the terms [&hellip;] &ldquo;<a href="/braindump/posts/oauth_2_0/#ead7dfac-e39a-4262-8066-a9e594d1b8a3">Authorization Server</a>&rdquo;, &ldquo;<a href="/braindump/posts/oauth_2_0/#f86ccef1-e4b1-413f-b78c-8070f4dceafa">Client</a>&rdquo;, [&hellip;]
&ldquo;<a href="/braindump/posts/resource_owner/">Resource Owner</a>&rdquo;, &ldquo;<a href="/braindump/posts/oauth_2_0/#72564685-ad13-4af1-8a9a-8230b967a36b">Resource Server</a>&rdquo;, [&hellip;] defined by OAuth 2.0 [<a href="/braindump/posts/oauth_2_0/">RFC6749</a>]</p>
<p>[&hellip;]</p>
<p>This specification also defines the following terms:</p>
<dl>
<dt>End-User</dt>
<dd>Human participant.
[&hellip;]</dd>
<dt><a href="#649456a8-989a-4e4c-808c-a38107d75e5b">OpenID Provider</a> (OP)</dt>
<dd>OAuth 2.0 Authorization Server that is capable of Authenticating the End-User and providing Claims to a Relying Party about the Authentication event and the End-User.
[&hellip;]</dd>
<dt><a href="/braindump/posts/relying_party/">Relying Party</a> (RP)</dt>
<dd>OAuth 2.0 Client application requiring End-User Authentication and Claims from an OpenID Provider.</dd>
</dl>
<p>&mdash; <a href="https://openid.net/specs/openid-connect-core-1_0.html#Introduction">https://openid.net/specs/openid-connect-core-1_0.html#Introduction</a></p>
</blockquote>
&#160;<a href="#fnref:3" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></li>
<li id="fn:4">
<blockquote>
<dl>
<dt>End-User</dt>
<dd>Human participant</dd>
</dl>
<p>&mdash; <a href="https://openid.net/specs/openid-connect-core-1_0.html">https://openid.net/specs/openid-connect-core-1_0.html</a></p>
</blockquote>
&#160;<a href="#fnref:4" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></li>
<li id="fn:5">
<p><a id="org-example-block--17173765-5d24-4322-90ca-77c155d46112"></a></p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>The OpenID Connect protocol, in abstract, follows the following steps.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>1) The [[id:4ba66897-9805-453c-b0d8-94d567c8f79d][RP]] (Client) sends a request to the OpenID Provider ([[id:8f180b6d-f9a8-4244-a3e8-827fd4098835][OP]]).
</span></span><span style="display:flex;"><span>2) The OP authenticates the End-User and obtains authorization.
</span></span><span style="display:flex;"><span>3) The OP responds with an [[id:957552a3-2db5-4515-bdbc-b6c373f48afe][ID Token]] and usually an [[id:e8b165d4-cb30-4a18-9d23-990629f09f2d][Access Token]].
</span></span><span style="display:flex;"><span>4) The RP can send a request with the Access Token to the UserInfo Endpoint.
</span></span><span style="display:flex;"><span>5) The UserInfo Endpoint returns Claims about the End-User.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>These steps are illustrated in the following diagram:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>+--------+                                   +--------+
</span></span><span style="display:flex;"><span>|        |                                   |        |
</span></span><span style="display:flex;"><span>|        |---------(1) AuthN Request--------&gt;|        |
</span></span><span style="display:flex;"><span>|        |                                   |        |
</span></span><span style="display:flex;"><span>|        |  +--------+                       |        |
</span></span><span style="display:flex;"><span>|        |  |        |                       |        |
</span></span><span style="display:flex;"><span>|        |  |  End-  |&lt;--(2) AuthN &amp; AuthZ--&gt;|        |
</span></span><span style="display:flex;"><span>|        |  |  User  |                       |        |
</span></span><span style="display:flex;"><span>|   RP   |  |        |                       |   OP   |
</span></span><span style="display:flex;"><span>|        |  +--------+                       |        |
</span></span><span style="display:flex;"><span>|        |                                   |        |
</span></span><span style="display:flex;"><span>|        |&lt;--------(3) AuthN Response--------|        |
</span></span><span style="display:flex;"><span>|        |                                   |        |
</span></span><span style="display:flex;"><span>|        |---------(4) UserInfo Request-----&gt;|        |
</span></span><span style="display:flex;"><span>|        |                                   |        |
</span></span><span style="display:flex;"><span>|        |&lt;--------(5) UserInfo Response-----|        |
</span></span><span style="display:flex;"><span>|        |                                   |        |
</span></span><span style="display:flex;"><span>+--------+                                   +--------+
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>--- https://openid.net/specs/openid-connect-core-1_0.html#Introduction
</span></span></code></pre></div>&#160;<a href="#fnref:5" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></li>
<li id="fn:6">
<blockquote>
<p>ID Token
JSON Web Token (JWT) [JWT] that contains Claims about the Authentication event. It MAY contain other Claims.</p>
<p>[&hellip;]</p>
<p>The <a href="#6796313b-7141-4013-848f-bc08edd02472">ID Token</a> is a security token that contains <a href="/braindump/posts/json_web_tokens/#121be43a-fc33-4942-9abe-9e9a5c2d426e">Claims</a> about the <a href="/braindump/posts/authentication/">authentication</a>
of an End-User by an Authorization Server when using a Client, and potentially
other requested Claims. The ID Token is represented as a JSON Web Token (JWT)
[JWT].</p>
<p>&mdash; <a href="https://openid.net/specs/openid-connect-basic-1_0.html">https://openid.net/specs/openid-connect-basic-1_0.html</a></p>
</blockquote>
&#160;<a href="#fnref:6" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></li>
</ol>
</div>
      </div>
	  <aside class="date"><time>Last updated: 29 Nov 2024</time></aside>
	  <aside class="date"><time>Published&nbsp;&nbsp;&nbsp;: 15 Nov 2021</time></aside>
    </div>
  </div>
</div>

<script src="/braindump/js/URI.js" type="text/javascript"></script>

<script src="/braindump/js/page.js" type="text/javascript"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</body>
</html>
