<!DOCTYPE html>
<html><title>monorepo</title>


<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="google-site-verification" content="bLmaFyyXugiCqSup-eIIIx0B4CngtdF_svyMMKQbS5E" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=10, minimum-scale=0.5, user-scalable=yes">
<meta name="apple-mobile-web-app-capable" content="yes" />
<script src="https://hypothes.is/embed.js" async></script>


<link rel="stylesheet" href="/braindump/css/main.min.56b43bcbc759a196f9dd525bee62bdec45a29ba95902bbab74a4f7ad2ea3e8cb.css"/>

<link rel="stylesheet" href="/braindump/css/links.min.4bf1990b213fb76d2a66153dc6ef9a57d49f536c6baf6e7f19a7948470a38141.css"/>

<link rel="stylesheet" href="/braindump/css/konubinix.min.cf2d0f36945178c647979ee68f1830892e06aa3d481d8913728b5c7462b97f6e.css"/>

<link rel="stylesheet" href="/ipfs/QmQFVQS89fv1XUNFcjwCKDePzckuT9kpuAVNYUwNdEfYcv/css/all.css"/>
<link rel="shortcut icon" href="/ipfs/QmVFwYV7YRZLKU3ybN1hW4jqfyZGPLKJwd8toN2wHz5UAD?a.png" type="image/x-icon" />

<body><header>
  <div>
	<a href="/braindump//"><h5 class="site-title">Konubinix&#39; opinionated web of thoughts</h5></a>
  </div>
  <span>
	<a href="/blog/"><i class="icon fas fa-blog"></i></a>
	<a href="/braindump/posts/"><i class="icon fas fa-brain"></i></a>
    <a href="mailto:konubinixweb@gmail.com"><i class="icon fas fa-envelope-square"></i></a>
    <a href="https://github.com/konubinix"><i class="icon fab fa-github-square"></i></a>
    <a href="https://linkedin.com/in/samuel-loury-61259040"><i class="icon fab fa-linkedin"></i></a>
	<a href="/braindump/graph.html"><i class="icon fas fa-project-diagram"></i></a>
	<a href="/braindump/index.xml"><i class="icon fas fa-rss-square"></i></a>
	<a href="/braindump/tags/"><i class="icon fa fa-tag"></i></a>
	<a href="/braindump/braindump_search"><i class="icon fa fa-search"></i></a>
  </span>
</header>

<div class="grid-container">
  <div class="grid">
    <div class="page" data-level="1">
      <div class="content">
		<p class="lead">
        <h1>Monorepo</h1>
		<span class="badge badge-pill badge-warning"><a href="/braindump/tags/fleeting/">Fleeting</a></span></p>
        <ul>
<li>External reference: <a href="https://trunkbaseddevelopment.com/monorepos/">https://trunkbaseddevelopment.com/monorepos/</a></li>
<li>External reference: <a href="https://systemseed.com/articles/automated-releases-in-a-cross-language-monorepo">https://systemseed.com/articles/automated-releases-in-a-cross-language-monorepo</a></li>
<li>External reference: <a href="https://www.rocketpoweredjetpants.com/2017/11/organising-a-monorepo/">https://www.rocketpoweredjetpants.com/2017/11/organising-a-monorepo/</a></li>
<li>External reference: <a href="https://monorepo.tools/">https://monorepo.tools/</a></li>
<li>External reference: <a href="https://blog.nrwl.io/misconceptions-about-monorepos-monorepo-monolith-df1250d4b03c">https://blog.nrwl.io/misconceptions-about-monorepos-monorepo-monolith-df1250d4b03c</a></li>
</ul>
<p>I have the feeling that arguments in favor of monorepos that don&rsquo;t take into
account the social structure of the developper is missing the point. To me
monorepos is not about better structure of the code, but about structure of the
code that better fits the structure of the people when it makes sense. (<a href="/braindump/posts/conway_s_law/">Conway&rsquo;s
law</a>).</p>
<blockquote>
<p>Monorepo-style development is a software development approach where:You develop multiple projects in the same repository.The projects can depend on each other, so they can share code.When you make a change, you do not rebuild or retest every project in the monorepo. Instead, you only rebuild and retest the projects that can be affected by your change.</p>
<p>&mdash; <a href="https://blog.nrwl.io/misconceptions-about-monorepos-monorepo-monolith-df1250d4b03c">https://blog.nrwl.io/misconceptions-about-monorepos-monorepo-monolith-df1250d4b03c</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>Monorepos and long-lived feature branches do not play together nicely. Chances are you will have to adopt some form of trunk-based development</p>
<p>&mdash; <a href="https://blog.nrwl.io/misconceptions-about-monorepos-monorepo-monolith-df1250d4b03c">https://blog.nrwl.io/misconceptions-about-monorepos-monorepo-monolith-df1250d4b03c</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>Moving to a monorepo requires you to rethink how you do continuous integration. After all, you are no longer building a single app. You are only building the things that are affected by your change.</p>
<p>&mdash; <a href="https://blog.nrwl.io/misconceptions-about-monorepos-monorepo-monolith-df1250d4b03c">https://blog.nrwl.io/misconceptions-about-monorepos-monorepo-monolith-df1250d4b03c</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>Monorepos are known for the following benefits:Everything at that current commit works together. Changes can be verified across all affected parts of the organization.Easy to split code into composable modulesEasier dependency managementOne toolchain setupCode editors and IDEs are “workspace” awareConsistent developer experience</p>
<p>&mdash; <a href="https://blog.nrwl.io/misconceptions-about-monorepos-monorepo-monolith-df1250d4b03c">https://blog.nrwl.io/misconceptions-about-monorepos-monorepo-monolith-df1250d4b03c</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>monorepo is a single repository containing multiple distinct projects, with well-defined relationships.</p>
<p>&mdash; <a href="https://monorepo.tools/">https://monorepo.tools/</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>repository with several projects in it. We definitely have “code colocation”, but if there are no well defined relationships among them, we would not call it a monorepo.</p>
<p>&mdash; <a href="https://monorepo.tools/">https://monorepo.tools/</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>repository contains a massive application without division and encapsulation of discrete parts, it&rsquo;s just a big repo. You can give it a fancy name like &ldquo;garganturepo,&rdquo; but we&rsquo;re sorry to say, it&rsquo;s not a monorepo.</p>
<p>&mdash; <a href="https://monorepo.tools/">https://monorepo.tools/</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>good monorepo is the opposite of monolithic</p>
<p>&mdash; <a href="https://monorepo.tools/">https://monorepo.tools/</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>opposite of monorepo is a &ldquo;polyrepo&rdquo;. A polyrepo is the current standard way of developing applications: a repo for each team, application, or project. And it&rsquo;s common that each repo has a single build artifact, and simple build pipeline.</p>
<p>&mdash; <a href="https://monorepo.tools/">https://monorepo.tools/</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>why should teams do anything differently? Because this autonomy is provided by isolation, and isolation harms collaboration.</p>
<p>&mdash; <a href="https://monorepo.tools/">https://monorepo.tools/</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>No overhead to create new projectsUse the existing CI setup, and no need to publish versioned packages if all consumers are in the same repo</p>
<p>&mdash; <a href="https://monorepo.tools/">https://monorepo.tools/</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>Atomic commits across projectsEverything works together at every commit. There&rsquo;s no such thing as a breaking change when you fix everything in the same commit</p>
<p>&mdash; <a href="https://monorepo.tools/">https://monorepo.tools/</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<figure><img src="https://monorepo.tools/images/monorepo-polyrepo.svg">
</figure>

<p>&mdash; <a href="https://monorepo.tools/">https://monorepo.tools/</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<figure><img src="https://monorepo.tools/images/monolith-modular.svg">
</figure>

<p>&mdash; <a href="https://monorepo.tools/">https://monorepo.tools/</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<figure><img src="https://monorepo.tools/images/polyrepo-practice.svg">
</figure>

<p>&mdash; <a href="https://monorepo.tools/">https://monorepo.tools/</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>Language-based monorepos
These repos contain a top-level directory per language</p>
<p>&mdash; <a href="https://www.rocketpoweredjetpants.com/2017/11/organising-a-monorepo/">https://www.rocketpoweredjetpants.com/2017/11/organising-a-monorepo/</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>Project-based monorepos</p>
<p>&mdash; <a href="https://www.rocketpoweredjetpants.com/2017/11/organising-a-monorepo/">https://www.rocketpoweredjetpants.com/2017/11/organising-a-monorepo/</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>co-locate everything needed for a particular project in the same directory, with common code being stored “elsewhere”</p>
<p>&mdash; <a href="https://www.rocketpoweredjetpants.com/2017/11/organising-a-monorepo/">https://www.rocketpoweredjetpants.com/2017/11/organising-a-monorepo/</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>Functional area-based monorepos</p>
<p>&mdash; <a href="https://www.rocketpoweredjetpants.com/2017/11/organising-a-monorepo/">https://www.rocketpoweredjetpants.com/2017/11/organising-a-monorepo/</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>For example, there might be a directory for “crypto” related code, another for “testing”, another for “networking” and so on</p>
<p>&mdash; <a href="https://www.rocketpoweredjetpants.com/2017/11/organising-a-monorepo/">https://www.rocketpoweredjetpants.com/2017/11/organising-a-monorepo/</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>Blended monorepos</p>
<p>&mdash; <a href="https://www.rocketpoweredjetpants.com/2017/11/organising-a-monorepo/">https://www.rocketpoweredjetpants.com/2017/11/organising-a-monorepo/</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>hybrid approach is typically simpler to work with.</p>
<p>&mdash; <a href="https://www.rocketpoweredjetpants.com/2017/11/organising-a-monorepo/">https://www.rocketpoweredjetpants.com/2017/11/organising-a-monorepo/</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>example, project-based monorepos rapidly have a cluttered top-level directory. However, by splitting by functional area, or language and then functional area, the top-level becomes less cluttered and simultaneously easier to navigate.</p>
<p>&mdash; <a href="https://www.rocketpoweredjetpants.com/2017/11/organising-a-monorepo/">https://www.rocketpoweredjetpants.com/2017/11/organising-a-monorepo/</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>Third party dependencies</p>
<p>&mdash; <a href="https://www.rocketpoweredjetpants.com/2017/11/organising-a-monorepo/">https://www.rocketpoweredjetpants.com/2017/11/organising-a-monorepo/</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>. Do you take binary dependencies, or pull in the source? Do you store the third party code in a separate third party directory, or alongside first party code? Do you store the dependencies in your repository at all, or push them to something like a Maven artifact repository</p>
<p>&mdash; <a href="https://www.rocketpoweredjetpants.com/2017/11/organising-a-monorepo/">https://www.rocketpoweredjetpants.com/2017/11/organising-a-monorepo/</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>Checking in the binary artifacts has the disadvantage that source control tools are seldom optimised for storing binaries, so any changes will cause the overall size of the repository to grow (though not a snapshot at a single point in time) The advantage is that build times can be significantly shorter (as all that needs to be done is link the dependency in)</p>
<p>&mdash; <a href="https://www.rocketpoweredjetpants.com/2017/11/organising-a-monorepo/">https://www.rocketpoweredjetpants.com/2017/11/organising-a-monorepo/</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>Monorepo is a popular way of organizing code bases in large organizations like
Google, Facebook and Twitter. You can also find many open source projects that
use a single git repository to store and develop multiple sub-packages. Some
examples are Babel and Laravel.</p>
<p>If you are not familiar with the term “monorepo”, check out this 5 min
video from Fabien Potencier, creator of Symfony framework.</p>
<p>I personally have been using this technique for many years without knowing its
name. The idea is very simple: you store your backend/ and frontend/ folders in
one repository.</p>
<p>&mdash; <a href="https://systemseed.com/articles/automated-releases-in-a-cross-language-monorepo">https://systemseed.com/articles/automated-releases-in-a-cross-language-monorepo</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>If you cannot overhaul the directory structure of your entire repository, you should not entertain a monorepo</p>
<p>&mdash; <a href="https://trunkbaseddevelopment.com/monorepos/">https://trunkbaseddevelopment.com/monorepos/</a></p>
</blockquote>
<!--more-->
<h2 id="notes-linking-here">Notes linking here</h2>
<ul>
<li><a href="/braindump/posts/how_to_structure_organize_a_multi_technologies_repo/">how to structure/organize a multi technologies repo?</a></li>
</ul>
<h2 id="permalink"><a href="https://konubinix.eu/braindump/f8ccfa3a-74d9-4e53-8ad0-b2088a32048c?title=monorepo">Permalink</a></h2>
      </div>
	  <aside class="date"><time>Last updated: 20 Jun 2022</time></aside>
	  <aside class="date"><time>Published&nbsp;&nbsp;&nbsp;: 09 Mar 2022</time></aside>
    </div>
  </div>
</div>

<script src="/braindump/js/URI.js" type="text/javascript"></script>

<script src="/braindump/js/page.js" type="text/javascript"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</body>
</html>
