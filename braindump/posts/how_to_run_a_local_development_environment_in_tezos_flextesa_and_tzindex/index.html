<!DOCTYPE html>
<html><title>how to run a local development environment in tezos (flextesa and tzindex)?</title>


<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="google-site-verification" content="bLmaFyyXugiCqSup-eIIIx0B4CngtdF_svyMMKQbS5E" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=10, minimum-scale=0.5, user-scalable=yes">
<meta name="apple-mobile-web-app-capable" content="yes" />
<script src="https://hypothes.is/embed.js" async></script>


<link rel="stylesheet" href="/braindump/css/main.min.56b43bcbc759a196f9dd525bee62bdec45a29ba95902bbab74a4f7ad2ea3e8cb.css"/>

<link rel="stylesheet" href="/braindump/css/links.min.4bf1990b213fb76d2a66153dc6ef9a57d49f536c6baf6e7f19a7948470a38141.css"/>

<link rel="stylesheet" href="/braindump/css/konubinix.min.cf2d0f36945178c647979ee68f1830892e06aa3d481d8913728b5c7462b97f6e.css"/>

<link rel="stylesheet" href="/ipfs/QmQFVQS89fv1XUNFcjwCKDePzckuT9kpuAVNYUwNdEfYcv/css/all.css"/>
<link rel="shortcut icon" href="/ipfs/QmVFwYV7YRZLKU3ybN1hW4jqfyZGPLKJwd8toN2wHz5UAD?a.png" type="image/x-icon" />

<body><header>
  <div>
	<a href="/braindump//"><h5 class="site-title">Konubinix&#39; opinionated web of thoughts</h5></a>
  </div>
  <span>
	<a href="/blog/"><i class="icon fas fa-blog"></i></a>
	<a href="/braindump/posts/"><i class="icon fas fa-brain"></i></a>
    <a href="mailto:konubinixweb@gmail.com"><i class="icon fas fa-envelope-square"></i></a>
    <a href="https://github.com/konubinix"><i class="icon fab fa-github-square"></i></a>
    <a href="https://linkedin.com/in/samuel-loury-61259040"><i class="icon fab fa-linkedin"></i></a>
	<a href="/braindump/graph.html"><i class="icon fas fa-project-diagram"></i></a>
	<a href="/braindump/index.xml"><i class="icon fas fa-rss-square"></i></a>
	<a href="/braindump/tags/"><i class="icon fa fa-tag"></i></a>
	<a href="/braindump/braindump_search"><i class="icon fa fa-search"></i></a>
  </span>
</header>

<div class="grid-container">
  <div class="grid">
    <div class="page" data-level="1">
      <div class="content">
		<p class="lead">
        <h1>How to Run a Local Development Environment in Tezos (Flextesa and Tzindex)?</h1>
		<span class="badge badge-pill badge-warning"><a href="/braindump/tags/fleeting/">Fleeting</a></span></p>
        <p>how to run <a href="/braindump/posts/flextesa/">flextesa</a> and <a href="/braindump/posts/tzindex/">tzindex</a> in a local env to ease developing on <a href="/braindump/posts/tezos/">tezos</a>?</p>
<p>I will focus on <a href="/braindump/posts/ithaca/">ithaca</a> because <a href="/braindump/posts/jakarta/">jakarta</a> it pretty new as of today (<span class="timestamp-wrapper"><span class="timestamp">[2022-06-24 Fri]</span></span>).</p>
<h2 id="running-a-local-tezos-node">running a local tezos node</h2>
<p><a href="/braindump/posts/flextesa/">Flextesa</a> is pretty easy to run, simply following their readme.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker run --rm --name my-sandbox -p 18731:20000 -e <span style="color:#008080">block_time</span><span style="color:#000;font-weight:bold">=</span><span style="color:#099">1</span> oxheadalpha/flextesa ithacabox start
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker <span style="color:#0086b3">exec</span> my-sandbox ithacabox info 2&gt;&amp;<span style="color:#099">1</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>Usable accounts:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>- alice
</span></span><span style="display:flex;"><span>  * edpkvGfYw3LyB1UcCahKQk4rF2tvbMUk8GFiTuMjL75uGXrpvKXhjn
</span></span><span style="display:flex;"><span>  * tz1VSUr8wwNhLAzempoch5d6hLRiTh8Cjcjb
</span></span><span style="display:flex;"><span>  * unencrypted:edsk3QoqBuvdamxouPhin7swCvkQNgq4jP5KZPbwWNnwdZpSpJiEbq
</span></span><span style="display:flex;"><span>- bob
</span></span><span style="display:flex;"><span>  * edpkurPsQ8eUApnLUJ9ZPDvu98E8VNj4KtJa1aZr16Cr5ow5VHKnz4
</span></span><span style="display:flex;"><span>  * tz1aSkwEot3L2kmUvcoxzjMomb9mvBNuzFK6
</span></span><span style="display:flex;"><span>  * unencrypted:edsk3RFfvaFaxbHx8BMtEW1rKQcPtDML3LXjNqMNLCzC3wLC1bWbAt
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Root path (logs, chain data, etc.): /tmp/mini-box (inside container).
</span></span></code></pre></div><p>It&rsquo;s pretty comfortable to always have the <a href="/braindump/posts/tezos_sandbox/#9ed7e70a-8ef7-4270-a056-a7cf6b4ebae1">same account</a>s full of <a href="/braindump/posts/tezos/#tez">tezzies</a> in
the box.</p>
<p>Also, creating bootstrap addresses is a breeze with flextesa key-of-name.</p>
<p>Using <a href="/braindump/posts/clk_tzc/">clk tzc</a>, I can simply use</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>clk tzc node connect http://localhost:20000
</span></span></code></pre></div><p>And be done with it.</p>
<p>Actually, is looks like I need to have a node running in archive mode and with unlimited metadata size for tzIndex to work appropriately.</p>
<p>By looking at the ithacabox script in the docker image, I can see it runs.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>start () {
</span></span><span style="display:flex;"><span>    flextesa mini-net \
</span></span><span style="display:flex;"><span>             --root &#34;$root_path&#34; --size 1 &#34;$@&#34; \
</span></span><span style="display:flex;"><span>             --set-history-mode N000:archive \
</span></span><span style="display:flex;"><span>             --number-of-b 1 \
</span></span><span style="display:flex;"><span>             --balance-of-bootstrap-accounts tez:100_000_000 \
</span></span><span style="display:flex;"><span>             --time-b &#34;$time_bb&#34; \
</span></span><span style="display:flex;"><span>             --add-bootstrap-account=&#34;$alice@2_000_000_000_000&#34; \
</span></span><span style="display:flex;"><span>             --add-bootstrap-account=&#34;$bob@2_000_000_000_000&#34; \
</span></span><span style="display:flex;"><span>             --no-daemons-for=alice \
</span></span><span style="display:flex;"><span>             --no-daemons-for=bob \
</span></span><span style="display:flex;"><span>             --until-level 200_000_000 \
</span></span><span style="display:flex;"><span>             --protocol-kind &#34;$default_protocol&#34;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>The node is already run in archive move.</p>
<h2 id="running-a-local-tzindex">running a local tzIndex</h2>
<p>That&rsquo;s easy.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>git clone https://github.com/blockwatch-cc/tzindex
</span></span><span style="display:flex;"><span><span style="color:#0086b3">cd</span> tzindex
</span></span><span style="display:flex;"><span>go build ./cmp/tzindex
</span></span><span style="display:flex;"><span>./tzindex run --rpcurl http://localhost:18731
</span></span></code></pre></div><p>Or, even more simply, using docker</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker run --rm -ti -p 8000:8000 blockwatch/tzindex tzindex run --rpcurl http://172.17.0.1:18731
</span></span></code></pre></div><p><sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup></p>
<h2 id="trying-it-out">trying it out</h2>
<p>Now, let&rsquo;s check out if it works.</p>
<p>Run the sandbox</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>clk tzc sandbox flextesa start
</span></span></code></pre></div><p>Run the indexer<sup id="fnref:2"><a href="#fn:2" class="footnote-ref" role="doc-noteref">2</a></sup></p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker run --rm -ti -p 8000:8000 blockwatch/tzindex tzindex run --rpcurl http://172.17.0.1:18731
</span></span></code></pre></div><p>See the <a href="/braindump/posts/tezos_sandbox/#9ed7e70a-8ef7-4270-a056-a7cf6b4ebae1">alice account</a> to play with it.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>clk tzc sandbox flextesa generate-bootstrap-account-command alice
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    &#34;address&#34;: &#34;tz1VSUr8wwNhLAzempoch5d6hLRiTh8Cjcjb&#34;,
</span></span><span style="display:flex;"><span>    &#34;alias&#34;: &#34;alice&#34;,
</span></span><span style="display:flex;"><span>    &#34;public_key&#34;: &#34;edpkvGfYw3LyB1UcCahKQk4rF2tvbMUk8GFiTuMjL75uGXrpvKXhjn&#34;,
</span></span><span style="display:flex;"><span>    &#34;secret_key&#34;: &#34;unencrypted:edsk3QoqBuvdamxouPhin7swCvkQNgq4jP5KZPbwWNnwdZpSpJiEbq&#34;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Add an address to play with it.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>clk tzc sandbox flextesa generate-bootstrap-account-command konubinix
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    &#34;address&#34;: &#34;tz1UJHuqwkEuHbomaKvzs2XT6evFesPHERKK&#34;,
</span></span><span style="display:flex;"><span>    &#34;alias&#34;: &#34;konubinix&#34;,
</span></span><span style="display:flex;"><span>    &#34;public_key&#34;: &#34;edpkuBLoWpFZh2dTUbgoDUDpPMPFczzYfCHr2jGeLURkBmTUNdgUsU&#34;,
</span></span><span style="display:flex;"><span>    &#34;secret_key&#34;: &#34;unencrypted:edsk3VDZzC1Bp46Fj1oaJFUkVyVT37JtaxTHBq2Hzez4Lkpwmxba2J&#34;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Then, use <a href="/braindump/posts/pytezos/">pytezos</a> to play interactively with the tezos node.<sup id="fnref:3"><a href="#fn:3" class="footnote-ref" role="doc-noteref">3</a></sup></p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">from</span> <span style="color:#555">pytezos</span> <span style="color:#000;font-weight:bold">import</span> pytezos
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>alice <span style="color:#000;font-weight:bold">=</span> pytezos<span style="color:#000;font-weight:bold">.</span>using(shell<span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;http://172.17.0.1:18731&#34;</span>, key<span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;edsk3QoqBuvdamxouPhin7swCvkQNgq4jP5KZPbwWNnwdZpSpJiEbq&#34;</span>)
</span></span><span style="display:flex;"><span>konubinix <span style="color:#000;font-weight:bold">=</span> pytezos<span style="color:#000;font-weight:bold">.</span>using(shell<span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;http://172.17.0.1:18731&#34;</span>, key<span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;edsk3VDZzC1Bp46Fj1oaJFUkVyVT37JtaxTHBq2Hzez4Lkpwmxba2J&#34;</span>)
</span></span></code></pre></div><p>I will use ttl=120 to mitigate a <a href="/braindump/posts/pytezos_error_when_sending_a_transaction_at_start/">bug in pytezos</a>.</p>
<p>Let&rsquo;s try to give some money to konubinix.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>alice<span style="color:#000;font-weight:bold">.</span>transaction(konubinix<span style="color:#000;font-weight:bold">.</span>key<span style="color:#000;font-weight:bold">.</span>public_key_hash(), <span style="color:#099">2000</span>)<span style="color:#000;font-weight:bold">.</span>send(min_confirmations<span style="color:#000;font-weight:bold">=</span><span style="color:#099">1</span>, ttl<span style="color:#000;font-weight:bold">=</span><span style="color:#099">120</span>)
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>&lt;pytezos.operation.group.OperationGroup object at 0x7fd645cae340&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Properties
</span></span><span style="display:flex;"><span>.key		tz1VSUr8wwNhLAzempoch5d6hLRiTh8Cjcjb
</span></span><span style="display:flex;"><span>.shell		[&#39;http://172.17.0.1:18731&#39;]
</span></span><span style="display:flex;"><span>.block_id	head
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Payload
</span></span><span style="display:flex;"><span>{&#39;branch&#39;: &#39;BMNSJyqFn7W3zUprw5UmfvGzmAA8B8aqmNLUPM4mHFozfZZiwXn&#39;,
</span></span><span style="display:flex;"><span> &#39;contents&#39;: [{&#39;amount&#39;: &#39;2000&#39;,
</span></span><span style="display:flex;"><span>               &#39;counter&#39;: &#39;1&#39;,
</span></span><span style="display:flex;"><span>               &#39;destination&#39;: &#39;tz1UJHuqwkEuHbomaKvzs2XT6evFesPHERKK&#39;,
</span></span><span style="display:flex;"><span>               &#39;fee&#39;: &#39;416&#39;,
</span></span><span style="display:flex;"><span>               &#39;gas_limit&#39;: &#39;1551&#39;,
</span></span><span style="display:flex;"><span>               &#39;kind&#39;: &#39;transaction&#39;,
</span></span><span style="display:flex;"><span>               &#39;source&#39;: &#39;tz1VSUr8wwNhLAzempoch5d6hLRiTh8Cjcjb&#39;,
</span></span><span style="display:flex;"><span>               &#39;storage_limit&#39;: &#39;357&#39;}],
</span></span><span style="display:flex;"><span> &#39;protocol&#39;: &#39;PtJakart2xVj7pYXJBXrqHgd82rdkLey5ZeeGwDgPp9rhQUbSqY&#39;,
</span></span><span style="display:flex;"><span> &#39;signature&#39;: &#39;sigvMvRFvTEQYfn3gPQwRdinSbYmF1YFC6GouSF5jgmbruth6sBeb99AWg1S1q4FTwwGpzKjuemx9AXEYAGfuMHRi5E2rk3t&#39;}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Helpers
</span></span><span style="display:flex;"><span>.activate_account()
</span></span><span style="display:flex;"><span>.autofill()
</span></span><span style="display:flex;"><span>.ballot()
</span></span><span style="display:flex;"><span>.binary_payload()
</span></span><span style="display:flex;"><span>.delegation()
</span></span><span style="display:flex;"><span>.double_baking_evidence()
</span></span><span style="display:flex;"><span>.double_endorsement_evidence()
</span></span><span style="display:flex;"><span>.endorsement()
</span></span><span style="display:flex;"><span>.endorsement_with_slot()
</span></span><span style="display:flex;"><span>.failing_noop()
</span></span><span style="display:flex;"><span>.fill()
</span></span><span style="display:flex;"><span>.forge()
</span></span><span style="display:flex;"><span>.hash()
</span></span><span style="display:flex;"><span>.inject()
</span></span><span style="display:flex;"><span>.json_payload()
</span></span><span style="display:flex;"><span>.message()
</span></span><span style="display:flex;"><span>.operation()
</span></span><span style="display:flex;"><span>.origination()
</span></span><span style="display:flex;"><span>.preapply()
</span></span><span style="display:flex;"><span>.proposals()
</span></span><span style="display:flex;"><span>.register_global_constant()
</span></span><span style="display:flex;"><span>.result()
</span></span><span style="display:flex;"><span>.reveal()
</span></span><span style="display:flex;"><span>.run()
</span></span><span style="display:flex;"><span>.run_operation()
</span></span><span style="display:flex;"><span>.seed_nonce_revelation()
</span></span><span style="display:flex;"><span>.send()
</span></span><span style="display:flex;"><span>.send_async()
</span></span><span style="display:flex;"><span>.sign()
</span></span><span style="display:flex;"><span>.transaction()
</span></span></code></pre></div><p>Then, let&rsquo;s reveal konubinix&rsquo;s account</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>konubinix<span style="color:#000;font-weight:bold">.</span>reveal()<span style="color:#000;font-weight:bold">.</span>send(min_confirmations<span style="color:#000;font-weight:bold">=</span><span style="color:#099">1</span>, ttl<span style="color:#000;font-weight:bold">=</span><span style="color:#099">120</span>)
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>&lt;pytezos.operation.group.OperationGroup object at 0x7fd648cc9fd0&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Properties
</span></span><span style="display:flex;"><span>.key		tz1UJHuqwkEuHbomaKvzs2XT6evFesPHERKK
</span></span><span style="display:flex;"><span>.shell		[&#39;http://172.17.0.1:18731&#39;]
</span></span><span style="display:flex;"><span>.block_id	head
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Payload
</span></span><span style="display:flex;"><span>{&#39;branch&#39;: &#39;BM2Rk3cCoLteVHXnomn5TnoZSxdFf641nYopX17zEdKrRy3Yn8o&#39;,
</span></span><span style="display:flex;"><span> &#39;contents&#39;: [{&#39;counter&#39;: &#39;2&#39;,
</span></span><span style="display:flex;"><span>               &#39;fee&#39;: &#39;368&#39;,
</span></span><span style="display:flex;"><span>               &#39;gas_limit&#39;: &#39;1000&#39;,
</span></span><span style="display:flex;"><span>               &#39;kind&#39;: &#39;reveal&#39;,
</span></span><span style="display:flex;"><span>               &#39;public_key&#39;: &#39;edpkuBLoWpFZh2dTUbgoDUDpPMPFczzYfCHr2jGeLURkBmTUNdgUsU&#39;,
</span></span><span style="display:flex;"><span>               &#39;source&#39;: &#39;tz1UJHuqwkEuHbomaKvzs2XT6evFesPHERKK&#39;,
</span></span><span style="display:flex;"><span>               &#39;storage_limit&#39;: &#39;0&#39;}],
</span></span><span style="display:flex;"><span> &#39;protocol&#39;: &#39;PtJakart2xVj7pYXJBXrqHgd82rdkLey5ZeeGwDgPp9rhQUbSqY&#39;,
</span></span><span style="display:flex;"><span> &#39;signature&#39;: &#39;sigeFFxANP1yCqkzhjHRJLZhvM9rm9oK6FwcNoSC3NQLz8hQXL5RVTGiNpYgpP1UFdtDDB183YKRTSahP3s6V6dSZ3rvepya&#39;}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Helpers
</span></span><span style="display:flex;"><span>.activate_account()
</span></span><span style="display:flex;"><span>.autofill()
</span></span><span style="display:flex;"><span>.ballot()
</span></span><span style="display:flex;"><span>.binary_payload()
</span></span><span style="display:flex;"><span>.delegation()
</span></span><span style="display:flex;"><span>.double_baking_evidence()
</span></span><span style="display:flex;"><span>.double_endorsement_evidence()
</span></span><span style="display:flex;"><span>.endorsement()
</span></span><span style="display:flex;"><span>.endorsement_with_slot()
</span></span><span style="display:flex;"><span>.failing_noop()
</span></span><span style="display:flex;"><span>.fill()
</span></span><span style="display:flex;"><span>.forge()
</span></span><span style="display:flex;"><span>.hash()
</span></span><span style="display:flex;"><span>.inject()
</span></span><span style="display:flex;"><span>.json_payload()
</span></span><span style="display:flex;"><span>.message()
</span></span><span style="display:flex;"><span>.operation()
</span></span><span style="display:flex;"><span>.origination()
</span></span><span style="display:flex;"><span>.preapply()
</span></span><span style="display:flex;"><span>.proposals()
</span></span><span style="display:flex;"><span>.register_global_constant()
</span></span><span style="display:flex;"><span>.result()
</span></span><span style="display:flex;"><span>.reveal()
</span></span><span style="display:flex;"><span>.run()
</span></span><span style="display:flex;"><span>.run_operation()
</span></span><span style="display:flex;"><span>.seed_nonce_revelation()
</span></span><span style="display:flex;"><span>.send()
</span></span><span style="display:flex;"><span>.send_async()
</span></span><span style="display:flex;"><span>.sign()
</span></span><span style="display:flex;"><span>.transaction()
</span></span></code></pre></div><p>Now, let&rsquo;s try to see this in querying <a href="/braindump/posts/tzindex/">tzindex</a>.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">import</span> <span style="color:#555">requests</span>
</span></span><span style="display:flex;"><span>operations <span style="color:#000;font-weight:bold">=</span> requests<span style="color:#000;font-weight:bold">.</span>get(<span style="color:#d14">&#34;http://localhost:8000/tables/op&#34;</span>)<span style="color:#000;font-weight:bold">.</span>json()
</span></span><span style="display:flex;"><span>operations[<span style="color:#099">0</span>]
</span></span></code></pre></div><table>
  <thead>
      <tr>
          <th></th>
          <th></th>
          <th></th>
          <th></th>
          <th></th>
          <th></th>
          <th></th>
          <th></th>
          <th></th>
          <th></th>
          <th></th>
          <th></th>
          <th></th>
          <th></th>
          <th></th>
          <th></th>
          <th></th>
          <th></th>
          <th></th>
          <th></th>
          <th></th>
          <th></th>
          <th></th>
          <th></th>
          <th></th>
          <th></th>
          <th></th>
          <th></th>
          <th></th>
          <th></th>
          <th></th>
          <th></th>
          <th></th>
          <th></th>
          <th></th>
          <th></th>
          <th></th>
          <th></th>
          <th></th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>delegation</td>
          <td>oneDGhZacw99EEFaYDTtWfz5QEhUW3PPVFsHa7GShnLPuDn7gSd</td>
          <td>1</td>
          <td>0</td>
          <td>1660316660000</td>
          <td>0</td>
          <td>0</td>
          <td>applied</td>
          <td>1</td>
          <td>0</td>
          <td>0</td>
          <td>1</td>
          <td>0</td>
          <td>0</td>
          <td>0</td>
          <td>0</td>
          <td>0</td>
          <td>0</td>
          <td>0.0</td>
          <td>0.0</td>
          <td>0.0</td>
          <td>0.0</td>
          <td>0.0</td>
          <td>1</td>
          <td>0</td>
          <td>0</td>
          <td>1</td>
          <td>hline</td>
          <td>hline</td>
          <td>hline</td>
          <td>hline</td>
          <td>65536</td>
          <td>tz1VSUr8wwNhLAzempoch5d6hLRiTh8Cjcjb</td>
          <td>hline</td>
          <td>hline</td>
          <td>tz1VSUr8wwNhLAzempoch5d6hLRiTh8Cjcjb</td>
          <td>BMcBzoC6XUFro4EXDocCfJ1VJwNELoUjXgYPGnEo1Kh8PWSRs7e</td>
          <td>hline</td>
          <td>hline</td>
      </tr>
  </tbody>
</table>
<p>The <a href="https://tzstats.com/docs/api#operation-table">documentation</a> describes a row_id. I don&rsquo;t see it in the returned
results. Still, putting this first data aside, I can make sense of the
returned data.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">def</span> <span style="color:#900;font-weight:bold">decorate_operations</span>(operations):
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> [[<span style="color:#d14">&#39;type&#39;</span>,
</span></span><span style="display:flex;"><span>             <span style="color:#d14">&#39;hash&#39;</span>,
</span></span><span style="display:flex;"><span>             <span style="color:#d14">&#39;height&#39;</span>,
</span></span><span style="display:flex;"><span>             <span style="color:#d14">&#39;cycle&#39;</span>,
</span></span><span style="display:flex;"><span>             <span style="color:#d14">&#39;time&#39;</span>,
</span></span><span style="display:flex;"><span>             <span style="color:#d14">&#39;op_n&#39;</span>,
</span></span><span style="display:flex;"><span>             <span style="color:#d14">&#39;op_p&#39;</span>,
</span></span><span style="display:flex;"><span>             <span style="color:#d14">&#39;status&#39;</span>,
</span></span><span style="display:flex;"><span>             <span style="color:#d14">&#39;is_success&#39;</span>,
</span></span><span style="display:flex;"><span>             <span style="color:#d14">&#39;is_contract&#39;</span>,
</span></span><span style="display:flex;"><span>             <span style="color:#d14">&#39;is_event&#39;</span>,
</span></span><span style="display:flex;"><span>             <span style="color:#d14">&#39;is_internal&#39;</span>,
</span></span><span style="display:flex;"><span>             <span style="color:#d14">&#39;counter&#39;</span>,
</span></span><span style="display:flex;"><span>             <span style="color:#d14">&#39;gas_limit&#39;</span>,
</span></span><span style="display:flex;"><span>             <span style="color:#d14">&#39;gas_used&#39;</span>,
</span></span><span style="display:flex;"><span>             <span style="color:#d14">&#39;storage_limit&#39;</span>,
</span></span><span style="display:flex;"><span>             <span style="color:#d14">&#39;storage_paid&#39;</span>,
</span></span><span style="display:flex;"><span>             <span style="color:#d14">&#39;volume&#39;</span>,
</span></span><span style="display:flex;"><span>             <span style="color:#d14">&#39;fee&#39;</span>,
</span></span><span style="display:flex;"><span>             <span style="color:#d14">&#39;reward&#39;</span>,
</span></span><span style="display:flex;"><span>             <span style="color:#d14">&#39;deposit&#39;</span>,
</span></span><span style="display:flex;"><span>             <span style="color:#d14">&#39;burned&#39;</span>,
</span></span><span style="display:flex;"><span>             <span style="color:#d14">&#39;sender_id&#39;</span>,
</span></span><span style="display:flex;"><span>             <span style="color:#d14">&#39;receiver_id&#39;</span>,
</span></span><span style="display:flex;"><span>             <span style="color:#d14">&#39;manager_id&#39;</span>,
</span></span><span style="display:flex;"><span>             <span style="color:#d14">&#39;baker_id&#39;</span>,
</span></span><span style="display:flex;"><span>             <span style="color:#d14">&#39;data&#39;</span>,
</span></span><span style="display:flex;"><span>             <span style="color:#d14">&#39;parameters&#39;</span>,
</span></span><span style="display:flex;"><span>             <span style="color:#d14">&#39;storage_hash&#39;</span>,
</span></span><span style="display:flex;"><span>             <span style="color:#d14">&#39;big_map_diff&#39;</span>,
</span></span><span style="display:flex;"><span>             <span style="color:#d14">&#39;errors&#39;</span>,
</span></span><span style="display:flex;"><span>             <span style="color:#d14">&#39;days_destroyed&#39;</span>,
</span></span><span style="display:flex;"><span>             <span style="color:#d14">&#39;sender&#39;</span>,
</span></span><span style="display:flex;"><span>             <span style="color:#d14">&#39;receiver&#39;</span>,
</span></span><span style="display:flex;"><span>             <span style="color:#d14">&#39;creator&#39;</span>,
</span></span><span style="display:flex;"><span>             <span style="color:#d14">&#39;baker&#39;</span>,
</span></span><span style="display:flex;"><span>             <span style="color:#d14">&#39;block&#39;</span>,
</span></span><span style="display:flex;"><span>             <span style="color:#d14">&#39;entrypoint&#39;</span>,
</span></span><span style="display:flex;"><span>             ]] <span style="color:#000;font-weight:bold">+</span> operations
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>decorate_operations(operations[:<span style="color:#099">1</span>])
</span></span></code></pre></div><table>
  <thead>
      <tr>
          <th>type</th>
          <th>hash</th>
          <th>height</th>
          <th>cycle</th>
          <th>time</th>
          <th>op_n</th>
          <th>op_p</th>
          <th>status</th>
          <th>is_success</th>
          <th>is_contract</th>
          <th>is_event</th>
          <th>is_internal</th>
          <th>counter</th>
          <th>gas_limit</th>
          <th>gas_used</th>
          <th>storage_limit</th>
          <th>storage_paid</th>
          <th>volume</th>
          <th>fee</th>
          <th>reward</th>
          <th>deposit</th>
          <th>burned</th>
          <th>sender_id</th>
          <th>receiver_id</th>
          <th>manager_id</th>
          <th>baker_id</th>
          <th>data</th>
          <th>parameters</th>
          <th>storage_hash</th>
          <th>big_map_diff</th>
          <th>errors</th>
          <th>days_destroyed</th>
          <th>sender</th>
          <th>receiver</th>
          <th>creator</th>
          <th>baker</th>
          <th>block</th>
          <th>entrypoint</th>
          <th></th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>delegation</td>
          <td>oneDGhZacw99EEFaYDTtWfz5QEhUW3PPVFsHa7GShnLPuDn7gSd</td>
          <td>1</td>
          <td>0</td>
          <td>1660316660000</td>
          <td>0</td>
          <td>0</td>
          <td>applied</td>
          <td>1</td>
          <td>0</td>
          <td>0</td>
          <td>1</td>
          <td>0</td>
          <td>0</td>
          <td>0</td>
          <td>0</td>
          <td>0</td>
          <td>0</td>
          <td>0.0</td>
          <td>0.0</td>
          <td>0.0</td>
          <td>0.0</td>
          <td>0.0</td>
          <td>1</td>
          <td>0</td>
          <td>0</td>
          <td>1</td>
          <td>None</td>
          <td>None</td>
          <td>None</td>
          <td>None</td>
          <td>65536</td>
          <td>tz1VSUr8wwNhLAzempoch5d6hLRiTh8Cjcjb</td>
          <td>None</td>
          <td>None</td>
          <td>tz1VSUr8wwNhLAzempoch5d6hLRiTh8Cjcjb</td>
          <td>BMcBzoC6XUFro4EXDocCfJ1VJwNELoUjXgYPGnEo1Kh8PWSRs7e</td>
          <td>None</td>
          <td>None</td>
      </tr>
  </tbody>
</table>
<p>Now, let&rsquo;s try to request more precisely.</p>
<p>For instance, let&rsquo;s see the <a href="/braindump/posts/tezos_operations/">operations</a> initiated by alice.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>decorate_operations(requests<span style="color:#000;font-weight:bold">.</span>get(<span style="color:#d14">f</span><span style="color:#d14">&#34;http://localhost:8000/tables/op?sender.eq=</span><span style="color:#d14">{</span>alice<span style="color:#000;font-weight:bold">.</span>key<span style="color:#000;font-weight:bold">.</span>public_key_hash()<span style="color:#d14">}</span><span style="color:#d14">&#34;</span>)<span style="color:#000;font-weight:bold">.</span>json())
</span></span></code></pre></div><table>
  <thead>
      <tr>
          <th>type</th>
          <th>hash</th>
          <th>height</th>
          <th>cycle</th>
          <th>time</th>
          <th>op_n</th>
          <th>op_p</th>
          <th>status</th>
          <th>is_success</th>
          <th>is_contract</th>
          <th>is_event</th>
          <th>is_internal</th>
          <th>counter</th>
          <th>gas_limit</th>
          <th>gas_used</th>
          <th>storage_limit</th>
          <th>storage_paid</th>
          <th>volume</th>
          <th>fee</th>
          <th>reward</th>
          <th>deposit</th>
          <th>burned</th>
          <th>sender_id</th>
          <th>receiver_id</th>
          <th>manager_id</th>
          <th>baker_id</th>
          <th>data</th>
          <th>parameters</th>
          <th>storage_hash</th>
          <th>big_map_diff</th>
          <th>errors</th>
          <th>days_destroyed</th>
          <th>sender</th>
          <th>receiver</th>
          <th>creator</th>
          <th>baker</th>
          <th>block</th>
          <th>entrypoint</th>
          <th></th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>delegation</td>
          <td>oneDGhZacw99EEFaYDTtWfz5QEhUW3PPVFsHa7GShnLPuDn7gSd</td>
          <td>1</td>
          <td>0</td>
          <td>1660316660000</td>
          <td>0</td>
          <td>0</td>
          <td>applied</td>
          <td>1</td>
          <td>0</td>
          <td>0</td>
          <td>1</td>
          <td>0</td>
          <td>0</td>
          <td>0</td>
          <td>0</td>
          <td>0</td>
          <td>0</td>
          <td>0.0</td>
          <td>0.0</td>
          <td>0.0</td>
          <td>0.0</td>
          <td>0.0</td>
          <td>1</td>
          <td>0</td>
          <td>0</td>
          <td>1</td>
          <td>None</td>
          <td>None</td>
          <td>None</td>
          <td>None</td>
          <td>65536</td>
          <td>tz1VSUr8wwNhLAzempoch5d6hLRiTh8Cjcjb</td>
          <td>None</td>
          <td>None</td>
          <td>tz1VSUr8wwNhLAzempoch5d6hLRiTh8Cjcjb</td>
          <td>BMcBzoC6XUFro4EXDocCfJ1VJwNELoUjXgYPGnEo1Kh8PWSRs7e</td>
          <td>None</td>
          <td>None</td>
      </tr>
      <tr>
          <td>activation</td>
          <td>oneDGhZacw99EEFaYDTtWfz5QEhUW3PPVFsHa7GShnLPuDn7gSd</td>
          <td>1</td>
          <td>0</td>
          <td>1660316660000</td>
          <td>1</td>
          <td>1</td>
          <td>applied</td>
          <td>1</td>
          <td>0</td>
          <td>0</td>
          <td>1</td>
          <td>0</td>
          <td>1</td>
          <td>0</td>
          <td>0</td>
          <td>0</td>
          <td>0</td>
          <td>2000000.0</td>
          <td>0.0</td>
          <td>0.0</td>
          <td>0.0</td>
          <td>0.0</td>
          <td>1</td>
          <td>0</td>
          <td>0</td>
          <td>0</td>
          <td>None</td>
          <td>None</td>
          <td>None</td>
          <td>None</td>
          <td>65537</td>
          <td>tz1VSUr8wwNhLAzempoch5d6hLRiTh8Cjcjb</td>
          <td>None</td>
          <td>None</td>
          <td>None</td>
          <td>BMcBzoC6XUFro4EXDocCfJ1VJwNELoUjXgYPGnEo1Kh8PWSRs7e</td>
          <td>None</td>
          <td>None</td>
      </tr>
      <tr>
          <td>transaction</td>
          <td>ooyokRus7dMeMUBeaPxVXqxC5vxBNXchxmqr8fR2dnMAHcix2u8</td>
          <td>97</td>
          <td>12</td>
          <td>1660316972000</td>
          <td>3</td>
          <td>0</td>
          <td>applied</td>
          <td>1</td>
          <td>0</td>
          <td>0</td>
          <td>0</td>
          <td>0</td>
          <td>1</td>
          <td>1551</td>
          <td>1450</td>
          <td>357</td>
          <td>0</td>
          <td>0.002</td>
          <td>0.000416</td>
          <td>0.0</td>
          <td>0.0</td>
          <td>0.06425</td>
          <td>1</td>
          <td>8</td>
          <td>0</td>
          <td>0</td>
          <td>None</td>
          <td>None</td>
          <td>None</td>
          <td>None</td>
          <td>6356995</td>
          <td>tz1VSUr8wwNhLAzempoch5d6hLRiTh8Cjcjb</td>
          <td>tz1UJHuqwkEuHbomaKvzs2XT6evFesPHERKK</td>
          <td>None</td>
          <td>None</td>
          <td>BMTyuSAWxZGSzLYNG5798daEuRTgTsSiGWx4xAYRVj4adHdc9jP</td>
          <td>None</td>
          <td>None</td>
      </tr>
      <tr>
          <td>transaction</td>
          <td>opC1XApjT9M5kfrpcGsXSkRxevLtfH7oacxVFZ2yV18E4WV216N</td>
          <td>357</td>
          <td>44</td>
          <td>1660317752000</td>
          <td>3</td>
          <td>0</td>
          <td>applied</td>
          <td>1</td>
          <td>0</td>
          <td>0</td>
          <td>0</td>
          <td>0</td>
          <td>2</td>
          <td>1551</td>
          <td>1450</td>
          <td>357</td>
          <td>0</td>
          <td>0.002</td>
          <td>0.000416</td>
          <td>0.0</td>
          <td>0.0</td>
          <td>0.06425</td>
          <td>1</td>
          <td>9</td>
          <td>0</td>
          <td>0</td>
          <td>None</td>
          <td>None</td>
          <td>None</td>
          <td>None</td>
          <td>23396355</td>
          <td>tz1VSUr8wwNhLAzempoch5d6hLRiTh8Cjcjb</td>
          <td>tz1NT871u7xQx8kDHXc7NGJ2r5SjtiRZpc7i</td>
          <td>None</td>
          <td>None</td>
          <td>BLxyTmZ97E4PCVkzKM7VySk7NUDrEXhFkPrvNnLkf9V1TozVNVh</td>
          <td>None</td>
          <td>None</td>
      </tr>
  </tbody>
</table>
<p>And in particular those towards konubinix.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>decorate_operations(requests<span style="color:#000;font-weight:bold">.</span>get(<span style="color:#d14">f</span><span style="color:#d14">&#34;http://localhost:8000/tables/op?sender.eq=</span><span style="color:#d14">{</span>alice<span style="color:#000;font-weight:bold">.</span>key<span style="color:#000;font-weight:bold">.</span>public_key_hash()<span style="color:#d14">}</span><span style="color:#d14">&amp;receiver=</span><span style="color:#d14">{</span>konubinix<span style="color:#000;font-weight:bold">.</span>key<span style="color:#000;font-weight:bold">.</span>public_key_hash()<span style="color:#d14">}</span><span style="color:#d14">&#34;</span>)<span style="color:#000;font-weight:bold">.</span>json())
</span></span></code></pre></div><table>
  <thead>
      <tr>
          <th>type</th>
          <th>hash</th>
          <th>height</th>
          <th>cycle</th>
          <th>time</th>
          <th>op_n</th>
          <th>op_p</th>
          <th>status</th>
          <th>is_success</th>
          <th>is_contract</th>
          <th>is_event</th>
          <th>is_internal</th>
          <th>counter</th>
          <th>gas_limit</th>
          <th>gas_used</th>
          <th>storage_limit</th>
          <th>storage_paid</th>
          <th>volume</th>
          <th>fee</th>
          <th>reward</th>
          <th>deposit</th>
          <th>burned</th>
          <th>sender_id</th>
          <th>receiver_id</th>
          <th>manager_id</th>
          <th>baker_id</th>
          <th>data</th>
          <th>parameters</th>
          <th>storage_hash</th>
          <th>big_map_diff</th>
          <th>errors</th>
          <th>days_destroyed</th>
          <th>sender</th>
          <th>receiver</th>
          <th>creator</th>
          <th>baker</th>
          <th>block</th>
          <th>entrypoint</th>
          <th></th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>transaction</td>
          <td>ooyokRus7dMeMUBeaPxVXqxC5vxBNXchxmqr8fR2dnMAHcix2u8</td>
          <td>97</td>
          <td>12</td>
          <td>1660316972000</td>
          <td>3</td>
          <td>0</td>
          <td>applied</td>
          <td>1</td>
          <td>0</td>
          <td>0</td>
          <td>0</td>
          <td>0</td>
          <td>1</td>
          <td>1551</td>
          <td>1450</td>
          <td>357</td>
          <td>0</td>
          <td>0.002</td>
          <td>0.000416</td>
          <td>0.0</td>
          <td>0.0</td>
          <td>0.06425</td>
          <td>1</td>
          <td>8</td>
          <td>0</td>
          <td>0</td>
          <td>None</td>
          <td>None</td>
          <td>None</td>
          <td>None</td>
          <td>6356995</td>
          <td>tz1VSUr8wwNhLAzempoch5d6hLRiTh8Cjcjb</td>
          <td>tz1UJHuqwkEuHbomaKvzs2XT6evFesPHERKK</td>
          <td>None</td>
          <td>None</td>
          <td>BMTyuSAWxZGSzLYNG5798daEuRTgTsSiGWx4xAYRVj4adHdc9jP</td>
          <td>None</td>
          <td>None</td>
      </tr>
  </tbody>
</table>
<p>I don&rsquo;t see where the amount is supposed to be. But let&rsquo;s move forward.</p>
<p>The transactions initiated by konubinix.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>decorate_operations(requests<span style="color:#000;font-weight:bold">.</span>get(<span style="color:#d14">f</span><span style="color:#d14">&#34;http://localhost:8000/tables/op?sender.eq=</span><span style="color:#d14">{</span>konubinix<span style="color:#000;font-weight:bold">.</span>key<span style="color:#000;font-weight:bold">.</span>public_key_hash()<span style="color:#d14">}</span><span style="color:#d14">&#34;</span>)<span style="color:#000;font-weight:bold">.</span>json())
</span></span></code></pre></div><table>
  <thead>
      <tr>
          <th>type</th>
          <th>hash</th>
          <th>height</th>
          <th>cycle</th>
          <th>time</th>
          <th>op_n</th>
          <th>op_p</th>
          <th>status</th>
          <th>is_success</th>
          <th>is_contract</th>
          <th>is_event</th>
          <th>is_internal</th>
          <th>counter</th>
          <th>gas_limit</th>
          <th>gas_used</th>
          <th>storage_limit</th>
          <th>storage_paid</th>
          <th>volume</th>
          <th>fee</th>
          <th>reward</th>
          <th>deposit</th>
          <th>burned</th>
          <th>sender_id</th>
          <th>receiver_id</th>
          <th>manager_id</th>
          <th>baker_id</th>
          <th>data</th>
          <th>parameters</th>
          <th>storage_hash</th>
          <th>big_map_diff</th>
          <th>errors</th>
          <th>days_destroyed</th>
          <th>sender</th>
          <th>receiver</th>
          <th>creator</th>
          <th>baker</th>
          <th>block</th>
          <th>entrypoint</th>
          <th></th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>reveal</td>
          <td>opLJamDitCX8NYUdERoPyS7ChKJRKTYFY5TTWJAFFiai5FogB2Q</td>
          <td>108</td>
          <td>13</td>
          <td>1660317005000</td>
          <td>3</td>
          <td>0</td>
          <td>applied</td>
          <td>1</td>
          <td>0</td>
          <td>0</td>
          <td>0</td>
          <td>0</td>
          <td>2</td>
          <td>1000</td>
          <td>1000</td>
          <td>0</td>
          <td>0</td>
          <td>0.0</td>
          <td>0.000368</td>
          <td>0.0</td>
          <td>0.0</td>
          <td>0.0</td>
          <td>8</td>
          <td>0</td>
          <td>0</td>
          <td>0</td>
          <td>edpkuBLoWpFZh2dTUbgoDUDpPMPFczzYfCHr2jGeLURkBmTUNdgUsU</td>
          <td>None</td>
          <td>None</td>
          <td>None</td>
          <td>7077891</td>
          <td>tz1UJHuqwkEuHbomaKvzs2XT6evFesPHERKK</td>
          <td>None</td>
          <td>None</td>
          <td>None</td>
          <td>BLnHuRo61UAAhZyPN2NTNFy1cuA7ES3FgBnjTHAhxMr1dt7NZEN</td>
          <td>None</td>
          <td>None</td>
      </tr>
  </tbody>
</table>
<p>We can see the reveal.</p>
<p>Now, let&rsquo;s take a look at the balances.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>requests<span style="color:#000;font-weight:bold">.</span>get(<span style="color:#d14">f</span><span style="color:#d14">&#34;http://localhost:8000/explorer/account/</span><span style="color:#d14">{</span>alice<span style="color:#000;font-weight:bold">.</span>key<span style="color:#000;font-weight:bold">.</span>public_key_hash()<span style="color:#d14">}</span><span style="color:#d14">&#34;</span>)<span style="color:#000;font-weight:bold">.</span>json()[<span style="color:#d14">&#39;spendable_balance&#39;</span>]
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>2199999.866668
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>requests<span style="color:#000;font-weight:bold">.</span>get(<span style="color:#d14">f</span><span style="color:#d14">&#34;http://localhost:8000/explorer/account/</span><span style="color:#d14">{</span>konubinix<span style="color:#000;font-weight:bold">.</span>key<span style="color:#000;font-weight:bold">.</span>public_key_hash()<span style="color:#d14">}</span><span style="color:#d14">&#34;</span>)<span style="color:#000;font-weight:bold">.</span>json()[<span style="color:#d14">&#39;spendable_balance&#39;</span>]
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>0.001632
</span></span></code></pre></div><p>Yet again, I&rsquo;m not familiar enough with tezos to understand this, but it looks
like everything is working appropriately.</p>
<h2 id="permalink"><a href="https://konubinix.eu/braindump/076b2d1b-c718-4eb9-b018-a5d44e8948f9?title=how_to_run_a_local_development_environment_in_tezos_flextesa_and_tzindex">Permalink</a></h2>
<div class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1">
<p>I use here the <a href="/braindump/posts/adresse_de_la_machine_hote_dans_docker/">address to discuss with localhost from a docker container</a>&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:2">
<p>this can be run whenever you want, it will parse all the block when run&#160;<a href="#fnref:2" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:3">
<p>I would have loved querying the boltdb database, but it appears that
there are no good boltdb command line tool out there. I was too lazy to build my
request directly in golang.&#160;<a href="#fnref:3" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</div>
      </div>
	  <aside class="date"><time>Last updated: 12 Aug 2022</time></aside>
	  <aside class="date"><time>Published&nbsp;&nbsp;&nbsp;: 24 Jun 2022</time></aside>
    </div>
  </div>
</div>

<script src="/braindump/js/URI.js" type="text/javascript"></script>

<script src="/braindump/js/page.js" type="text/javascript"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</body>
</html>
