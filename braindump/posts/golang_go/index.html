<!DOCTYPE html>
<html><title>golang go</title>


<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="google-site-verification" content="bLmaFyyXugiCqSup-eIIIx0B4CngtdF_svyMMKQbS5E" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=10, minimum-scale=0.5, user-scalable=yes">
<meta name="apple-mobile-web-app-capable" content="yes" />
<script src="https://hypothes.is/embed.js" async></script>


<link rel="stylesheet" href="/braindump/css/main.min.56b43bcbc759a196f9dd525bee62bdec45a29ba95902bbab74a4f7ad2ea3e8cb.css"/>

<link rel="stylesheet" href="/braindump/css/links.min.4bf1990b213fb76d2a66153dc6ef9a57d49f536c6baf6e7f19a7948470a38141.css"/>

<link rel="stylesheet" href="/braindump/css/konubinix.min.cf2d0f36945178c647979ee68f1830892e06aa3d481d8913728b5c7462b97f6e.css"/>

<link rel="stylesheet" href="/ipfs/QmQFVQS89fv1XUNFcjwCKDePzckuT9kpuAVNYUwNdEfYcv/css/all.css"/>
<link rel="shortcut icon" href="/ipfs/QmVFwYV7YRZLKU3ybN1hW4jqfyZGPLKJwd8toN2wHz5UAD?a.png" type="image/x-icon" />

<body><header>
  <div>
	<a href="/braindump//"><h5 class="site-title">Konubinix&#39; opinionated web of thoughts</h5></a>
  </div>
  <span>
	<a href="/blog/"><i class="icon fas fa-blog"></i></a>
	<a href="/braindump/posts/"><i class="icon fas fa-brain"></i></a>
    <a href="mailto:konubinixweb@gmail.com"><i class="icon fas fa-envelope-square"></i></a>
    <a href="https://github.com/konubinix"><i class="icon fab fa-github-square"></i></a>
    <a href="https://linkedin.com/in/samuel-loury-61259040"><i class="icon fab fa-linkedin"></i></a>
	<a href="/braindump/graph.html"><i class="icon fas fa-project-diagram"></i></a>
	<a href="/braindump/index.xml"><i class="icon fas fa-rss-square"></i></a>
	<a href="/braindump/tags/"><i class="icon fa fa-tag"></i></a>
	<a href="/braindump/braindump_search"><i class="icon fa fa-search"></i></a>
  </span>
</header>

<div class="grid-container">
  <div class="grid">
    <div class="page" data-level="1">
      <div class="content">
		<p class="lead">
        <h1>Golang Go</h1>
		<span class="badge badge-pill badge-warning"><a href="/braindump/tags/fleeting/">Fleeting</a></span></p>
        <p>golang</p>
<h2 id="39dc6da0-2327-46d6-aa0a-424d76b9eeab">panic =&gt; exit code 2</h2>
<ul>
<li>Référence externe : <a href="https://www.practical-go-lessons.com/post/how-to-recover-from-a-runtime-failure-panic-in-go-cbl28ojpaeds70g0qrs0">https://www.practical-go-lessons.com/post/how-to-recover-from-a-runtime-failure-panic-in-go-cbl28ojpaeds70g0qrs0</a></li>
</ul>
<p>How to recover from a runtime failure (panic) in Go| Practical Go Lessons</p>
<blockquote>
<p>Go runtime prints the stack trace. At the top, you can see the file and line where the panic occurred.
It’s easy then to debug!
Note also that the exit status code is 2. Which signals an error (0 when all is good)</p>
<p>&mdash; <a href="https://www.practical-go-lessons.com/post/how-to-recover-from-a-runtime-failure-panic-in-go-cbl28ojpaeds70g0qrs0">https://www.practical-go-lessons.com/post/how-to-recover-from-a-runtime-failure-panic-in-go-cbl28ojpaeds70g0qrs0</a></p>
</blockquote>
<h2 id="d0a271c3-7ab6-4a10-bf3a-08a350ae0da0">workspace</h2>
<ul>
<li>Référence externe : <a href="https://github.com/golang/go/issues/53502">https://github.com/golang/go/issues/53502</a></li>
<li>Référence externe : <a href="https://go.googlesource.com/proposal/+/master/design/45713-workspace.md">https://go.googlesource.com/proposal/+/master/design/45713-workspace.md</a></li>
</ul>
<p><a href="/braindump/posts/golang_go/">golang go</a></p>
<blockquote>
<p>go.work files should not be checked into version control repos containing
modules so that the go.work file in a module does not end up overriding the
configuration a user created themselves outside of the module. The go.work
documentation should contain clear warnings about this.</p>
<p>&mdash; <a href="https://go.googlesource.com/proposal/+/master/design/45713-workspace.md">https://go.googlesource.com/proposal/+/master/design/45713-workspace.md</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>These go.work files should not be checked into the repositories so that they
don‘t override the workspaces users explicitly define. Checking in go.work files
could also lead to CI/CD systems not testing the actual set of version
requirements on a module and that version requirements among the repository’s
modules are properly incremented to use changes in the modules</p>
<p>&mdash; <a href="https://go.googlesource.com/proposal/+/master/design/45713-workspace.md">https://go.googlesource.com/proposal/+/master/design/45713-workspace.md</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>go.work files should not be checked into version control repos containing
modules so that the go.work file in a module does not end up overriding the
configuration a user created themselves outside of the module. The go.work
documentation should contain clear warnings about this.</p>
<p>&mdash; <a href="https://go.googlesource.com/proposal/+/master/design/45713-workspace.md">https://go.googlesource.com/proposal/+/master/design/45713-workspace.md</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>single build list is constructed from the set of workspace modules to give
developers consistent results wherever they are in their workspace</p>
<p>&mdash; <a href="https://go.googlesource.com/proposal/+/master/design/45713-workspace.md">https://go.googlesource.com/proposal/+/master/design/45713-workspace.md</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>go.work files that checked into repositories would cause confusion for Go users
because they change the build configuration without the user explicitly opting
in. Because of this they should be strongly discouraged.</p>
<p>&mdash; <a href="https://go.googlesource.com/proposal/+/master/design/45713-workspace.md">https://go.googlesource.com/proposal/+/master/design/45713-workspace.md</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>it seems like the common knowledge among Go developers is that the file should
never be checked in, because:</p>
<p>GitHub&rsquo;s default gitignore includes the file since Go: Ignore Go workspace file
go.work github/gitignore#3884 Official Go repositories set an example by not
checking them in; for example, x/tools does not include one, even though it has
two modules connected by a directory replace directive Some third party docs or
blog posts echo the recommendation to never check them in, like</p>
<p><a href="https://sebastian-holstein.de/post/2021-11-08-go-1.18-features/">https://sebastian-holstein.de/post/2021-11-08-go-1.18-features/</a></p>
<p>&mdash; <a href="https://github.com/golang/go/issues/53502">https://github.com/golang/go/issues/53502</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>For large monorepos with multiple modules, it likely makes sense to check in
go.work, as it makes the setup easier and often has no downsides</p>
<p>&mdash; <a href="https://github.com/golang/go/issues/53502">https://github.com/golang/go/issues/53502</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>We never gave any advice on it, and the community seems to lean on &ldquo;never check
them in&rdquo;.</p>
<p>&mdash; <a href="https://github.com/golang/go/issues/53502">https://github.com/golang/go/issues/53502</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>We could recommend never checking them in, but I think that&rsquo;s a bad idea: in
some particular scenarios it can make perfect sense to check them in, such as
monorepos holding multiple modules.</p>
<p>&mdash; <a href="https://github.com/golang/go/issues/53502">https://github.com/golang/go/issues/53502</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>I would hate to have to teach people in my team how to create a go.work file
just so gopls will work as expected for them, so it seems very reasonable to
just push it into VCS. That&rsquo;s why I was very surprised to see the proposal
suggested against doing that.</p>
<p>&mdash; <a href="https://github.com/golang/go/issues/53502">https://github.com/golang/go/issues/53502</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>it is possible and perhaps reasonable to check in a go.work file.</p>
<p>&mdash; <a href="https://github.com/golang/go/issues/53502">https://github.com/golang/go/issues/53502</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>For what it&rsquo;s worth I think it would be fine to fix this issue by updating the
docs to say that checking in the file is okay in some cases. Right now we are
silent, and there&rsquo;s widespread &ldquo;common knowledge&rdquo; that dictates the file should
never be checked in. We should at least clarify that that&rsquo;s not the official
recommendation.</p>
<p>&mdash; <a href="https://github.com/golang/go/issues/53502">https://github.com/golang/go/issues/53502</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>If GOWORK is set to off, the command will be in a single-module context. If it is empty or not provided, the command will search the current working directory, and then successive parent directories, for a file go.work</p>
<p>&mdash; <a href="https://go.dev/ref/mod#workspaces">https://go.dev/ref/mod#workspaces</a></p>
</blockquote>
<!--more-->
<h2 id="notes-pointant-ici">Notes pointant ici</h2>
<ul>
<li><a href="/braindump/posts/cross_build_with_go/">cross build with go</a></li>
<li><a href="/braindump/posts/debug_golang_dap_dlv_delve_emacs/">debug golang dap dlv delve emacs</a></li>
<li><a href="/braindump/posts/javascript/#81264020-52b6-4f0e-93da-3699265c28b3">deno</a></li>
<li><a href="/braindump/posts/dlv/">dlv</a></li>
<li><a href="/braindump/posts/do_not_communicate_by_sharing_memory_instead_share_memory_by_communicating/">do not communicate by sharing memory; instead, share memory by communicating</a></li>
<li><a href="/braindump/posts/embedding_interfaces_in_structs_in_golang/">embedding interfaces in structs in golang</a></li>
<li><a href="/braindump/posts/get_out_of_nested_go_for_loop_with_labels_not_like_goto/">get out of nested go for loop with labels (not like goto)</a></li>
<li><a href="/braindump/posts/go_maps/">go maps</a></li>
<li><a href="/braindump/posts/go_modules_how_to_upgrade_the_go_version_in_a_go_mod/">go modules - How to upgrade the go version in a go mod</a></li>
<li><a href="/braindump/posts/golang_context_package/">golang context package</a></li>
<li><a href="/braindump/posts/golang_see_the_dependency_graph/">golang see the dependency graph</a></li>
<li><a href="/braindump/posts/gopy_generates_a_cpython_extension_module_from_a_go_package/">gopy generates a CPython extension module from a go package</a></li>
<li><a href="/braindump/posts/gotemplate/">gotemplate</a></li>
<li><a href="https://konubinix.eu/blog/posts/how_do_i_create_an_oauth_2_0_oidc_resource_server/?title=how_do_i_create_an_oauth_2_0_oidc_resource_server#">how do I create an OAuth 2.0/OIDC resource server?</a> (blog)</li>
<li><a href="/braindump/posts/how_to_use_a_gitlab_private_repository_as_a_go_module/">how to use a gitlab private repository as a go module?</a></li>
<li><a href="/braindump/posts/how_to_version_go_module/">how to version go module</a></li>
<li><a href="/braindump/posts/is_there_a_go_uninstall/">Is there a `go uninstall`?</a></li>
<li><a href="/braindump/posts/ko/">ko</a></li>
<li><a href="/braindump/posts/monadic_error_handling_in_python_write_better_python_code_part_7b_youtube/">Monadic Error Handling in Python ⚠ Write Better Python Code Part 7B - YouTube</a></li>
<li><a href="https://konubinix.eu/blog/posts/the_blog_of_konubinix/?title=my_tools#my-tools">My tools</a> (blog)</li>
<li><a href="/braindump/posts/new_vs_make_in_golang/">new() vs make() in golang</a></li>
<li><a href="/braindump/posts/tagging_a_go_package_makes_it_stick_forever_using_the_proxy/">tagging a go package makes it stick forever, using the proxy</a></li>
<li><a href="/braindump/posts/tinygo/">tinygo</a></li>
<li><a href="/braindump/posts/tss_lib/">tss-lib</a></li>
<li><a href="/braindump/posts/wasm_and_export_in_golang/">wasm and export in golang</a></li>
<li><a href="/braindump/posts/yaegi/">yaegi</a></li>
</ul>
<h2 id="permalink"><a href="https://konubinix.eu/braindump/73cf1dbe-c7b6-47f1-bb50-c99127a95c11?title=golang_go">Permalink</a></h2>
      </div>
	  <aside class="date"><time>Last updated: 10 Dec 2023</time></aside>
	  <aside class="date"><time>Published&nbsp;&nbsp;&nbsp;: 21 Oct 2020</time></aside>
    </div>
  </div>
</div>

<script src="/braindump/js/URI.js" type="text/javascript"></script>

<script src="/braindump/js/page.js" type="text/javascript"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</body>
</html>
