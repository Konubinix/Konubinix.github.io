<!DOCTYPE html>
<html><title>How to Configure File System Caching in Linux | Baeldung on Linux</title>


<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="google-site-verification" content="bLmaFyyXugiCqSup-eIIIx0B4CngtdF_svyMMKQbS5E" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=10, minimum-scale=0.5, user-scalable=yes">
<meta name="apple-mobile-web-app-capable" content="yes" />
<script src="https://hypothes.is/embed.js" async></script>


<link rel="stylesheet" href="/braindump/css/main.min.56b43bcbc759a196f9dd525bee62bdec45a29ba95902bbab74a4f7ad2ea3e8cb.css"/>

<link rel="stylesheet" href="/braindump/css/links.min.4bf1990b213fb76d2a66153dc6ef9a57d49f536c6baf6e7f19a7948470a38141.css"/>

<link rel="stylesheet" href="/braindump/css/konubinix.min.cf2d0f36945178c647979ee68f1830892e06aa3d481d8913728b5c7462b97f6e.css"/>

<link rel="stylesheet" href="/ipfs/QmQFVQS89fv1XUNFcjwCKDePzckuT9kpuAVNYUwNdEfYcv/css/all.css"/>
<link rel="shortcut icon" href="/ipfs/QmVFwYV7YRZLKU3ybN1hW4jqfyZGPLKJwd8toN2wHz5UAD?a.png" type="image/x-icon" />

<body><header>
  <div>
	<a href="/braindump//"><h5 class="site-title">Konubinix&#39; opinionated web of thoughts</h5></a>
  </div>
  <span>
	<a href="/blog/"><i class="icon fas fa-blog"></i></a>
	<a href="/braindump/posts/"><i class="icon fas fa-brain"></i></a>
    <a href="mailto:konubinixweb@gmail.com"><i class="icon fas fa-envelope-square"></i></a>
    <a href="https://github.com/konubinix"><i class="icon fab fa-github-square"></i></a>
    <a href="https://linkedin.com/in/samuel-loury-61259040"><i class="icon fab fa-linkedin"></i></a>
	<a href="/braindump/graph.html"><i class="icon fas fa-project-diagram"></i></a>
	<a href="/braindump/index.xml"><i class="icon fas fa-rss-square"></i></a>
	<a href="/braindump/tags/"><i class="icon fa fa-tag"></i></a>
	<a href="/braindump/braindump_search"><i class="icon fa fa-search"></i></a>
  </span>
</header>

<div class="grid-container">
  <div class="grid">
    <div class="page" data-level="1">
      <div class="content">
		<p class="lead">
        <h1>How to Configure File System Caching in Linux | Baeldung on Linux</h1>
		<span class="badge badge-pill badge-warning"><a href="/braindump/tags/fleeting/">Fleeting</a></span></p>
        <ul>
<li>External reference: <a href="https://www.baeldung.com/linux/file-system-caching">https://www.baeldung.com/linux/file-system-caching</a></li>
</ul>
<p>How to Configure File System Caching in Linux | Baeldung on Linux</p>
<blockquote>
<p>file system cache holds data recently read from secondary storage. This makes it
possible for subsequent requests to obtain data from the cache instead of
reading it from slower memory</p>
<p>&mdash; <a href="https://www.baeldung.com/linux/file-system-caching">https://www.baeldung.com/linux/file-system-caching</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>store frequently accessed data in memory for faster access</p>
<p>&mdash; <a href="https://www.baeldung.com/linux/file-system-caching">https://www.baeldung.com/linux/file-system-caching</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>kernel uses the page cache to store recently-read data from files and file system metadata.</p>
<p>&mdash; <a href="https://www.baeldung.com/linux/file-system-caching">https://www.baeldung.com/linux/file-system-caching</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>when a program reads data from a file, the kernel performs several tasks:</p>
<p>checks the page cache to see if the data is already in memory
if the data is in memory, the kernel simply returns the data from the cache
otherwise, it reads the data from the drive and stores a copy of it in the cache for future use</p>
<p>&mdash; <a href="https://www.baeldung.com/linux/file-system-caching">https://www.baeldung.com/linux/file-system-caching</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>he vmstat command provides detailed information about virtual memory. In particular, it shows the amount of memory in use for caching:
$ vmstat</p>
<p>&mdash; <a href="https://www.baeldung.com/linux/file-system-caching">https://www.baeldung.com/linux/file-system-caching</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>cache column shows the amount of memory used for file system caching in kilobytes</p>
<p>&mdash; <a href="https://www.baeldung.com/linux/file-system-caching">https://www.baeldung.com/linux/file-system-caching</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>use the free command to check the amount of file system cache memory in the system. It shows the memory usage in kilobytes under the buff/cache column</p>
<p>&mdash; <a href="https://www.baeldung.com/linux/file-system-caching">https://www.baeldung.com/linux/file-system-caching</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>value of the buff/cache column is the sum of the values of the buffer memory and swap cache rows for vmstat.</p>
<p>&mdash; <a href="https://www.baeldung.com/linux/file-system-caching">https://www.baeldung.com/linux/file-system-caching</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>value of vm.vfs_cache_pressure, which controls the tendency of the kernel to
reclaim the memory used for caching directory and inode objects:</p>
<p>&mdash; <a href="https://www.baeldung.com/linux/file-system-caching">https://www.baeldung.com/linux/file-system-caching</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p><a href="/braindump/posts/what_is_swappiness_on_linux/">Swappiness</a> controls how aggressively the kernel swaps memory pages. Lowering the
value of swappiness means the kernel will be less likely to swap out less
frequently used memory pages. Thus, the kernel will be more likely to keep these
pages cached in RAM for faster access.</p>
<p>&mdash; <a href="https://www.baeldung.com/linux/file-system-caching">https://www.baeldung.com/linux/file-system-caching</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p><a href="/braindump/posts/dirty_pages/">dirty pages</a> are memory pages that aren’t written to secondary memory yet.</p>
<p>&mdash; <a href="https://www.baeldung.com/linux/file-system-caching">https://www.baeldung.com/linux/file-system-caching</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p><a href="/braindump/posts/vm_dirty_ratio_and_vm_dirty_background_ratio/">vm.dirty_background_ratio</a> parameter is the amount of system memory in percentage that can be filled with dirty pages before they’re written to the drive</p>
<p>&mdash; <a href="https://www.baeldung.com/linux/file-system-caching">https://www.baeldung.com/linux/file-system-caching</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>For instance, if we set the value of the vm.dirty_background_ratio parameter of a 64GB RAM system to 10, it entails that 6.4GB of data (dirty pages) can stay in RAM before they’re written to the storage.</p>
<p>&mdash; <a href="https://www.baeldung.com/linux/file-system-caching">https://www.baeldung.com/linux/file-system-caching</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>Alternatively, we can set the vm.dirty_background_bytes variable in place of vm.dirty_background_ratio. The *_bytes version takes the amount of memory in bytes. For example, we can set the amount of memory for dirty background caching to 512MB</p>
<p>&mdash; <a href="https://www.baeldung.com/linux/file-system-caching">https://www.baeldung.com/linux/file-system-caching</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>the *_ratio variant will become 0 if we set the * _bytes variant, and vice versa</p>
<p>&mdash; <a href="https://www.baeldung.com/linux/file-system-caching">https://www.baeldung.com/linux/file-system-caching</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>vm.dirty_ratio is the absolute maximum amount of system memory in percentage that can be filled with dirty pages before they’re written to the drive. At this level, all new I/O activities halt until dirty pages are written to storage.</p>
<p>&mdash; <a href="https://www.baeldung.com/linux/file-system-caching">https://www.baeldung.com/linux/file-system-caching</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>vm.dirty_expire_centisecs manages how long data can be in the cache before it’s written to drive. Let’s set the variable so that data can stay for 40 seconds in the cache:</p>
<p>&mdash; <a href="https://www.baeldung.com/linux/file-system-caching">https://www.baeldung.com/linux/file-system-caching</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>40 seconds before it’s written to the drive. Notably, 1s equals 100 centisecs.</p>
<p>&mdash; <a href="https://www.baeldung.com/linux/file-system-caching">https://www.baeldung.com/linux/file-system-caching</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>vm.dirty_writeback_centisecs is the variable for how often the write background process checks to see if there’s data to write to secondary storage.</p>
<p>&mdash; <a href="https://www.baeldung.com/linux/file-system-caching">https://www.baeldung.com/linux/file-system-caching</a></p>
</blockquote>
<h2 id="permalink"><a href="https://konubinix.eu/braindump/8c07795b-1230-4924-9cc3-e3568a4266b9?title=how_to_configure_file_system_caching_in_linux_baeldung_on_linux">Permalink</a></h2>
      </div>
	  <aside class="date"><time>Last updated: 28 Jun 2023</time></aside>
	  <aside class="date"><time>Published&nbsp;&nbsp;&nbsp;: 28 Jun 2023</time></aside>
    </div>
  </div>
</div>

<script src="/braindump/js/URI.js" type="text/javascript"></script>

<script src="/braindump/js/page.js" type="text/javascript"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</body>
</html>
