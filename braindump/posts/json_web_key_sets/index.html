<!DOCTYPE html>
<html><title>JSON Web Key Sets</title>


<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="google-site-verification" content="bLmaFyyXugiCqSup-eIIIx0B4CngtdF_svyMMKQbS5E" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=10, minimum-scale=0.5, user-scalable=yes">
<meta name="apple-mobile-web-app-capable" content="yes" />
<script src="https://hypothes.is/embed.js" async></script>


<link rel="stylesheet" href="/braindump/css/main.min.56b43bcbc759a196f9dd525bee62bdec45a29ba95902bbab74a4f7ad2ea3e8cb.css"/>

<link rel="stylesheet" href="/braindump/css/links.min.4bf1990b213fb76d2a66153dc6ef9a57d49f536c6baf6e7f19a7948470a38141.css"/>

<link rel="stylesheet" href="/braindump/css/konubinix.min.cf2d0f36945178c647979ee68f1830892e06aa3d481d8913728b5c7462b97f6e.css"/>

<link rel="stylesheet" href="/ipfs/QmQFVQS89fv1XUNFcjwCKDePzckuT9kpuAVNYUwNdEfYcv/css/all.css"/>
<link rel="shortcut icon" href="/ipfs/QmVFwYV7YRZLKU3ybN1hW4jqfyZGPLKJwd8toN2wHz5UAD?a.png" type="image/x-icon" />

<body><header>
  <div>
	<a href="/braindump//"><h5 class="site-title">Konubinix&#39; opinionated web of thoughts</h5></a>
  </div>
  <span>
	<a href="/blog/"><i class="icon fas fa-blog"></i></a>
	<a href="/braindump/posts/"><i class="icon fas fa-brain"></i></a>
    <a href="mailto:konubinixweb@gmail.com"><i class="icon fas fa-envelope-square"></i></a>
    <a href="https://github.com/konubinix"><i class="icon fab fa-github-square"></i></a>
    <a href="https://linkedin.com/in/samuel-loury-61259040"><i class="icon fab fa-linkedin"></i></a>
	<a href="/braindump/graph.html"><i class="icon fas fa-project-diagram"></i></a>
	<a href="/braindump/index.xml"><i class="icon fas fa-rss-square"></i></a>
	<a href="/braindump/tags/"><i class="icon fa fa-tag"></i></a>
	<a href="/braindump/braindump_search"><i class="icon fa fa-search"></i></a>
  </span>
</header>

<div class="grid-container">
  <div class="grid">
    <div class="page" data-level="1">
      <div class="content">
		<p class="lead">
        <h1>JSON Web Key Sets</h1>
		<span class="badge badge-pill badge-warning"><a href="/braindump/tags/fleeting/">Fleeting</a></span></p>
        <ul>
<li>External reference: <a href="https://datatracker.ietf.org/doc/html/rfc7517">https://datatracker.ietf.org/doc/html/rfc7517</a></li>
<li>External reference: <a href="https://auth0.com/docs/secure/tokens/json-web-tokens/json-web-key-sets">https://auth0.com/docs/secure/tokens/json-web-tokens/json-web-key-sets</a></li>
<li>External reference: <a href="https://auth0.com/docs/secure/tokens">https://auth0.com/docs/secure/tokens</a></li>
</ul>
<p>JSON Web Key Sets and JSON Web Key are defined in the same standard.</p>
<p>In <a href="/braindump/posts/openid_connect/">OpenID Connect</a>, you find its <a href="/braindump/posts/json_web_key_sets/">JWKS</a> using the standard
<a href="/braindump/posts/openid_connect_discovery/">well-known/openid-configuration</a>, using the .<a href="/braindump/posts/jwks_uri/">jwks_uri</a> entry (as documented in
<a href="/braindump/posts/oauth_2_0_authorization_server_metadata/">OAuth 2.0 Authorization Server Metadata</a>). It is in general available at
/.<a href="/braindump/posts/well_known_uniform_resource_identifiers/">well-known</a>/jwks.json.</p>
<blockquote>
<p>Do not use <a href="/braindump/posts/openid_connect/#6796313b-7141-4013-848f-bc08edd02472">ID tokens</a> to gain access to an API. Each token contains information
for the intended audience (which is usually the recipient). According to the
OpenID Connect specification, the audience of the ID token (indicated by the aud
claim) must be the client ID of the application making the authentication
request. If this is not the case, you should not trust the token</p>
<p>&mdash; <a href="https://auth0.com/docs/secure/tokens">https://auth0.com/docs/secure/tokens</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>Conversely, an API expects a token with the aud value to equal the API&rsquo;s unique identifier</p>
<p>&mdash; <a href="https://auth0.com/docs/secure/tokens">https://auth0.com/docs/secure/tokens</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>Since the ID token is not signed by the API, the API would have no way of
knowing if the application had modified the token (e.g., adding more scopes) if
it were to accept the ID Token. See the JWT Handbook for more informatio</p>
<p>&mdash; <a href="https://auth0.com/docs/secure/tokens">https://auth0.com/docs/secure/tokens</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>Access tokens must never be used for authentication.</p>
<p>&mdash; <a href="https://auth0.com/docs/secure/tokens">https://auth0.com/docs/secure/tokens</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>Access tokens must never be used for authentication.</p>
<p>&mdash; <a href="https://auth0.com/docs/secure/tokens">https://auth0.com/docs/secure/tokens</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>The only user information the access token possesses is the user ID, located in
the sub claim. In your applications, treat access tokens as opaque strings since
they are meant for APIs. Your application should not attempt to decode them or
expect to receive tokens in a particular format.</p>
<p>&mdash; <a href="https://auth0.com/docs/secure/tokens">https://auth0.com/docs/secure/tokens</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>Note that the token does not contain any information about the user besides
their ID (sub claim). It only contains authorization information about which
actions the application is allowed to perform at the API (scope claim). This is
what makes it useful for securing an API, but not for authenticating a user</p>
<p>&mdash; <a href="https://auth0.com/docs/secure/tokens">https://auth0.com/docs/secure/tokens</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>many cases, you might find it useful to retrieve additional user information at
the API, so the access token is also valid for calling the /userinfo endpoint,
which returns the user&rsquo;s profile information. The intended audience (indicated
by the aud claim) for this token is both your custom API as specified by its
identifier (such as <a href="https://my-api-identifier">https://my-api-identifier</a>) and the /userinfo endpoint (such
as <a href="https://your_domain/userinfo">https://your_domain/userinfo</a>).</p>
<p>&mdash; <a href="https://auth0.com/docs/secure/tokens">https://auth0.com/docs/secure/tokens</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>Item
Description</p>
<p>JSON Web Key (JWK)
A JSON object that represents a cryptographic key. The members of the object represent properties of the key, including its value.</p>
<p>JSON Web Key Set (JWKS)
A JSON object that represents a set of JWKs. The JSON object MUST have a keys member, which is an array of JWKs</p>
<p>&mdash; <a href="https://auth0.com/docs/secure/tokens/json-web-tokens/json-web-key-sets">https://auth0.com/docs/secure/tokens/json-web-tokens/json-web-key-sets</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>The JSON Web Key Set (JWKS) is a set of keys containing the public keys used to verify any JSON Web Token (JWT) issued by the authorization server and signed using the RS256 signing algorithm.</p>
<p>&mdash; <a href="https://auth0.com/docs/secure/tokens/json-web-tokens/json-web-key-sets">https://auth0.com/docs/secure/tokens/json-web-tokens/json-web-key-sets</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>JSON Web Key (JWK) is a JavaScript Object Notation (JSON) data
structure that represents a cryptographic key.</p>
<p>&mdash; <a href="https://datatracker.ietf.org/doc/html/rfc7517">https://datatracker.ietf.org/doc/html/rfc7517</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>JWK Set JSON data structure that represents a set of
JWKs.</p>
<p>&mdash; <a href="https://datatracker.ietf.org/doc/html/rfc7517">https://datatracker.ietf.org/doc/html/rfc7517</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>JSON Web Key (JWK)
A JSON object that represents a cryptographic key.  The members of
the object represent properties of the key, including its value.</p>
<p>&mdash; <a href="https://datatracker.ietf.org/doc/html/rfc7517">https://datatracker.ietf.org/doc/html/rfc7517</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>JWK Set
A JSON object that represents a set of JWKs.  The JSON object MUST
have a &ldquo;keys&rdquo; member, which is an array of JWKs.</p>
<p>&mdash; <a href="https://datatracker.ietf.org/doc/html/rfc7517">https://datatracker.ietf.org/doc/html/rfc7517</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>each JWK will have members that
are key type specific.  These members represent the parameters of the
key.  Section 6 of the JSON Web Algorithms (JWA) [JWA] specification
defines multiple kinds of cryptographic keys and their associated
members.</p>
<p>&mdash; <a href="https://datatracker.ietf.org/doc/html/rfc7517">https://datatracker.ietf.org/doc/html/rfc7517</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>The &ldquo;kty&rdquo; (key type) parameter identifies the cryptographic algorithm
family used with the key, such as &ldquo;RSA&rdquo; or &ldquo;EC&rdquo;.</p>
<p>&mdash; <a href="https://datatracker.ietf.org/doc/html/rfc7517">https://datatracker.ietf.org/doc/html/rfc7517</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>The &ldquo;use&rdquo; parameter is employed to indicate whether
a public key is used for encrypting data or verifying the signature
on data.</p>
<p>&mdash; <a href="https://datatracker.ietf.org/doc/html/rfc7517">https://datatracker.ietf.org/doc/html/rfc7517</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>Values defined by this specification are:</p>
<p>o  &ldquo;sig&rdquo; (signature)
o  &ldquo;enc&rdquo; (encryption)</p>
<p>&mdash; <a href="https://datatracker.ietf.org/doc/html/rfc7517">https://datatracker.ietf.org/doc/html/rfc7517</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>The &ldquo;key_ops&rdquo; (key operations) parameter identifies the operation(s)
for which the key is intended to be used</p>
<p>&mdash; <a href="https://datatracker.ietf.org/doc/html/rfc7517">https://datatracker.ietf.org/doc/html/rfc7517</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>Values defined by
this specification are:</p>
<p>o  &ldquo;sign&rdquo; (compute digital signature or MAC)
o  &ldquo;verify&rdquo; (verify digital signature or MAC)
o  &ldquo;encrypt&rdquo; (encrypt content)
o  &ldquo;decrypt&rdquo; (decrypt content and validate decryption, if applicable)
o  &ldquo;wrapKey&rdquo; (encrypt key)
o  &ldquo;unwrapKey&rdquo; (decrypt key and validate decryption, if applicable)
o  &ldquo;deriveKey&rdquo; (derive key)
o  &ldquo;deriveBits&rdquo; (derive bits not to be used as a key)</p>
<p>&mdash; <a href="https://datatracker.ietf.org/doc/html/rfc7517">https://datatracker.ietf.org/doc/html/rfc7517</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>The &ldquo;alg&rdquo; (algorithm) parameter identifies the algorithm intended for
use with the key.  The values used should either be registered in the
IANA &ldquo;JSON Web Signature and Encryption Algorithms&rdquo; registry
established by [JWA]</p>
<p>&mdash; <a href="https://datatracker.ietf.org/doc/html/rfc7517">https://datatracker.ietf.org/doc/html/rfc7517</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>The &ldquo;kid&rdquo; (key ID) parameter is used to match a specific key</p>
<p>&mdash; <a href="https://datatracker.ietf.org/doc/html/rfc7517">https://datatracker.ietf.org/doc/html/rfc7517</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>The structure of the &ldquo;kid&rdquo; value is
unspecified.  When &ldquo;kid&rdquo; values are used within a JWK Set, different
keys within the JWK Set SHOULD use distinct &ldquo;kid&rdquo; values.</p>
<p>&mdash; <a href="https://datatracker.ietf.org/doc/html/rfc7517">https://datatracker.ietf.org/doc/html/rfc7517</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>The &ldquo;<a href="#fb816e2e-9e6a-4b96-b048-a87aec885136">x5c</a>&rdquo; (X.509 certificate chain) parameter contains a chain of one
or more PKIX certificates [RFC5280].</p>
<p>&mdash; <a href="https://datatracker.ietf.org/doc/html/rfc7517">https://datatracker.ietf.org/doc/html/rfc7517</a></p>
</blockquote>
<!--quoteend-->
<blockquote>
<p>The value of the &ldquo;keys&rdquo; parameter is an array of JWK values</p>
<p>&mdash; <a href="https://datatracker.ietf.org/doc/html/rfc7517">https://datatracker.ietf.org/doc/html/rfc7517</a></p>
</blockquote>
<h2 id="fb816e2e-9e6a-4b96-b048-a87aec885136">x5c</h2>
<!--more-->
<h2 id="notes-linking-here">Notes linking here</h2>
<ul>
<li><a href="/braindump/posts/generate_some_jwks/">generate some jwks</a></li>
<li><a href="https://konubinix.eu/blog/posts/how_do_i_create_an_oauth_2_0_oidc_resource_server/?title=how_do_i_create_an_oauth_2_0_oidc_resource_server#">how do I create an OAuth 2.0/OIDC resource server?</a> (blog)</li>
<li><a href="/braindump/posts/jwks_uri/">jwks_uri</a></li>
<li><a href="/braindump/posts/openid_connect_discovery/">OpenID Connect Discovery</a></li>
</ul>
<h2 id="permalink"><a href="https://konubinix.eu/braindump/94e9d95e-d962-43f5-89d7-75e792df4988?title=json_web_key_sets">Permalink</a></h2>
      </div>
	  <aside class="date"><time>Last updated: 06 Nov 2024</time></aside>
	  <aside class="date"><time>Published&nbsp;&nbsp;&nbsp;: 16 May 2022</time></aside>
    </div>
  </div>
</div>

<script src="/braindump/js/URI.js" type="text/javascript"></script>

<script src="/braindump/js/page.js" type="text/javascript"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</body>
</html>
