<!DOCTYPE html>
<html><meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="google-site-verification" content="bLmaFyyXugiCqSup-eIIIx0B4CngtdF_svyMMKQbS5E" />
<script src="https://hypothes.is/embed.js" async></script>
<title>My Double Entry Bookkeeping Model &middot; Konubinix&#39; Site</title>

<link rel="stylesheet" href="/blog/css/main.min.8e2ccebba2bd2b151f513c5ea3c62a25d4614364fb0bc5a0261ccdc2b49f020047a52512e7e59e5d513e3aec1ed4fedb503d494c430c930053ef8f6c8a5d7d23.css" integrity="sha512-jizOu6K9KxUfUTxeo8YqJdRhQ2T7C8WgJhzNwrSfAgBHpSUS5&#43;WeXVE&#43;Ouwe1P7bUD1JTEMMkwBT749sil19Iw==" type="text/css" />


<link rel="stylesheet" href="/ipfs/QmQFVQS89fv1XUNFcjwCKDePzckuT9kpuAVNYUwNdEfYcv/css/all.css"/>
<link rel="stylesheet" href="/blog/css/links.min.66488b1bd98835c9d323aceb9cb379cbdf615c46936837066b038781a80444ba.css"/>
<script type="text/javascript"
		src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<link rel="shortcut icon" href="/ipfs/QmVFwYV7YRZLKU3ybN1hW4jqfyZGPLKJwd8toN2wHz5UAD?a.png" type="image/x-icon" />

<body class="container"><header>
	<a href="/blog//"><h5 class="site-title">Konubinix&#39; site</h5></a>
  <nav class="footer-nav">
  <ul>
	<li><a href="/blog/posts/"><i class="icon fas fa-blog"></i></a></li>
    <li><a href="/braindump/"><i class="fas fa-brain"></i></a></li>
    <li><a href="mailto:konubinixweb@gmail.com"><i class="fas fa-envelope-square"></i></a></li>
    <li><a href="https://github.com/konubinix"><i class="fab fa-github-square"></i></a></li>
    <li><a href="https://linkedin.com/in/samuel-loury-61259040"><i class="fab fa-linkedin"></i></a></li>
    <li><a href="/blog/index.xml"><i class="fas fa-rss-square"></i></a></li>
	<li><a href="/blog/tags/"><i class="fa fa-tag"></i></a></li>
    <li><a href="/blog/blog_search"><i class="icon fa fa-search"></i></a></li>
  </ul>
</nav>

</header>

<main>
  <header>
	<h1 class="underline">My Double Entry Bookkeeping Model</h1>
	</header>
  <article>
	<ul>
<li>see,
<ul>
<li><a href="https://konubinix.eu/braindump/posts/ledger/?title=ledger#">ledger</a>,</li>
<li><a href="https://konubinix.eu/braindump/posts/accounting/?title=accounting#">accounting</a>,</li>
</ul>
</li>
</ul>
<p>my double entry bookkeeping model</p>
<p>In the classical <a href="https://konubinix.eu/braindump/posts/double_entry_bookkeeping/?title=double_entry_bookkeeping#">double-entry bookkeeping</a>, one notes the flow of the cash
ahead of time moving from one accounts to accounts.</p>
<p>Then, when the money moves for real, the transaction is reconciled.</p>
<p>Say I have three bank accounts, BA1, BA2 and BA3, a few Expense accounts and an
Income account called work.</p>
<figure><img src="https://konubinix.eu/ipfs/bafybeigqrl7hynlpl6cotcyebsryohi3oeb7sajm6hugxqgrkvamydhakm?filename=a.png">
</figure>

<p>I would write the transactions (in green) between my bank accounts (in brown)
and the expenses (in purple) or the income (in orange). Then, I would check the
transactions that actually happened (in green). Generally, the reconciling
process happen with some paper based monthly report from the bank as a source of
truth.</p>
<p>So far so good.</p>
<p>But I happen to also use <a href="https://konubinix.eu/braindump/posts/weboob/?title=weboob#">weboob</a> to automatically get some <a href="https://konubinix.eu/braindump/posts/ledger_cli/?title=ledger_cli#">ledger cli</a>
formatted entries. Those are my source of truth and I don&rsquo;t want to modify them.</p>
<p>I then have something like the brown part of the following picture.</p>
<figure><img src="https://konubinix.eu/ipfs/bafybeihy6c7o26xq7sl3k53cxotgcvk4wzailhmbhshcsdsjjhc4fzfeo4?filename=a.png">
</figure>

<p>Henceforth, the brown part means &ldquo;what is actually acknowledged by my bank&rdquo;.</p>
<p>I then have to manually link the brown arrows to the associated accounts (the
red waves).</p>
<p>When the transaction is between two of my bank accounts, I need to merge the
associated transactions.</p>
<p>One of the main advantage of bookkeeping is the possibility to write the
transaction ahead of time. This is a problem since this means that I write an
arrow (in purple) from my bank account to the expense account but another link
will appear when I will scrap my bank data.</p>
<figure><img src="https://konubinix.eu/ipfs/bafkreialwhvopflsdhbwhqy3q2wwt4d7uan4ehsee35qjnvbgmqzcn4wrq?filename=a.png">
</figure>

<p>I would then have to merge those links, which is cumbersome.</p>
<p>My solution is to add another category of accounts: virtual (in green).</p>
<p>Virtual accounts basically represent some temporary virtual location where my
money is before it is actually moved.</p>
<figure><img src="https://konubinix.eu/ipfs/bafybeialwbsva7jq6niggdnvwrfvni5rriful2h6jaajdalm5zghtv3fgq?filename=a.png">
</figure>

<p>When writing my transactions, I write them from/to virtual accounts and
expenses/income accounts (in green). This still allows me to see where the money
is expected to move.</p>
<p>When I get my bank information (in brown), I only need to link them to the
associated virtual account (red waves).</p>
<p>My virtual accounts are sub accounts of my bank account (the blue cloud) so that
I can easily see my net-worth balance and expected cash flow.</p>
<p>For sometime actually, I have a whole category virtual, not part of the
assets. But then I needed to move money across my bank accounts.</p>
<p>I tried to have some kind of virtual account representing a transfer, but in
contrast to classical flow, it did not have an expense or an income account to
move the money to/from.</p>
<figure><img src="https://konubinix.eu/ipfs/bafybeidz5wzzj4cof3ga6vc3j25zt6kh2rayzqjaktdkcsicashs76wg7u?filename=a.png">
</figure>

<p>It needed some kind of loop transaction to show that no money was actually lost
from my assets.</p>
<p>Then I realized that each bank account had its own horizon (the blue cloud),
that the virtual account are basically interface between horizons and that
having a virtual account for the other bank account totally made sense.</p>
<p>In this model, moving money from one bank account to another looks like this:</p>
<figure><img src="https://konubinix.eu/ipfs/bafybeifajet2c7umfffkqgjqt47ebhf3wo6tx6p5rrv3mhicyu42sdkjsq?filename=a.png">
</figure>

<p>I first write down the transfer between the virtual accounts (in green). It
shows the expected flow from one bank account to the other.</p>
<p>Then, when my bank report is got (in brown), I can simply reconcile (red waves).</p>
<p>Eventually, I get a system that works. See for instance this real life scenario.</p>
<figure><img src="https://konubinix.eu/ipfs/bafybeifgk7ye7sqqq2yjuvynaefaqw5v7l6vj4caqpkmbgxbep3as6uxse?filename=a.png">
</figure>

<p>In this drawing, I can see that my employer had to pay me (the orange part is
linked to the virtual account) but did not pay me yet (not brown link to the
bank account yet). I have then taken some money from BA2. When entering the
transaction, I just had the green link from BA2:BA1 to BA1:BA2, then, when the
bank actually moved the money, I could see the brown arrows from BA2 to BA2:BA1
and from BA1:BA2 to BA1.</p>
<p>The same goes in the part where I repay my loan or fill another bank
account. Those happen automatically, so the green part are written at the
beginning of the year and the brown links are reconciled when the money is
actually moved.</p>
<p>With this model, I believe I finally can keep the data scrapped by <a href="https://konubinix.eu/braindump/posts/weboob/?title=weboob#">weboob</a>
as-is while getting the advantage of the <a href="https://konubinix.eu/braindump/posts/double_entry_bookkeeping/?title=double_entry_bookkeeping#">double-entry bookkeeping</a>, writing
the transactions ahead of time and reconciling them afterwards.</p>
<!--more-->
<h2 id="notes-linking-here">Notes linking here</h2>
<ul>
<li><a href="https://konubinix.eu/braindump/posts/accounting/?title=accounting#">accounting</a> (braindump)</li>
</ul>
<h2 id="permalink"><a href="https://konubinix.eu/blog/6eb13096-a00e-4b1d-a917-be0ad3d0df52?title=my_double_entry_bookkeeping_model">Permalink</a></h2>
  </article>
  <aside class="date"><time>Last updated: 05 Aug 2022</time></aside>
  <aside class="date"><time>Published&nbsp;&nbsp;&nbsp;: 02 Mar 2021</time></aside>
</main>
<hr/>
<footer>
  <nav class="footer-nav">
  <ul>
	<li><a href="/blog/posts/"><i class="icon fas fa-blog"></i></a></li>
    <li><a href="/braindump/"><i class="fas fa-brain"></i></a></li>
    <li><a href="mailto:konubinixweb@gmail.com"><i class="fas fa-envelope-square"></i></a></li>
    <li><a href="https://github.com/konubinix"><i class="fab fa-github-square"></i></a></li>
    <li><a href="https://linkedin.com/in/samuel-loury-61259040"><i class="fab fa-linkedin"></i></a></li>
    <li><a href="/blog/index.xml"><i class="fas fa-rss-square"></i></a></li>
	<li><a href="/blog/tags/"><i class="fa fa-tag"></i></a></li>
    <li><a href="/blog/blog_search"><i class="icon fa fa-search"></i></a></li>
  </ul>
</nav>

  <p>&copy; 2025 Samuel Loury</p>
</footer>
</body>
</html>
