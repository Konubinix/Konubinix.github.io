<!DOCTYPE html>
<html><meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="google-site-verification" content="bLmaFyyXugiCqSup-eIIIx0B4CngtdF_svyMMKQbS5E" />
<script src="https://hypothes.is/embed.js" async></script>
<title>Pragmatic Git Workflow &middot; Konubinix&#39; Site</title>

<link rel="stylesheet" href="/blog/css/main.min.8e2ccebba2bd2b151f513c5ea3c62a25d4614364fb0bc5a0261ccdc2b49f020047a52512e7e59e5d513e3aec1ed4fedb503d494c430c930053ef8f6c8a5d7d23.css" integrity="sha512-jizOu6K9KxUfUTxeo8YqJdRhQ2T7C8WgJhzNwrSfAgBHpSUS5&#43;WeXVE&#43;Ouwe1P7bUD1JTEMMkwBT749sil19Iw==" type="text/css" />


<link rel="stylesheet" href="/ipfs/QmQFVQS89fv1XUNFcjwCKDePzckuT9kpuAVNYUwNdEfYcv/css/all.css"/>
<link rel="stylesheet" href="/blog/css/links.min.66488b1bd98835c9d323aceb9cb379cbdf615c46936837066b038781a80444ba.css"/>
<script type="text/javascript"
		src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<link rel="shortcut icon" href="/ipfs/QmVFwYV7YRZLKU3ybN1hW4jqfyZGPLKJwd8toN2wHz5UAD?a.png" type="image/x-icon" />

<body class="container"><header>
	<a href="/blog//"><h5 class="site-title">Konubinix&#39; site</h5></a>
  <nav class="footer-nav">
  <ul>
	<li><a href="/blog/posts/"><i class="icon fas fa-blog"></i></a></li>
    <li><a href="/braindump/"><i class="fas fa-brain"></i></a></li>
    <li><a href="mailto:konubinixweb@gmail.com"><i class="fas fa-envelope-square"></i></a></li>
    <li><a href="https://github.com/konubinix"><i class="fab fa-github-square"></i></a></li>
    <li><a href="https://linkedin.com/in/samuel-loury-61259040"><i class="fab fa-linkedin"></i></a></li>
    <li><a href="/blog/index.xml"><i class="fas fa-rss-square"></i></a></li>
	<li><a href="/blog/tags/"><i class="fa fa-tag"></i></a></li>
    <li><a href="/blog/blog_search"><i class="icon fa fa-search"></i></a></li>
  </ul>
</nav>

</header>

<main>
  <header>
	<h1 class="underline">Pragmatic Git Workflow</h1>
	<span class="badge badge-pill badge-warning"><a href="/blog/tags/fleeting/">Fleeting</a></span></header>
  <article>
	<div class="ox-hugo-toc toc">
<div class="heading">Table of Contents</div>
<ul>
<li><a href="#585109d2-4d8f-45c5-9b17-f45ed6cf9926">common principles</a></li>
<li><a href="#a76a4efb-a86f-47b7-8ffb-7519ef2da74b">use a method to keep cognitive load low</a></li>
<li><a href="#af3677f4-73f6-4dc9-a59d-6f4766a1c5da">the method I suggest</a></li>
<li><a href="#e5fd4794-cca6-483f-b791-81a7b0fe4a3a">you don&rsquo;t want to start with master</a></li>
<li><a href="#de312004-027f-4b23-9ab1-b97bfec4bac1">never rebase a short-lived branch on top of another</a></li>
<li><a href="#26d5a1da-56e0-4b11-a1ce-598fcb4fd20c">develop is a magnet</a></li>
<li><a href="#notes-linking-here">Notes linking here</a></li>
<li><a href="#permalink">Permalink</a></li>
</ul>
</div>
<!--endtoc-->
<ul>
<li>see,
<ul>
<li><a href="https://konubinix.eu/braindump/posts/best_practices/?title=best_practices#">best practices</a>,</li>
<li><a href="https://konubinix.eu/braindump/posts/gitflow/?title=gitflow#">gitflow</a>,</li>
<li><a href="https://konubinix.eu/braindump/posts/git_hash_algorithm_analysis/?title=difference_between_engineering_and_theory_is_that_engineering_makes_trade_offs#difference-between-engineering-and-theory-is-that-engineering-makes-trade-offs">difference between engineering and theory is that engineering makes trade-offs</a>,</li>
<li><a href="https://konubinix.eu/braindump/posts/technically_correct_is_not_necessarily_the_best_form_of_correct/?title=technically_correct_is_not_necessarily_the_best_form_of_correct#">technically correct is not necessarily the best form of correct</a>,</li>
<li><a href="https://konubinix.eu/braindump/posts/two_minutes_rule/?title=two_minutes_rule#">two minutes rule</a> (because it shares the idea of looking for avoiding putting unnecessary <a href="https://konubinix.eu/braindump/posts/charge_mentale/?title=charge_mentale#">cognitive load</a> into the system),</li>
</ul>
</li>
</ul>
<p>TL;DR: <a href="#org-target--mywayofthinking">See what flow I would suggest to apply</a>.</p>
<p>I have read a few things about <a href="https://konubinix.eu/braindump/posts/gitflow/?title=gitflow#">gitflow</a>, <a href="https://konubinix.eu/braindump/posts/github_flow/?title=github_flow#">github flow</a>, <a href="https://konubinix.eu/braindump/posts/trunk_based_development/?title=trunk_based_development#">trunk based
development</a> and maybe a few others fancy git flow methods.</p>
<p>People often fall into being <a href="https://konubinix.eu/braindump/posts/hooligan_politique/?title=hooligan_politique#">hooligan</a> of X, Y or Z. Creating <a href="https://konubinix.eu/braindump/posts/red_herring/?title=red_herring#">useless debates</a>
about which one is &ldquo;the best&rdquo;.  In my mind, they all are great, and one should
definitively think carefully about the context in which a method is used.</p>
<h2 id="585109d2-4d8f-45c5-9b17-f45ed6cf9926">common principles</h2>
<p>Whatever method you are using, I think you will agree on some common principles:</p>
<ul>
<li>to work together on the some common code base,</li>
<li>to temporarily and locally freeze a piece of code to be able to work on it
until the state of &ldquo;this works&rdquo;,</li>
<li>to easily put the local piece of code into the globally shared code,</li>
<li>to easily freeze the global code at some point to stabilize it and send it in
production whenever you need to,
<ul>
<li>while still allowing people to continue working on future versions of the code,</li>
</ul>
</li>
<li>to keep track on what was stable and is able to be sent in production,</li>
</ul>
<p>In this note, I use the gitflow names. Not that I like those, but people are
used to them.</p>
<dl>
<dt>develop</dt>
<dd>the branch that contains the shared people&rsquo;s work,</dd>
<dt>master</dt>
<dd>a branch containing only the stable versions of develop,</dd>
</dl>
<h2 id="a76a4efb-a86f-47b7-8ffb-7519ef2da74b">use a method to keep <a href="https://konubinix.eu/braindump/posts/charge_mentale/?title=charge_mentale#">cognitive load</a> low</h2>
<p>One could argue that we should avoid raising barriers and let the developers
intuitively decide what is &ldquo;good&rdquo; or &ldquo;bad&rdquo;. I like this idea, but to me, doing
so needs the developers to spend some <a href="https://konubinix.eu/braindump/posts/charge_mentale/?title=charge_mentale#">cognitive load</a> for every decision and it
becomes exhausting. I&rsquo;d rather have a method that guides the developers and let
them focus on the actual work. To do so, I feel like the barriers (the method)
should follow principles that make sense in the context and should be changed if
need be. In other words, the method should help you doing your work without
thinking much about the method. <a href="https://konubinix.eu/braindump/posts/shape_your_tools_don_t_let_your_tools_shape_you/?title=shape_your_tools_don_t_let_your_tools_shape_you#">Shape your tools, don&rsquo;t let your tools shape
you</a>.</p>
<p>The gitflow is described as a very strict method. In a big team, that might make
sense, but I generally work in small teams. I still like several of it&rsquo;s
properties (like the <a href="https://konubinix.eu/braindump/posts/short_lived_branch/?title=short_lived_branch#">short-lived branch</a>es concept). I don&rsquo;t want to have a flow
that would be incompatible with choosing to use the gitflow when the team grows.
Indeed, I think that with a team big enough, a strict gitflow framework might be
a good idea.</p>
<p>One aspect that I struggle with in gitflow is the &ldquo;master&rdquo; branch. I feel like I
can use git tags to keep track of the stable versions of develop and it works
pretty well in the small teams I have worked with.</p>
<p>On the other hand, I guess that a team big enough would result in a pretty
unstable develop branch. Having a process to stabilize the code out of develop
and put it into another long-lived branch might make sense then.</p>
<p>But, when there is no need to maintain that stable long-lived branch, because
develop became stable enough, I don&rsquo;t see the point of maintaining the master
branch anymore. In my mind, master should be more of a medium-lived branch
rather than a long-lived branch.</p>
<p>In other terms, I want a flow that embraces the speed and the complexity of the
team. It should not annoy the team members, while supporting rapid paced team
work and slower release times.</p>
<h2 id="af3677f4-73f6-4dc9-a59d-6f4766a1c5da">the method I suggest</h2>
<p>What I suggest here is, I think, a dynamic method to</p>
<ul>
<li>avoid the slowness of all the rigor of gitflow when it is unnecessary,</li>
<li>while still being compatible with adding some of gitflow features when need be,</li>
<li>and possibly moving to the full gitflow method if it makes sense.</li>
</ul>
<p><span class="org-target" id="org-target--mywayofthinking"></span> Therefore, my (hopefully) pragmatic workflow is:</p>
<ol>
<li>we don&rsquo;t use this &ldquo;master&rdquo; branch at first. It might be useful later, but not at first,</li>
<li>we start with a single develop branch, and work on it</li>
<li>tag from time to time when you need to release</li>
<li>when people start coming in the project, use short-lived (feature, bugfix,
experimental) branches at will</li>
<li>but don&rsquo;t force not to use develop (see <a href="#26d5a1da-56e0-4b11-a1ce-598fcb4fd20c">develop is a magnet</a>). Only use short-lived branches when you
feel you need it,
<ul>
<li>use a short-lived branch when your work will take some time, or needs a
review before being merged.</li>
<li>merge the code back on develop using <a href="https://konubinix.eu/braindump/posts/merge_bubble/?title=merge_bubble#">merge bubble</a>. It makes history much
easier to read than simple merges</li>
<li>NEVER rebase a <a href="https://konubinix.eu/braindump/posts/short_lived_branch/?title=short_lived_branch#">short-lived branch</a> on top of another (see <a href="#org-target--never-rebase">below</a> why)</li>
<li>use your <a href="https://konubinix.eu/braindump/posts/machine_associative/?title=machine_associative#">gut feeling</a>. Prefer using a <a href="https://konubinix.eu/braindump/posts/branch_by_abstraction/?title=branch_by_abstraction#">branch by abstraction</a> if you think it
is better suited in this particular case,</li>
</ul>
</li>
<li>but, don&rsquo;t make the life time of some jira ticket impact the life time of
your short lived branches. Short lived branches must be as small as possible,
and you should merge then on develop as soon as possible, even though you
have (as it is often the case I would say) an unclear jira ticket that may
take weeks.
<ul>
<li>be aware and be good with the fact that a jira ticket may take more than
one short lived branch to be done.</li>
<li>don&rsquo;t get used to close your jira tickets when a short lived branch is
merges on develop.</li>
</ul>
</li>
<li>continue tagging on the developer branch</li>
<li>never git merge outside of the flow. A merge must have a semantic value, it is
not just a tool to get content from coworkers,</li>
<li>if at some point the team is big enough that the develop branch struggles
being stable, start using a release branch and tag on a separate &ldquo;master&rdquo; branch
(the master branch is somehow a pseudo-<a href="https://konubinix.eu/braindump/posts/long_lived_branch/?title=long_lived_branch#">long-lived branch</a>, remaining only until
develop becomes stable again)
<ul>
<li>use standard merges to move the code back and forth the long-lived branches</li>
</ul>
</li>
<li>if at some point the team becomes short again and develop becomes stable
again, remove the master branch and go back to tagging on develop</li>
</ol>
<p>You can claim that this is actually gitflow, trunk based development or
whatever. I prefer avoid the <a href="https://konubinix.eu/braindump/posts/debat_semantique/?title=debat_semantique#">semantic debate</a> of what is gitflow or what is trunk
based development and simply call it pragmatic git workflow.</p>
<h2 id="e5fd4794-cca6-483f-b791-81a7b0fe4a3a">you don&rsquo;t want to start with master</h2>
<p>Trying to blindly maintain a &ldquo;master&rdquo; branch, just because it is written in the
gitflow will require a lot of <a href="https://konubinix.eu/braindump/posts/charge_mentale/?title=charge_mentale#">cognitive load</a> maintaining it without much
interest. People will likely simply forget about it and tag on develop
anyway. Using a more dynamic gitflow branching model, with &ldquo;master&rdquo; appearing
only when you need it, should allow you to have a system that does not require
much <a href="https://konubinix.eu/braindump/posts/charge_mentale/?title=charge_mentale#">cognitive load</a> when it is not necessary.</p>
<p>In the case someone wants to apply the dynamic branching model but start with
master instead of develop, I don&rsquo;t think this would be a good idea. I cannot
<a href="https://konubinix.eu/braindump/posts/intellectually_honest/?title=intellectually_honest#">honestly believe</a> that a small team will work on this branch with the rigidity
that a master branch eventually needs. When the develop branch exists, the team
will already have learned that the master branch is not strict. Also, when the
time comes to create two <a href="https://konubinix.eu/braindump/posts/long_lived_branch/?title=long_lived_branch#">long-lived branch</a>, the developers would need to migrate
to develop to leave &ldquo;master&rdquo; alone. Therefore, I think it is better to make
people start working on develop.</p>
<h2 id="de312004-027f-4b23-9ab1-b97bfec4bac1"><span class="org-target" id="org-target--never-rebase"></span> never rebase a short-lived branch on top of another</h2>
<p>I want to insist on the fact that you should never rebase a <a href="https://konubinix.eu/braindump/posts/short_lived_branch/?title=short_lived_branch#">short-lived branch</a>
on top of another one. The main point of a short-lived branch is that you can do
whatever you want on it before merging it in a <a href="https://konubinix.eu/braindump/posts/long_lived_branch/?title=long_lived_branch#">long-lived branch</a>. If someone
starts rebasing on your branch, you will end up wanting to &ldquo;be nice&rdquo; and keep
the branch stable, avoiding changing its history and guessing twice before
adding changes that may &ldquo;break&rdquo; it. In other terms, it starts behaving like a
long-lived branch. If that is so, be <a href="https://konubinix.eu/braindump/posts/intellectually_honest/?title=intellectually_honest#">intellectually honest</a> and prefer splitting
the task at hand, merging its current content in the associated long-lived
branch and start a new short-lived branch to finish the work.</p>
<p>I actually have seen teams progressively abandon one long-lived branch like
&ldquo;develop&rdquo; to migrate to a short-lived branch working on something everyone
needs. In that case, prefer merging the code in the long-lived branch and (make
clear the fact everyone is working on it) than letting the attention slide to
another branch, that does not have the appropriate CI tooling and meaning.</p>
<h2 id="26d5a1da-56e0-4b11-a1ce-598fcb4fd20c">develop is a magnet</h2>
<p>Like a magnet, I think you should always be attracted to put the code in the
develop branch.</p>
<p>Like a magnet, you can temporarily make the effort of resisting its attraction
(using short living branches). But even then, you should still feel the
attraction of coming back on it.</p>
<p>The short lived branches should be as short as possible.</p>
<!--more-->
<h2 id="notes-linking-here">Notes linking here</h2>
<ul>
<li><a href="https://konubinix.eu/braindump/posts/sonarqube/?title=defining_what_projectversion_means#defining-what-projectversion-means">defining what &ldquo;projectVersion&rdquo; means</a> (braindump)</li>
<li><a href="https://konubinix.eu/braindump/posts/is_merge_pull_request_a_good_thing/?title=is_merge_pull_request_a_good_thing#">is merge/pull request a good thing?</a> (braindump)</li>
<li><a href="https://konubinix.eu/braindump/posts/sonar_new_code_definition/?title=sonar_new_code_definition_is_not_adapted_to_the_pragmatic_git_workflow#sonar-new-code-definition-is-not-adapted-to-the-pragmatic-git-workflow">sonar new code definition is not adapted to the pragmatic git workflow</a> (braindump)</li>
</ul>
<h2 id="permalink"><a href="https://konubinix.eu/blog/4e310528-a716-4639-96ad-0cc5dcb2854d?title=pragmatic_git_workflow">Permalink</a></h2>
  </article>
  <aside class="date"><time>Last updated: 16 May 2024</time></aside>
  <aside class="date"><time>Published&nbsp;&nbsp;&nbsp;: 15 Oct 2021</time></aside>
</main>
<hr/>
<footer>
  <nav class="footer-nav">
  <ul>
	<li><a href="/blog/posts/"><i class="icon fas fa-blog"></i></a></li>
    <li><a href="/braindump/"><i class="fas fa-brain"></i></a></li>
    <li><a href="mailto:konubinixweb@gmail.com"><i class="fas fa-envelope-square"></i></a></li>
    <li><a href="https://github.com/konubinix"><i class="fab fa-github-square"></i></a></li>
    <li><a href="https://linkedin.com/in/samuel-loury-61259040"><i class="fab fa-linkedin"></i></a></li>
    <li><a href="/blog/index.xml"><i class="fas fa-rss-square"></i></a></li>
	<li><a href="/blog/tags/"><i class="fa fa-tag"></i></a></li>
    <li><a href="/blog/blog_search"><i class="icon fa fa-search"></i></a></li>
  </ul>
</nav>

  <p>&copy; 2025 Samuel Loury</p>
</footer>
</body>
</html>
